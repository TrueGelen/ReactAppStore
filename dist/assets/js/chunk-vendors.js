(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(e,t,n){"use strict";e.exports=n(50)},function(e,t,n){e.exports=n(57)()},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return Ue})),n.d(t,"c",(function(){return be})),n.d(t,"d",(function(){return Ye})),n.d(t,"e",(function(){return ne})),n.d(t,"f",(function(){return rt})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return st})),n.d(t,"i",(function(){return Nt})),n.d(t,"j",(function(){return xt})),n.d(t,"k",(function(){return Bt})),n.d(t,"l",(function(){return X})),n.d(t,"m",(function(){return Xe})),n.d(t,"n",(function(){return We})),n.d(t,"o",(function(){return ht})),n.d(t,"p",(function(){return ce}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}var c="An invariant failed, however the error is obfuscated because this is an production build.",l=[];Object.freeze(l);var h={};function f(){return++Ne.mobxGuid}function p(e){throw d(!1,e),"X"}function d(e,t){if(!e)throw new Error("[mobx] "+(t||c))}Object.freeze(h);function m(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var y=function(){};function v(e){return null!==e&&"object"==typeof e}function g(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function b(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function w(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return v(e)&&!0===e[n]}}function E(e){return e instanceof Map}function T(e){return e instanceof Set}function S(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach((function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)})),Array.from(t)}function I(e){return e&&e.toString?e.toString():new String(e).toString()}function k(e){return null===e?null:"object"==typeof e?""+e:e}var C=Symbol("mobx administration"),A=function(){function e(e){void 0===e&&(e="Atom@"+f()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=J.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return Me(this)},e.prototype.reportChanged=function(){Re(),function(e){if(e.lowestObserverState===J.STALE)return;e.lowestObserverState=J.STALE,e.observers.forEach((function(t){t.dependenciesState===J.UP_TO_DATE&&(t.isTracing!==Z.NONE&&Ve(t,e),t.onBecomeStale()),t.dependenciesState=J.STALE}))}(this),Le()},e.prototype.toString=function(){return this.name},e}(),N=w("Atom",A);function _(e,t,n){void 0===t&&(t=y),void 0===n&&(n=y);var r,i=new A(e);return t!==y&&nt("onBecomeObserved",i,t,r),n!==y&&tt(i,n),i}var D={identity:function(e,t){return e===t},structural:function(e,t){return Qt(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return Qt(e,t,1)}},O=Symbol("mobx did run lazy initializers"),x=Symbol("mobx pending decorators"),P={},R={};function L(e,t){var n=t?P:R;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return M(this),this[e]},set:function(t){M(this),this[e]=t}})}function M(e){if(!0!==e[O]){var t=e[x];if(t)for(var n in b(e,O,!0),t){var r=t[n];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function V(e,t){return function(){var n,r=function(r,i,a,s){if(!0===s)return t(r,i,a,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,x)){var u=r[x];b(r,x,o({},u))}return r[x][i]={prop:i,propertyCreator:t,descriptor:a,decoratorTarget:r,decoratorArguments:n},L(i,e)};return U(arguments)?(n=l,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function U(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]||4===e.length&&!0===e[3]}function F(e,t,n){return lt(e)?e:Array.isArray(e)?X.array(e,{name:n}):g(e)?X.object(e,void 0,{name:n}):E(e)?X.map(e,{name:n}):T(e)?X.set(e,{name:n}):e}function j(e){return e}function q(t){d(t);var n=V(!0,(function(e,n,r,i,o){var a=r?r.initializer?r.initializer.call(e):r.value:void 0;Vt(e).addObservableProp(n,a,t)})),r=(void 0!==e&&e.env,n);return r.enhancer=t,r}var B={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function z(e){return null==e?B:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(B);var K=q(F),W=q((function(e,t,n){return null==e?e:Bt(e)||Nt(e)||xt(e)||Lt(e)?e:Array.isArray(e)?X.array(e,{name:n,deep:!1}):g(e)?X.object(e,void 0,{name:n,deep:!1}):E(e)?X.map(e,{name:n,deep:!1}):T(e)?X.set(e,{name:n,deep:!1}):p(!1)})),Q=q(j),G=q((function(e,t,n){return Qt(e,t)?t:e}));function H(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?j:F}var Y={box:function(e,t){arguments.length>2&&$("box");var n=z(t);return new Te(e,H(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&$("array");var n=z(t);return St(e,H(n),n.name)},map:function(e,t){arguments.length>2&&$("map");var n=z(t);return new Ot(e,H(n),n.name)},set:function(e,t){arguments.length>2&&$("set");var n=z(t);return new Rt(e,H(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&$("object");var r=z(n);if(!1===r.proxy)return it({},e,t,r);var i=ot(r),o=it({},void 0,void 0,r),a=mt(o);return at(a,e,t,i),a},ref:Q,shallow:W,deep:K,struct:G},X=function(e,t,n){if("string"==typeof arguments[1])return K.apply(null,arguments);if(lt(e))return e;var r=g(e)?X.object(e,t,n):Array.isArray(e)?X.array(e,t):E(e)?X.map(e,t):T(e)?X.set(e,t):e;if(r!==e)return r;p(!1)};function $(e){p("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(Y).forEach((function(e){return X[e]=Y[e]}));var J,Z,ee=V(!1,(function(e,t,n,r,i){var a=n.get,s=n.set,u=i[0]||{};Vt(e).addComputedProp(e,t,o({get:a,set:s,context:e},u))})),te=ee({equals:D.structural}),ne=function(e,t,n){if("string"==typeof t)return ee.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return ee.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new Se(r)};ne.struct=te,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(J||(J={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Z||(Z={}));var re=function(e){this.cause=e};function ie(e){return e instanceof re}function oe(e){switch(e.dependenciesState){case J.UP_TO_DATE:return!1;case J.NOT_TRACKING:case J.STALE:return!0;case J.POSSIBLY_STALE:for(var t=le(),n=e.observing,r=n.length,i=0;i<r;i++){var o=n[i];if(Ie(o)){if(Ne.disableErrorBoundaries)o.get();else try{o.get()}catch(e){return he(t),!0}if(e.dependenciesState===J.STALE)return he(t),!0}}return de(e),he(t),!1}}function ae(e){var t=e.observers.size>0;Ne.computationDepth>0&&t&&p(!1),Ne.allowStateChanges||!t&&"strict"!==Ne.enforceActions||p(!1)}function se(e,t,n){var r=fe(!0);de(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Ne.runId;var i,o=Ne.trackingDerivation;if(Ne.trackingDerivation=e,!0===Ne.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new re(e)}return Ne.trackingDerivation=o,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=J.UP_TO_DATE,i=0,o=e.unboundDepsCount,a=0;a<o;a++){0===(s=n[a]).diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState)}n.length=i,e.newObserving=null,o=t.length;for(;o--;){0===(s=t[o]).diffValue&&xe(s,e),s.diffValue=0}for(;i--;){var s;1===(s=n[i]).diffValue&&(s.diffValue=0,Oe(s,e))}r!==J.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),pe(r),i}function ue(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)xe(t[n],e);e.dependenciesState=J.NOT_TRACKING}function ce(e){var t=le();try{return e()}finally{he(t)}}function le(){var e=Ne.trackingDerivation;return Ne.trackingDerivation=null,e}function he(e){Ne.trackingDerivation=e}function fe(e){var t=Ne.allowStateReads;return Ne.allowStateReads=e,t}function pe(e){Ne.allowStateReads=e}function de(e){if(e.dependenciesState!==J.UP_TO_DATE){e.dependenciesState=J.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=J.UP_TO_DATE}}var me=0,ye=1;function ve(e,t,n){var r=function(){return ge(e,t,n||this,arguments)};return r.isMobxAction=!0,r}function ge(e,t,n,r){var i=function(e,t,n){var r=0;var i=le();Re();var o=we(!0),a=fe(!0),s={prevDerivation:i,prevAllowStateChanges:o,prevAllowStateReads:a,notifySpy:!1,startTime:r,actionId:ye++,parentActionId:me};return me=s.actionId,s}();try{return t.apply(n,r)}catch(e){throw i.error=e,e}finally{!function(e){me!==e.actionId&&p("invalid action stack. did you forget to finish an action?");me=e.parentActionId,void 0!==e.error&&(Ne.suppressReactionErrors=!0);Ee(e.prevAllowStateChanges),pe(e.prevAllowStateReads),Le(),he(e.prevDerivation),e.notifySpy&&!1;Ne.suppressReactionErrors=!1}(i)}}function be(e,t){var n,r=we(e);try{n=t()}finally{Ee(r)}return n}function we(e){var t=Ne.allowStateChanges;return Ne.allowStateChanges=e,t}function Ee(e){Ne.allowStateChanges=e}var Te=function(e){function t(t,n,r,i,o){void 0===r&&(r="ObservableValue@"+f()),void 0===i&&(i=!0),void 0===o&&(o=D.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=o,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),a}return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){this.value;if((e=this.prepareNewValue(e))!==Ne.UNCHANGED){0,this.setNewValue(e)}},t.prototype.prepareNewValue=function(e){if(ae(this),yt(this)){var t=gt(this,{object:this,type:"update",newValue:e});if(!t)return Ne.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Ne.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),bt(this)&&Et(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return vt(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),wt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return k(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(A),Se=(w("ObservableValue",Te),function(){function e(e){this.dependenciesState=J.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=J.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+f(),this.value=new re(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Z.NONE,this.derivation=e.get,this.name=e.name||"ComputedValue@"+f(),e.set&&(this.setter=ve(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?D.structural:D.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==J.UP_TO_DATE)return;e.lowestObserverState=J.POSSIBLY_STALE,e.observers.forEach((function(t){t.dependenciesState===J.UP_TO_DATE&&(t.dependenciesState=J.POSSIBLY_STALE,t.isTracing!==Z.NONE&&Ve(t,e),t.onBecomeStale())}))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&p("Cycle detected in computation "+this.name+": "+this.derivation),0!==Ne.inBatch||0!==this.observers.size||this.keepAlive?(Me(this),oe(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===J.STALE)return;e.lowestObserverState=J.STALE,e.observers.forEach((function(t){t.dependenciesState===J.POSSIBLY_STALE?t.dependenciesState=J.STALE:t.dependenciesState===J.UP_TO_DATE&&(e.lowestObserverState=J.UP_TO_DATE)}))}(this)):oe(this)&&(this.warnAboutUntrackedRead(),Re(),this.value=this.computeValue(!1),Le());var e=this.value;if(ie(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(ie(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){d(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else d(!1,!1)},e.prototype.trackAndCompute=function(){var e=this.value,t=this.dependenciesState===J.NOT_TRACKING,n=this.computeValue(!0),r=t||ie(e)||ie(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Ne.computationDepth++,e)t=se(this,this.derivation,this.scope);else if(!0===Ne.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new re(e)}return Ne.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ue(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,i=void 0;return Je((function(){var o=n.get();if(!r||t){var a=le();e({type:"update",object:n,newValue:o,oldValue:i}),he(a)}r=!1,i=o}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return k(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}()),Ie=w("ComputedValue",Se),ke=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Ce=!0,Ae=!1,Ne=function(){var e=De();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Ce=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new ke).version&&(Ce=!1),Ce?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ke):(setTimeout((function(){Ae||p("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new ke)}();var _e={};function De(){return"undefined"!=typeof window?window:void 0!==r?r:_e}function Oe(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function xe(e,t){e.observers.delete(t),0===e.observers.size&&Pe(e)}function Pe(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Ne.pendingUnobservations.push(e))}function Re(){Ne.inBatch++}function Le(){if(0==--Ne.inBatch){qe();for(var e=Ne.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Se&&n.suspend())}Ne.pendingUnobservations=[]}}function Me(e){var t=Ne.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&Ne.inBatch>0&&Pe(e),!1)}function Ve(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===Z.BREAK){var n=[];!function e(t,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+t.name);t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)}))}(st(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Se?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var Ue=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+f()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=J.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+f(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Z.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ne.pendingReactions.push(this),qe())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Re(),this._isScheduled=!1,oe(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}Le()}},e.prototype.track=function(e){if(!this.isDisposed){Re();0,this._isRunning=!0;var t=se(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ue(this),ie(t)&&this.reportExceptionInDerivation(t.cause),Le()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Ne.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ne.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),Ne.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Re(),ue(this),Le()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[C]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=function(e){switch(e.length){case 0:return Ne.trackingDerivation;case 1:return zt(e[0]);case 2:return zt(e[0],e[1])}}(e);if(!r)return p(!1);r.isTracing===Z.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?Z.BREAK:Z.LOG}(this,e)},e}();var Fe=100,je=function(e){return e()};function qe(){Ne.inBatch>0||Ne.isRunningReactions||je(Be)}function Be(){Ne.isRunningReactions=!0;for(var e=Ne.pendingReactions,t=0;e.length>0;){++t===Fe&&(console.error("Reaction doesn't converge to a stable state after "+Fe+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}Ne.isRunningReactions=!1}var ze=w("Reaction",Ue);function Ke(e){var t=je;je=function(n){return e((function(){return t(n)}))}}function We(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Qe(){p(!1)}function Ge(e){return function(t,n,r){if(r){if(r.value)return{value:ve(e,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return ve(e,i.call(this))}}}return He(e).apply(this,arguments)}}function He(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){b(this,n,Ye(e,t))}})}}var Ye=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?ve(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?ve(e,t):1===arguments.length&&"string"==typeof e?Ge(e):!0!==r?Ge(t).apply(null,arguments):void b(e,t,ve(e.name||t,n.value,this))};function Xe(e,t){"string"==typeof e||e.name;return ge(0,"function"==typeof e?e:t,this,void 0)}function $e(e,t,n){b(e,t,ve(t,n.bind(e)))}function Je(e,t){void 0===t&&(t=h);var n,r=t&&t.name||e.name||"Autorun@"+f();if(!t.scheduler&&!t.delay)n=new Ue(r,(function(){this.track(a)}),t.onError,t.requiresObservable);else{var i=et(t),o=!1;n=new Ue(r,(function(){o||(o=!0,i((function(){o=!1,n.isDisposed||n.track(a)})))}),t.onError,t.requiresObservable)}function a(){e(n)}return n.schedule(),n.getDisposer()}Ye.bound=function(e,t,n,r){return!0===r?($e(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return $e(this,t,n.value||n.initializer.call(this)),this[t]},set:Qe}:{enumerable:!1,configurable:!0,set:function(e){$e(this,t,e)},get:function(){}}};var Ze=function(e){return e()};function et(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ze}function tt(e,t,n){return nt("onBecomeUnobserved",e,t,n)}function nt(e,t,n,r){var i="function"==typeof r?zt(t,n):zt(t),o="function"==typeof r?r:n,a=e+"Listeners";return i[a]?i[a].add(o):i[a]=new Set([o]),"function"!=typeof i[e]?p(!1):function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}function rt(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,i=e.disableErrorBoundaries,o=e.reactionScheduler,a=e.reactionRequiresObservable,s=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Ne.pendingReactions.length||Ne.inBatch||Ne.isRunningReactions)&&p("isolateGlobalState should be called before MobX is running any reactions"),Ae=!0,Ce&&(0==--De().__mobxInstanceCount&&(De().__mobxGlobals=void 0),Ne=new ke)),void 0!==t){var u=void 0;switch(t){case!0:case"observed":u=!0;break;case!1:case"never":u=!1;break;case"strict":case"always":u="strict";break;default:p("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Ne.enforceActions=u,Ne.allowStateChanges=!0!==u&&"strict"!==u}void 0!==n&&(Ne.computedRequiresReaction=!!n),void 0!==a&&(Ne.reactionRequiresObservable=!!a),void 0!==s&&(Ne.observableRequiresReaction=!!s,Ne.allowStateReads=!Ne.observableRequiresReaction),void 0!==r&&(Ne.computedConfigurable=!!r),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ne.disableErrorBoundaries=!!i),o&&Ke(o)}function it(e,t,n,r){var i=ot(r=z(r));return M(e),Vt(e,r.name,i.enhancer),t&&at(e,t,n,i),e}function ot(e){return e.defaultDecorator||(!1===e.deep?Q:K)}function at(e,t,n,r){var i,o;Re();try{var s=S(t);try{for(var u=a(s),c=u.next();!c.done;c=u.next()){var l=c.value,h=Object.getOwnPropertyDescriptor(t,l);0;var f=(n&&l in n?n[l]:h.get?ee:r)(e,l,h,!0);f&&Object.defineProperty(e,l,f)}}catch(e){i={error:e}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}finally{Le()}}function st(e,t){return ut(zt(e,t))}function ut(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(ut)),r}function ct(e,t){return null!=e&&(void 0!==t?!!Bt(e)&&e[C].values.has(t):Bt(e)||!!e[C]||N(e)||ze(e)||Ie(e))}function lt(e){return 1!==arguments.length&&p(!1),ct(e)}function ht(e,t){void 0===t&&(t=void 0),Re();try{return e.apply(t)}finally{Le()}}function ft(e){return e[C]}function pt(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var dt={has:function(e,t){if(t===C||"constructor"===t||t===O)return!0;var n=ft(e);return pt(t)?n.has(t):t in e},get:function(e,t){if(t===C||"constructor"===t||t===O)return e[t];var n=ft(e),r=n.values.get(t);if(r instanceof A){var i=r.get();return void 0===i&&n.has(t),i}return pt(t)&&n.has(t),e[t]},set:function(e,t,n){return!!pt(t)&&(function e(t,n,r){if(2!==arguments.length||Lt(t))if(Bt(t)){var i=t[C];i.values.get(n)?i.write(n,r):i.addObservableProp(n,r,i.defaultEnhancer)}else if(xt(t))t.set(n,r);else if(Lt(t))t.add(n);else{if(!Nt(t))return p(!1);"number"!=typeof n&&(n=parseInt(n,10)),d(n>=0,"Not a valid index: '"+n+"'"),Re(),n>=t.length&&(t.length=n+1),t[n]=r,Le()}else{Re();var o=n;try{for(var a in o)e(t,a,o[a])}finally{Le()}}}(e,t,n),!0)},deleteProperty:function(e,t){return!!pt(t)&&(ft(e).remove(t),!0)},ownKeys:function(e){return ft(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return p("Dynamic observable objects cannot be frozen"),!1}};function mt(e){var t=new Proxy(e,dt);return e[C].proxy=t,t}function yt(e){return void 0!==e.interceptors&&e.interceptors.length>0}function vt(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),m((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function gt(e,t){var n=le();try{for(var r=u(e.interceptors||[]),i=0,o=r.length;i<o&&(d(!(t=r[i](t))||t.type,"Intercept handlers should return nothing or a change object"),t);i++);return t}finally{he(n)}}function bt(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function wt(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),m((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Et(e,t){var n=le(),r=e.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);he(n)}}var Tt={get:function(e,t){return t===C?e[C]:"length"===t?e[C].getArrayLength():"number"==typeof t?kt.get.call(e,t):"string"!=typeof t||isNaN(t)?kt.hasOwnProperty(t)?kt[t]:e[t]:kt.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[C].setArrayLength(n),"number"==typeof t&&kt.set.call(e,t,n),"symbol"==typeof t||isNaN(t)?e[t]=n:kt.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return p("Observable arrays cannot be frozen"),!1}};function St(e,t,n,r){void 0===n&&(n="ObservableArray@"+f()),void 0===r&&(r=!1);var i,o,a,s=new It(n,t,r);i=s.values,o=C,a=s,Object.defineProperty(i,o,{enumerable:!1,writable:!1,configurable:!0,value:a});var u=new Proxy(s.values,Tt);if(s.proxy=u,e&&e.length){var c=we(!0);s.spliceWithArray(0,0,e),Ee(c)}return u}var It=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new A(e||"ObservableArray@"+f()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return vt(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),wt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var r=this;ae(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=l),yt(this)){var o=gt(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!o)return l;t=o.removedCount,n=o.added}n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)}));var a=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,a),this.dehanceValues(a)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,u([e,t],n));var i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),i},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&!1,i=bt(this),o=i||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;this.atom.reportChanged(),i&&Et(this,o)},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&!1,i=bt(this),o=i||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom.reportChanged(),i&&Et(this,o)},e}(),kt={intercept:function(e){return this[C].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[C].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[C];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[C];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(e);case 2:return i.spliceWithArray(e,t)}return i.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[C].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[C];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[C].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[C];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[C],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[C];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[C],r=n.values;if(e<r.length){ae(n.atom);var i=r[e];if(yt(n)){var o=gt(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!o)return;t=o.newValue}(t=n.enhancer(t,i))!==i&&(r[e]=t,n.notifyArrayChildUpdate(e,t,i))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(e){kt[e]=function(){var t=this[C];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)}}));var Ct,At=w("ObservableArrayAdministration",It);function Nt(e){return v(e)&&At(e[C])}var _t,Dt={},Ot=function(){function e(e,t,n){if(void 0===t&&(t=F),void 0===n&&(n="ObservableMap@"+f()),this.enhancer=t,this.name=n,this[Ct]=Dt,this._keysAtom=_(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Ne.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Te(this._has(e),j,this.name+"."+I(e)+"?",!1);this._hasMap.set(e,r),tt(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(yt(this)){var r=gt(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(yt(this)&&!(r=gt(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=bt(this),r=n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return ht((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),n&&Et(this,r),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Ne.UNCHANGED){var r=bt(this),i=r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;0,n.setNewValue(t),r&&Et(this,i)}},e.prototype._addValue=function(e,t){var n=this;ae(this._keysAtom),ht((function(){var r=new Te(t,n.enhancer,n.name+"."+I(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=bt(this),i=r?{type:"add",object:this,name:e,newValue:t}:null;r&&Et(this,i)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=0,n=Array.from(this.keys());return Yt({next:function(){return t<n.length?{value:e.get(n[t++]),done:!1}:{done:!0}}})},e.prototype.entries=function(){var e=this,t=0,n=Array.from(this.keys());return Yt({next:function(){if(t<n.length){var r=n[t++];return{value:[r,e.get(r)],done:!1}}return{done:!0}}})},e.prototype[(Ct=C,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var i=a(this),o=i.next();!o.done;o=i.next()){var u=s(o.value,2),c=u[0],l=u[1];e.call(t,l,c,this)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return xt(e)&&(e=e.toJS()),ht((function(){g(e)?S(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=s(e,2),r=n[0],i=n[1];return t.set(r,i)})):E(e)?(e.constructor!==Map&&p("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&p("Cannot initialize map from "+e)})),this},e.prototype.clear=function(){var e=this;ht((function(){ce((function(){var t,n;try{for(var r=a(e.keys()),i=r.next();!i.done;i=r.next()){var o=i.value;e.delete(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return ht((function(){var n,r=g(n=e)?Object.keys(n):Array.isArray(n)?n.map((function(e){return s(e,1)[0]})):E(n)||xt(n)?Array.from(n.keys()):p("Cannot get keys from '"+n+"'");Array.from(t.keys()).filter((function(e){return-1===r.indexOf(e)})).forEach((function(e){return t.delete(e)})),t.merge(e)})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=a(this),i=r.next();!i.done;i=r.next()){var o=s(i.value,2),u=o[0],c=o[1];n["symbol"==typeof u?u:I(u)]=c}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return I(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return wt(this,e)},e.prototype.intercept=function(e){return vt(this,e)},e}(),xt=w("ObservableMap",Ot),Pt={},Rt=function(){function e(e,t,n){if(void 0===t&&(t=F),void 0===n&&(n="ObservableSet@"+f()),this.name=n,this[_t]=Pt,this._data=new Set,this._atom=_(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;ht((function(){ce((function(){var t,n;try{for(var r=a(e._data.values()),i=r.next();!i.done;i=r.next()){var o=i.value;e.delete(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var n,r;try{for(var i=a(this),o=i.next();!o.done;o=i.next()){var s=o.value;e.call(t,s,s,this)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((ae(this._atom),yt(this))&&!(r=gt(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){ht((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=bt(this),r=n?{type:"add",object:this,newValue:e}:null;0,n&&Et(this,r)}return this},e.prototype.delete=function(e){var t=this;if(yt(this)&&!(r=gt(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=bt(this),r=n?{type:"delete",object:this,oldValue:e}:null;return ht((function(){t._atom.reportChanged(),t._data.delete(e)})),n&&Et(this,r),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Yt({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return Yt({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return Lt(e)&&(e=e.toJS()),ht((function(){Array.isArray(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):T(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&p("Cannot initialize set from "+e)})),this},e.prototype.observe=function(e,t){return wt(this,e)},e.prototype.intercept=function(e){return vt(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(_t=C,Symbol.iterator)]=function(){return this.values()},e}(),Lt=w("ObservableSet",Rt),Mt=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new A(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof Se)r.set(t);else{if(yt(this)){if(!(o=gt(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=o.newValue}if((t=r.prepareNewValue(t))!==Ne.UNCHANGED){var i=bt(this),o=i?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;0,r.setNewValue(t),i&&Et(this,o)}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new Te(r,j,this.name+"."+I(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(yt(this)){var i=gt(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!i)return;t=i.newValue}var o=new Te(t,n,this.name+"."+I(e),!1);this.values.set(e,o),t=o.value,Object.defineProperty(r,e,function(e){return Ut[e]||(Ut[e]={configurable:!0,enumerable:!0,get:function(){return this[C].read(e)},set:function(t){this[C].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r,i,o,a=this.target;n.name=n.name||this.name+"."+I(t),this.values.set(t,new Se(n)),(e===a||(r=e,i=t,!(o=Object.getOwnPropertyDescriptor(r,i))||!1!==o.configurable&&!1!==o.writable))&&Object.defineProperty(e,t,function(e){return Ft[e]||(Ft[e]={configurable:Ne.computedConfigurable,enumerable:!1,get:function(){return jt(this).read(e)},set:function(t){jt(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(yt(this))if(!(a=gt(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{Re();var n=bt(this),r=this.values.get(e),i=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!1)}delete this.target[e];var a=n?{type:"remove",object:this.proxy||t,oldValue:i,name:e}:null;0,n&&Et(this,a)}finally{Le()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return wt(this,e)},e.prototype.intercept=function(e){return vt(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=bt(this),r=n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&Et(this,r),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=a(this.values),i=r.next();!i.done;i=r.next()){var o=s(i.value,2),u=o[0];o[1]instanceof Te&&n.push(u)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function Vt(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=F),Object.prototype.hasOwnProperty.call(e,C))return e[C];g(e)||(t=(e.constructor.name||"ObservableObject")+"@"+f()),t||(t="ObservableObject@"+f());var r=new Mt(e,new Map,I(t),n);return b(e,C,r),r}var Ut=Object.create(null),Ft=Object.create(null);function jt(e){var t=e[C];return t||(M(e),e[C])}var qt=w("ObservableObjectAdministration",Mt);function Bt(e){return!!v(e)&&(M(e),qt(e[C]))}function zt(e,t){if("object"==typeof e&&null!==e){if(Nt(e))return void 0!==t&&p(!1),e[C].atom;if(Lt(e))return e[C];if(xt(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||p(!1),r)}var r;if(M(e),t&&!e[C]&&e[t],Bt(e))return t?((r=e[C].values.get(t))||p(!1),r):p(!1);if(N(e)||Ie(e)||ze(e))return e}else if("function"==typeof e&&ze(e[C]))return e[C];return p(!1)}function Kt(e,t){return e||p("Expecting some object"),void 0!==t?Kt(zt(e,t)):N(e)||Ie(e)||ze(e)?e:xt(e)||Lt(e)?e:(M(e),e[C]?e[C]:void p(!1))}var Wt=Object.prototype.toString;function Qt(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,i,o){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;t=Gt(t);n=Gt(n);var s=Wt.call(t);if(s!==Wt.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n)}var u="[object Array]"===s;if(!u){if("object"!=typeof t||"object"!=typeof n)return!1;var c=t.constructor,l=n.constructor;if(c!==l&&!("function"==typeof c&&c instanceof c&&"function"==typeof l&&l instanceof l)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1);i=i||[];o=o||[];var h=i.length;for(;h--;)if(i[h]===t)return o[h]===n;i.push(t);o.push(n);if(u){if((h=t.length)!==n.length)return!1;for(;h--;)if(!e(t[h],n[h],r-1,i,o))return!1}else{var f=Object.keys(t),p=void 0;if(h=f.length,Object.keys(n).length!==h)return!1;for(;h--;)if(p=f[h],!Ht(n,p)||!e(t[p],n[p],r-1,i,o))return!1}i.pop();o.pop();return!0}(e,t,n)}function Gt(e){return Nt(e)?e.slice():E(e)||xt(e)?Array.from(e.entries()):T(e)||Lt(e)?Array.from(e.entries()):e}function Ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Yt(e){return e[Symbol.iterator]=Xt,e}function Xt(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:We,extras:{getDebugName:function(e,t){return(void 0!==t?zt(e,t):Bt(e)||xt(e)||Lt(e)?Kt(e):zt(e)).name}},$mobx:C})}).call(this,n(43),n(32))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(45),o=n(62),a=n(63),s=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",s),c="[DEFAULT]",l=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e);var i=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){r.tokenListeners_.push(e),setTimeout((function(){return e(null)}),0)},removeAuthTokenListener:function(e){r.tokenListeners_=r.tokenListeners_.filter((function(t){return t!==e}))},analytics:{logEvent:function(){i.analyticsEventRequests_.push(arguments)}}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(e.services_[i]);o<a.length;o++){var s=a[o];t.push(e.services_[i][s])}return Promise.all(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))})).then((function(){e.isDeleted_=!0,e.services_={}}))},e.prototype._getService=function(e,t){if(void 0===t&&(t=c),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==c?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=c),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){if(o.deepExtend(this,e),e.INTERNAL){if(e.INTERNAL.addAuthTokenListener){for(var t=0,n=this.tokenListeners_;t<n.length;t++){var r=n[t];this.INTERNAL.addAuthTokenListener(r)}this.tokenListeners_=[]}if(e.INTERNAL.analytics){for(var i=0,a=this.analyticsEventRequests_;i<a.length;i++){var s=a[i];this.INTERNAL.analytics.logEvent.apply(void 0,s)}this.analyticsEventRequests_=[]}}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},e}();l.prototype.name&&l.prototype.options||l.prototype.delete||console.log("dc");var h="7.2.2",f=new a.Logger("@firebase/app");
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(o.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var p=self.firebase.SDK_VERSION;p&&p.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var d=
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function e(){var t=
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){var t={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={});if("object"!=typeof r||null===r){r={name:r}}var a=r;void 0===a.name&&(a.name=c);var s=a.name;if("string"!=typeof s||!s)throw u.create("bad-app-name",{appName:String(s)});if(o.contains(t,s))throw u.create("duplicate-app",{appName:s});var h=new e(n,a,i);return t[s]=h,l(h,"create"),h},app:a,apps:null,SDK_VERSION:h,INTERNAL:{registerService:function(t,c,l,h,p){void 0===p&&(p=!1);if(n[t])return f.debug("There were multiple attempts to register service "+t+"."),i[t];n[t]=c,h&&(r[t]=h,s().forEach((function(e){h("create",e)})));function d(e){if(void 0===e&&(e=a()),"function"!=typeof e[t])throw u.create("invalid-app-argument",{appName:t});return e[t]()}void 0!==l&&o.deepExtend(d,l);return i[t]=d,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,p?e:[])},d},removeApp:function(e){l(t[e],"delete"),delete t[e]},factories:n,useAsService:p}};function a(e){if(e=e||c,!o.contains(t,e))throw u.create("no-app",{appName:e});return t[e]}function s(){return Object.keys(t).map((function(e){return t[e]}))}function l(e,t){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=p(e,o[i]);if(null===a)return;r[a]&&r[a](t,e)}}function p(e,t){return"serverAuth"===t?null:t}return(i.default=i,Object.defineProperty(i,"apps",{get:s}),a.App=e,i)}(l);return t.INTERNAL=i.__assign(i.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){o.deepExtend(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),m=d.initializeApp;d.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,e)};var y=d;t.default=y,t.firebase=y},function(e,t,n){e.exports=n(61)},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}},function(e,t){e.exports=function(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},,function(e,t){e.exports=function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},function(e,t,n){"use strict";var r=!0,i="Invariant failed";t.a=function(e,t){if(!e)throw r?new Error(i):new Error(i+": "+(t||""))}},,function(e,t,n){"use strict";var r=n(7);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,f=a.length;f>=0;f--){var p=a[f];"."===p?o(a,f):".."===p?(o(a,f),h++):h&&(o(a,f),h--)}if(!c)for(;h--;h)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var d=a.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(11);function l(e){return"/"===e.charAt(0)?e:"/"+e}function h(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function p(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function d(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var o;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function y(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return d}));var g=!("undefined"==typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="popstate",E="hashchange";function T(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t,n=window.history,i=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,s=a.forceRefresh,u=void 0!==s&&s,h=a.getUserConfirmation,y=void 0===h?b:h,S=a.keyLength,I=void 0===S?6:S,k=e.basename?p(l(e.basename)):"";function C(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return k&&(o=f(o,k)),m(o,r,n)}function A(){return Math.random().toString(36).substr(2,I)}var N=v();function _(e){Object(r.a)(q,e),q.length=n.length,N.notifyListeners(q.location,q.action)}function D(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(C(e.state))}function O(){P(C(T()))}var x=!1;function P(e){if(x)x=!1,_();else{N.confirmTransitionTo(e,"POP",y,(function(t){t?_({action:"POP",location:e}):function(e){var t=q.location,n=L.indexOf(t.key);-1===n&&(n=0);var r=L.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(x=!0,V(i))}(e)}))}}var R=C(T()),L=[R.key];function M(e){return k+d(e)}function V(e){n.go(e)}var U=0;function F(e){1===(U+=e)&&1===e?(window.addEventListener(w,D),o&&window.addEventListener(E,O)):0===U&&(window.removeEventListener(w,D),o&&window.removeEventListener(E,O))}var j=!1;var q={length:n.length,action:"POP",location:R,createHref:M,push:function(e,t){var r=m(e,t,A(),q.location);N.confirmTransitionTo(r,"PUSH",y,(function(e){if(e){var t=M(r),o=r.key,a=r.state;if(i)if(n.pushState({key:o,state:a},null,t),u)window.location.href=t;else{var s=L.indexOf(q.location.key),c=L.slice(0,s+1);c.push(r.key),L=c,_({action:"PUSH",location:r})}else window.location.href=t}}))},replace:function(e,t){var r=m(e,t,A(),q.location);N.confirmTransitionTo(r,"REPLACE",y,(function(e){if(e){var t=M(r),o=r.key,a=r.state;if(i)if(n.replaceState({key:o,state:a},null,t),u)window.location.replace(t);else{var s=L.indexOf(q.location.key);-1!==s&&(L[s]=r.key),_({action:"REPLACE",location:r})}else window.location.replace(t)}}))},go:V,goBack:function(){V(-1)},goForward:function(){V(1)},block:function(e){void 0===e&&(e=!1);var t=N.setPrompt(e);return j||(F(1),j=!0),function(){return j&&(j=!1,F(-1)),t()}},listen:function(e){var t=N.appendListener(e);return F(1),function(){F(-1),t()}}};return q}var I="hashchange",k={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+h(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:h,decodePath:l},slash:{encodePath:l,decodePath:l}};function C(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function A(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function N(e){window.location.replace(C(window.location.href)+"#"+e)}function _(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?p(l(e.basename)):"",h=k[s],y=h.encodePath,w=h.decodePath;function E(){var e=w(A());return u&&(e=f(e,u)),m(e)}var T=v();function S(e){Object(r.a)(j,e),j.length=t.length,T.notifyListeners(j.location,j.action)}var _=!1,D=null;function O(){var e,t,n=A(),r=y(n);if(n!==r)N(r);else{var i=E(),a=j.location;if(!_&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(D===d(i))return;D=null,function(e){if(_)_=!1,S();else{T.confirmTransitionTo(e,"POP",o,(function(t){t?S({action:"POP",location:e}):function(e){var t=j.location,n=L.lastIndexOf(d(t));-1===n&&(n=0);var r=L.lastIndexOf(d(e));-1===r&&(r=0);var i=n-r;i&&(_=!0,M(i))}(e)}))}}(i)}}var x=A(),P=y(x);x!==P&&N(P);var R=E(),L=[d(R)];function M(e){t.go(e)}var V=0;function U(e){1===(V+=e)&&1===e?window.addEventListener(I,O):0===V&&window.removeEventListener(I,O)}var F=!1;var j={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=C(window.location.href)),n+"#"+y(u+d(e))},push:function(e,t){var n=m(e,void 0,void 0,j.location);T.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=d(n),r=y(u+t);if(A()!==r){D=t,function(e){window.location.hash=e}(r);var i=L.lastIndexOf(d(j.location)),o=L.slice(0,i+1);o.push(t),L=o,S({action:"PUSH",location:n})}else S()}}))},replace:function(e,t){var n=m(e,void 0,void 0,j.location);T.confirmTransitionTo(n,"REPLACE",o,(function(e){if(e){var t=d(n),r=y(u+t);A()!==r&&(D=t,N(r));var i=L.indexOf(d(j.location));-1!==i&&(L[i]=t),S({action:"REPLACE",location:n})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return F||(U(1),F=!0),function(){return F&&(F=!1,U(-1)),t()}},listen:function(e){var t=T.appendListener(e);return U(1),function(){U(-1),t()}}};return j}function D(e,t,n){return Math.min(Math.max(e,t),n)}function O(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=v();function h(e){Object(r.a)(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function f(){return Math.random().toString(36).substr(2,c)}var p=D(s,0,o.length-1),y=o.map((function(e){return m(e,void 0,"string"==typeof e?f():e.key||f())})),g=d;function b(e){var t=D(w.index+e,0,w.entries.length-1),r=w.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?h({action:"POP",location:r,index:t}):h()}))}var w={length:y.length,action:"POP",location:y[p],index:p,entries:y,createHref:g,push:function(e,t){var r=m(e,t,f(),w.location);l.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),h({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=m(e,t,f(),w.location);l.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(w.entries[w.index]=r,h({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";var r=n(14),i=n(0),o=n.n(i),a=n(1),s=n.n(a),u=n(13),c=n(39),l=n.n(c),h=n(47),f=n.n(h),p=1073741823;var d=o.a.createContext||function(e,t){var n,r,o="__create-react-context-"+f()()+"__",a=function(e){function n(){var t,n,r;return(t=e.apply(this,arguments)||this).emitter=(n=t.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter((function(t){return t!==e}))},get:function(){return n},set:function(e,t){n=e,r.forEach((function(e){return e(n,t)}))}}),t}l()(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o==1/a:o!=o&&a!=a)?n=0:(n="function"==typeof t?t(r,i):p,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(i.Component);a.childContextTypes=((n={})[o]=s.a.object.isRequired,n);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}l()(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?p:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?p:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return u.contextTypes=((r={})[o]=s.a.object,r),{Provider:a,Consumer:u}},m=n(11),y=n(7),v=n(40),g=n.n(v),b=(n(44),n(23));n(48);n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return k}));var w=function(e){var t=d();return t.displayName=e,t}("Router"),E=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(w.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(o.a.Component);o.a.Component;o.a.Component;var T={},S=1e4,I=0;function k(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=T[n]||(T[n]={});if(r[e])return r[e];var i=[],o={regexp:g()(e,i,t),keys:i};return I<S&&(r[e]=o,I++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var C=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(w.Consumer,null,(function(t){t||Object(m.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?k(n.pathname,e.props):t.match,i=Object(y.a)({},t,{location:n,match:r}),a=e.props,s=a.children,u=a.component,c=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(w.Provider,{value:i},i.match?s?"function"==typeof s?s(i):s:u?o.a.createElement(u,i):c?c(i):null:"function"==typeof s?s(i):null)}))},t}(o.a.Component);function A(e){return"/"===e.charAt(0)?e:"/"+e}function N(e,t){if(!e)return t;var n=A(e);return 0!==t.pathname.indexOf(n)?t:Object(y.a)({},t,{pathname:t.pathname.substr(n.length)})}function _(e){return"string"==typeof e?e:Object(u.e)(e)}function D(e){return function(){Object(m.a)(!1)}}function O(){}o.a.Component;var x=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(w.Consumer,null,(function(t){t||Object(m.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?k(i.pathname,Object(y.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);o.a.useContext},,,,,,function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return w}));var r=n(17),i=n(14),o=n(0),a=n.n(o),s=n(13),u=(n(1),n(7)),c=n(23),l=n(11),h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var f=function(e,t){return"function"==typeof e?e(t):e},p=function(e,t){return"string"==typeof e?Object(s.c)(e,null,null,t):e},d=function(e){return e},m=a.a.forwardRef;void 0===m&&(m=d);var y=m((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=d!==m&&t||n,a.a.createElement("a",l)}));var v=m((function(e,t){var n=e.component,i=void 0===n?y:n,o=e.replace,s=e.to,h=e.innerRef,v=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=p(f(s,e.location),e.location),c=r?n.createHref(r):"",y=Object(u.a)({},v,{href:c,navigate:function(){var t=f(s,e.location);(o?n.replace:n.push)(t)}});return d!==m?y.ref=t||h:y.innerRef=h,a.a.createElement(i,y)}))})),g=function(e){return e},b=a.a.forwardRef;void 0===b&&(b=g);var w=b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,h=e.activeStyle,d=e.className,m=e.exact,y=e.isActive,w=e.location,E=e.strict,T=e.style,S=e.to,I=e.innerRef,k=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=w||e.location,o=p(f(S,n),n),c=o.pathname,C=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=C?Object(r.e)(n.pathname,{path:C,exact:m,strict:E}):null,N=!!(y?y(A,n):A),_=N?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(d,s):d,D=N?Object(u.a)({},T,{},h):T,O=Object(u.a)({"aria-current":N&&i||null,className:_,style:D,to:o},k);return g!==b?O.ref=t||I:O.innerRef=I,a.a.createElement(v,O)}))}))},function(e,t,n){var r=n(30),i=n(54);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(55);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(56);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(51)},function(e,t,n){"use strict";var r=n(33),i=n(2),o=n(0),a=n.n(o);if(!o.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!i.n)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var s=!1;function u(){return s}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function h(e){return e.current?Object(i.h)(e.current):"<unknown>"}var f=[];function p(){var e=l(Object(o.useState)(0),2)[1];return Object(o.useCallback)((function(){e((function(e){return e+1}))}),[])}var d={};function m(e,t,n){if(void 0===t&&(t="observed"),void 0===n&&(n=d),u())return e();var r=(n.useForceUpdate||p)(),a=Object(o.useRef)(null);a.current||(a.current=new i.b("observer("+t+")",(function(){r()})));var s,c,l=function(){a.current&&!a.current.isDisposed&&(a.current.dispose(),a.current=null)};if(Object(o.useDebugValue)(a,h),function(e){Object(o.useEffect)((function(){return e}),f)}((function(){l()})),a.current.track((function(){try{s=e()}catch(e){c=e}})),c)throw l(),c;return s}function y(e,t){if(u())return e;var n,r,i,a=c({forwardRef:!1},t),s=e.displayName||e.name,l=function(t,n){return m((function(){return e(t,n)}),s)};return l.displayName=s,n=a.forwardRef?Object(o.memo)(Object(o.forwardRef)(l)):Object(o.memo)(l),r=e,i=n,Object.keys(r).forEach((function(e){r.hasOwnProperty(e)&&!v[e]&&Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})),n.displayName=s,n}var v={$$typeof:!0,render:!0,compare:!0,type:!0};function g(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:m(r)}function b(e,t,n,r,i){var o="children"===t?"render":"children",a="function"==typeof e[t],s="function"==typeof e[o];return a&&s?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||s?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}g.propTypes={children:b,render:b},g.displayName="Observer";n.d(t,"c",(function(){return q})),n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return W}));var w=0,E={};function T(e){return E[e]||(E[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+w+")";return w++,t}(e)),E[e]}function S(e,t){if(I(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!hasOwnProperty.call(t,n[i])||!I(e[n[i]],t[n[i]]))return!1;return!0}function I(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var k={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,propTypes:1};function C(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var A=T("patchMixins"),N=T("patchedDefinition");function _(e,t){for(var n=this,r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];t.locks++;try{var o;return null!=e&&(o=e.apply(this,r)),o}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,r)}))}}function D(e,t){return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];_.call.apply(_,[this,e,t].concat(n))}}function O(e,t,n){var r=function(e,t){var n=e[A]=e[A]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[N]){var o=function e(t,n,r,i,o){var a,s=D(o,i);return(a={})[N]=!0,a.get=function(){return s},a.set=function(o){if(this===t)s=D(o,i);else{var a=e(this,n,r,i,o);Object.defineProperty(this,n,a)}},a.configurable=!0,a.enumerable=r,a}(e,t,i?i.enumerable:void 0,r,e[t]);Object.defineProperty(e,t,o)}}var x=i.a||"$mobx",P=T("isUnmounted"),R=T("skipRender"),L=T("isForcingUpdate");function M(e,t){return u()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!S(this.props,e)}function V(e,t){var n=T("reactProp_"+t+"_valueHolder"),r=T("reactProp_"+t+"_atomHolder");function o(){return this[r]||C(this,r,Object(i.g)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return o.call(this).reportObserved(),this[n]},set:function(e){this[L]||S(this[n],e)?C(this,n,e):(C(this,n,e),C(this,R,!0),o.call(this).reportChanged(),C(this,R,!1))}})}var U="function"==typeof Symbol&&Symbol.for,F=U?Symbol.for("react.forward_ref"):"function"==typeof o.forwardRef&&Object(o.forwardRef)((function(){})).$$typeof,j=U?Symbol.for("react.memo"):"function"==typeof o.memo&&Object(o.memo)((function(){})).$$typeof;function q(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),j&&e.$$typeof===j)throw new Error("Mobx observer: You are trying to use 'observer' on function component wrapped to either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(F&&e.$$typeof===F){var t=e.render;if("function"!=typeof t)throw new Error("render property of ForwardRef was not a function");return Object(o.forwardRef)((function(){var e=arguments;return a.a.createElement(g,null,(function(){return t.apply(void 0,e)}))}))}return"function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(o.Component,e)?function(e){var t=e.prototype;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==o.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==M)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=M;V(t,"props"),V(t,"state");var n=t.render;return t.render=function(){return function(e){var t=this;if(!0===u())return e.call(this);C(this,R,!1),C(this,L,!1);var n=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",r=e.bind(this),a=!1,s=new i.b(n+".render()",(function(){if(!a&&(a=!0,!0!==t[P])){var e=!0;try{C(t,L,!0),t[R]||o.Component.prototype.forceUpdate.call(t),e=!1}finally{C(t,L,!1),e&&s.dispose()}}}));function c(){a=!1;var e=void 0,t=void 0;if(s.track((function(){try{t=Object(i.c)(!1,r)}catch(t){e=t}})),e)throw e;return t}return s.reactComponent=this,c[x]=s,this.render=c,c.call(this)}.call(this,n)},O(t,"componentWillUnmount",(function(){!0!==u()&&(this.render[x]&&this.render[x].dispose(),this[P]=!0)})),e}(e):y(e)}var B=a.a.createContext({});function z(e){var t=e.children,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}(e,["children"]),r=a.a.useContext(B),i=a.a.useRef(Object.assign({},r,n)).current;return a.a.createElement(B.Provider,{value:i},t)}function K(e,t,n,r){var i,s,u,c=a.a.forwardRef((function(n,r){var i=Object.assign({},n),s=a.a.useContext(B);return Object.assign(i,e(s||{},i)||{}),r&&(i.ref=r),Object(o.createElement)(t,i)}));return r&&(c=q(c)),c.isMobxInjector=!0,i=t,s=c,u=Object.getOwnPropertyNames(Object.getPrototypeOf(i)),Object.getOwnPropertyNames(i).forEach((function(e){k[e]||-1!==u.indexOf(e)||Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(i,e))})),c.wrappedComponent=t,c.displayName=function(e,t){var n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t?"inject-with-"+t+"("+n+")":"inject("+n+")"}(t,n),c}function W(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return"function"==typeof arguments[0]?(e=arguments[0],function(t){return K(e,t,e.name,!0)}):function(e){return K(function(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}(t),e,t.join("-"),!1)}}z.displayName="MobXProvider";T("disposeOnUnmountProto"),T("disposeOnUnmountInst");function Q(e){function t(t,n,r,o,a,s){for(var u=[],c=arguments.length-6;c-- >0;)u[c]=arguments[c+6];return Object(i.p)((function(){return o=o||"<<anonymous>>",s=s||r,null==n[r]?t?new Error("The "+a+" `"+s+"` is marked as required in `"+o+"`, but its value is `"+(null===n[r]?"null":"undefined")+"`."):null:e.apply(void 0,[n,r,o,a,s].concat(u))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function G(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function H(e,t){return Q((function(n,r,o,a,s){return Object(i.p)((function(){if(e&&G(n[r])===t.toLowerCase())return null;var a;switch(t){case"Array":a=i.i;break;case"Object":a=i.k;break;case"Map":a=i.j;break;default:throw new Error("Unexpected mobxType: "+t)}var u=n[r];if(!a(u)){var c=function(e){var t=G(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(u),l=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+c+"` supplied to `"+o+"`, expected `mobx.Observable"+t+"`"+l+".")}return null}))}))}function Y(e,t){return Q((function(n,r,o,a,s){for(var u=[],c=arguments.length-5;c-- >0;)u[c]=arguments[c+5];return Object(i.p)((function(){if("function"!=typeof t)return new Error("Property `"+s+"` of component `"+o+"` has invalid PropType notation.");var i=H(e,"Array")(n,r,o);if(i instanceof Error)return i;for(var c=n[r],l=0;l<c.length;l++)if((i=t.apply(void 0,[c,l,o,a,s+"["+l+"]"].concat(u)))instanceof Error)return i;return null}))}))}H(!1,"Array"),Y.bind(null,!1),H(!1,"Map"),H(!1,"Object"),H(!0,"Array"),Y.bind(null,!0),H(!0,"Object");if(!o.Component)throw new Error("mobx-react requires React to be available");if(!i.l)throw new Error("mobx-react requires mobx to be available");"function"==typeof r.unstable_batchedUpdates&&Object(i.f)({reactionScheduler:r.unstable_batchedUpdates})},function(e,t){e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},,,function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){var r=n(59);e.exports=p,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],p=n.index;if(s+=e.slice(a,p),a=p+h.length,f)s+=f[1];else{var d=e[a],m=n[2],y=n[3],v=n[4],g=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var E=null!=m&&null!=d&&d!==m,T="+"===b||"*"===b,S="?"===b||"*"===b,I=n[2]||l,k=v||g;r.push({name:y||o++,prefix:m||"",delimiter:I,optional:S,repeat:T,partial:E,asterisk:!!w,pattern:k?c(k):w?".*":"[^"+u(I)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,i){for(var o="",s=n||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(h=u(f[p]),!t[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===p?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!t[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=u(c);else{var f=u(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+f+p+")*"),a+=p=c.optional?c.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var d=u(n.delimiter||"/"),m=a.slice(-d.length)===d;return i||(a=(m?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+d+"|$)",l(new RegExp("^"+a,h(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(p(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r,i=(r=n(3))&&"object"==typeof r&&"default"in r?r.default:r;
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */e.exports=i},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";e.exports=n(60)},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return d})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return g})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return E})),n.d(t,"__importStar",(function(){return T})),n.d(t,"__importDefault",(function(){return S}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},,function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(32))},function(e,t,n){"use strict";var r=n(44),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(d){var i=p(n);i&&i!==d&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),m=u(n),y=0;y<a.length;++y){var v=a[y];if(!(o[v]||r&&r[v]||m&&m[v]||s&&s[v])){var g=f(n,v);try{c(t,v,g)}catch(e){}}}return t}return t}},function(e,t,n){},function(e,t,n){"use strict";
/** @license React v16.11.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(42),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var d=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var y="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function E(){}function T(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=w.prototype;var S=T.prototype=new E;S.constructor=T,r(S,w.prototype),S.isPureReactComponent=!0;var I={current:null},k={current:null},C=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&!A.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:k.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var D=/\/+/g,O=[];function x(e,t,n,r){if(O.length){var i=O.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function R(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+L(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+L(s=t[c],c);u+=e(s,l,r,i)}else if(null===t||"object"!=typeof t?l=null:l="function"==typeof(l=y&&t[y]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+L(s,c++),r,i);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return u}(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function V(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,r,n,(function(e){return e})):null!=e&&(_(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+n)),r.push(e))}function U(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(D,"$&/")+"/"),R(e,V,t=x(t,o,r,i)),P(t)}function F(){var e=I.current;if(null===e)throw Error(v(321));return e}var j={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return U(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;R(e,M,t=x(null,null,t,n)),P(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return U(e,t,null,(function(e){return e})),t},only:function(e){if(!_(e))throw Error(v(143));return e}},createRef:function(){return{current:null}},Component:w,PureComponent:T,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:f,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return F().useCallback(e,t)},useContext:function(e,t){return F().useContext(e,t)},useEffect:function(e,t){return F().useEffect(e,t)},useImperativeHandle:function(e,t,n){return F().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return F().useLayoutEffect(e,t)},useMemo:function(e,t){return F().useMemo(e,t)},useReducer:function(e,t,n){return F().useReducer(e,t,n)},useRef:function(e){return F().useRef(e)},useState:function(e){return F().useState(e)},Fragment:s,Profiler:c,StrictMode:u,Suspense:p,createElement:N,cloneElement:function(e,t,n){if(null==e)throw Error(v(267,e));var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)C.call(t,l)&&!A.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},createFactory:function(e){var t=N.bind(null,e);return t.type=e,t},isValidElement:_,version:"16.11.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r}},q={default:j},B=q&&j||q;e.exports=B.default||B},function(e,t,n){"use strict";
/** @license React v16.11.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(42),o=n(52);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=null,u={};function c(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!h[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in h[n]=t,n=t.eventTypes){var i=void 0,o=n[r],c=t,p=r;if(f.hasOwnProperty(p))throw Error(a(99,p));f[p]=o;var d=o.phasedRegistrationNames;if(d){for(i in d)d.hasOwnProperty(i)&&l(d[i],c,p);i=!0}else o.registrationName?(l(o.registrationName,c,p),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function l(e,t,n){if(p[e])throw Error(a(100,e));p[e]=t,d[e]=t.eventTypes[n].dependencies}var h=[],f={},p={},d={};function m(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var y=!1,v=null,g=!1,b=null,w={onError:function(e){y=!0,v=e}};function E(e,t,n,r,i,o,a,s,u){y=!1,v=null,m.apply(w,arguments)}var T=null,S=null,I=null;function k(e,t,n){var r=e.type||"unknown-event";e.currentTarget=I(n),function(e,t,n,r,i,o,s,u,c){if(E.apply(this,arguments),y){if(!y)throw Error(a(198));var l=v;y=!1,v=null,g||(g=!0,b=l)}}(r,t,void 0,e),e.currentTarget=null}function C(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function A(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var N=null;function _(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)k(e,t[r],n[r]);else t&&k(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function D(e){if(null!==e&&(N=C(N,e)),e=N,N=null,e){if(A(e,_),N)throw Error(a(95));if(g)throw e=b,g=!1,b=null,e}}var O={injectEventPluginOrder:function(e){if(s)throw Error(a(101));s=Array.prototype.slice.call(e),c()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!u.hasOwnProperty(t)||u[t]!==r){if(u[t])throw Error(a(102,t));u[t]=r,n=!0}}n&&c()}};function x(e,t){var n=e.stateNode;if(!n)return null;var r=T(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var P=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;P.hasOwnProperty("ReactCurrentDispatcher")||(P.ReactCurrentDispatcher={current:null}),P.hasOwnProperty("ReactCurrentBatchConfig")||(P.ReactCurrentBatchConfig={suspense:null});var R=/^(.*)[\\\/]/,L="function"==typeof Symbol&&Symbol.for,M=L?Symbol.for("react.element"):60103,V=L?Symbol.for("react.portal"):60106,U=L?Symbol.for("react.fragment"):60107,F=L?Symbol.for("react.strict_mode"):60108,j=L?Symbol.for("react.profiler"):60114,q=L?Symbol.for("react.provider"):60109,B=L?Symbol.for("react.context"):60110,z=L?Symbol.for("react.concurrent_mode"):60111,K=L?Symbol.for("react.forward_ref"):60112,W=L?Symbol.for("react.suspense"):60113,Q=L?Symbol.for("react.suspense_list"):60120,G=L?Symbol.for("react.memo"):60115,H=L?Symbol.for("react.lazy"):60116;L&&Symbol.for("react.fundamental"),L&&Symbol.for("react.responder"),L&&Symbol.for("react.scope");var Y="function"==typeof Symbol&&Symbol.iterator;function X(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Y&&e[Y]||e["@@iterator"])?e:null}function $(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case U:return"Fragment";case V:return"Portal";case j:return"Profiler";case F:return"StrictMode";case W:return"Suspense";case Q:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case B:return"Context.Consumer";case q:return"Context.Provider";case K:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case G:return $(e.type);case H:if(e=1===e._status?e._result:null)return $(e)}return null}function J(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=$(e.type);n=null,r&&(n=$(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(R,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var Z=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ee=null,te=null,ne=null;function re(e){if(e=S(e)){if("function"!=typeof ee)throw Error(a(280));var t=T(e.stateNode);ee(e.stateNode,e.type,t)}}function ie(e){te?ne?ne.push(e):ne=[e]:te=e}function oe(){if(te){var e=te,t=ne;if(ne=te=null,re(e),t)for(e=0;e<t.length;e++)re(t[e])}}function ae(e,t){return e(t)}function se(e,t,n,r){return e(t,n,r)}function ue(){}var ce=ae,le=!1,he=!1;function fe(){null===te&&null===ne||(ue(),oe())}new Map;var pe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,de=Object.prototype.hasOwnProperty,me={},ye={};function ve(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ge[e]=new ve(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ge[t]=new ve(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ge[e]=new ve(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ge[e]=new ve(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ge[e]=new ve(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ge[e]=new ve(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){ge[e]=new ve(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){ge[e]=new ve(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){ge[e]=new ve(e,5,!1,e.toLowerCase(),null,!1)}));var be=/[\-:]([a-z])/g;function we(e){return e[1].toUpperCase()}function Ee(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Te(e,t,n,r){var i=ge.hasOwnProperty(t)?ge[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!de.call(ye,e)||!de.call(me,e)&&(pe.test(e)?ye[e]=!0:(me[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function Se(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ie(e){e._valueTracker||(e._valueTracker=function(e){var t=Se(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Se(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ce(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ae(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Ee(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ne(e,t){null!=(t=t.checked)&&Te(e,"checked",t,!1)}function _e(e,t){Ne(e,t);var n=Ee(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oe(e,t.type,Ee(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function De(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Oe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function xe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Pe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ee(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Le(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw Error(a(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(a(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:Ee(n)}}function Me(e,t){var n=Ee(t.value),r=Ee(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ve(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(be,we);ge[t]=new ve(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(be,we);ge[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(be,we);ge[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){ge[e]=new ve(e,1,!1,e.toLowerCase(),null,!1)})),ge.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){ge[e]=new ve(e,1,!1,e.toLowerCase(),null,!0)}));var Ue={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var qe,Be=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ue.svg||"innerHTML"in e)e.innerHTML=t;else{for((qe=qe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ke(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var We={animationend:Ke("Animation","AnimationEnd"),animationiteration:Ke("Animation","AnimationIteration"),animationstart:Ke("Animation","AnimationStart"),transitionend:Ke("Transition","TransitionEnd")},Qe={},Ge={};function He(e){if(Qe[e])return Qe[e];if(!We[e])return e;var t,n=We[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return Qe[e]=n[t];return e}Z&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);var Ye=He("animationend"),Xe=He("animationiteration"),$e=He("animationstart"),Je=He("transitionend"),Ze="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(a(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nt(i),e;if(o===r)return nt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var it,ot,at,st=!1,ut=[],ct=null,lt=null,ht=null,ft=new Map,pt=new Map,dt=[],mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),yt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function vt(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function gt(e,t){switch(e){case"focus":case"blur":ct=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ht=null;break;case"pointerover":case"pointerout":ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pt.delete(t.pointerId)}}function bt(e,t,n,r,i){return null===e||e.nativeEvent!==i?(e=vt(t,n,r,i),null!==t&&(null!==(t=pr(t))&&ot(t)),e):(e.eventSystemFlags|=r,e)}function wt(e){var t=fr(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){at(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Et(e){if(null!==e.blockedOn)return!1;var t=On(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var n=pr(t);return null!==n&&ot(n),e.blockedOn=t,!1}return!0}function Tt(e,t,n){Et(e)&&n.delete(t)}function St(){for(st=!1;0<ut.length;){var e=ut[0];if(null!==e.blockedOn){null!==(e=pr(e.blockedOn))&&it(e);break}var t=On(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:ut.shift()}null!==ct&&Et(ct)&&(ct=null),null!==lt&&Et(lt)&&(lt=null),null!==ht&&Et(ht)&&(ht=null),ft.forEach(Tt),pt.forEach(Tt)}function It(e,t){e.blockedOn===t&&(e.blockedOn=null,st||(st=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,St)))}function kt(e){function t(t){return It(t,e)}if(0<ut.length){It(ut[0],e);for(var n=1;n<ut.length;n++){var r=ut[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ct&&It(ct,e),null!==lt&&It(lt,e),null!==ht&&It(ht,e),ft.forEach(t),pt.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)wt(n),null===n.blockedOn&&dt.shift()}function Ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function At(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Nt(e,t,n){(t=x(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function _t(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=At(t);for(t=n.length;0<t--;)Nt(n[t],"captured",e);for(t=0;t<n.length;t++)Nt(n[t],"bubbled",e)}}function Dt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=x(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function Ot(e){e&&e.dispatchConfig.registrationName&&Dt(e._targetInst,null,e)}function xt(e){A(e,_t)}function Pt(){return!0}function Rt(){return!1}function Lt(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Pt:Rt,this.isPropagationStopped=Rt,this}function Mt(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Vt(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Ut(e){e.eventPool=[],e.getPooled=Mt,e.release=Vt}i(Lt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Pt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Pt)},persist:function(){this.isPersistent=Pt},isPersistent:Rt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Rt,this._dispatchInstances=this._dispatchListeners=null}}),Lt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Lt.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Ut(n),n},Ut(Lt);var Ft=Lt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),jt=Lt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qt=Lt.extend({view:null,detail:null}),Bt=qt.extend({relatedTarget:null});function zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Kt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Qt[e])&&!!t[e]}function Ht(){return Gt}for(var Yt=qt.extend({key:function(e){if(e.key){var t=Kt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Wt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ht,charCode:function(e){return"keypress"===e.type?zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Xt=0,$t=0,Jt=!1,Zt=!1,en=qt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ht,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Xt;return Xt=e.screenX,Jt?"mousemove"===e.type?e.screenX-t:0:(Jt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=$t;return $t=e.screenY,Zt?"mousemove"===e.type?e.screenY-t:0:(Zt=!0,0)}}),tn=en.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),nn=en.extend({dataTransfer:null}),rn=qt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ht}),on=Lt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),an=en.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),sn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ye,"animationEnd",2],[Xe,"animationIteration",2],[$e,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],un={},cn={},ln=0;ln<sn.length;ln++){var hn=sn[ln],fn=hn[0],pn=hn[1],dn=hn[2],mn="on"+(pn[0].toUpperCase()+pn.slice(1)),yn={phasedRegistrationNames:{bubbled:mn,captured:mn+"Capture"},dependencies:[fn],eventPriority:dn};un[pn]=yn,cn[fn]=yn}var vn={eventTypes:un,getEventPriority:function(e){return void 0!==(e=cn[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var i=cn[e];if(!i)return null;switch(e){case"keypress":if(0===zt(n))return null;case"keydown":case"keyup":e=Yt;break;case"blur":case"focus":e=Bt;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=en;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=rn;break;case Ye:case Xe:case $e:e=Ft;break;case Je:e=on;break;case"scroll":e=qt;break;case"wheel":e=an;break;case"copy":case"cut":case"paste":e=jt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=tn;break;default:e=Lt}return xt(t=e.getPooled(i,t,n,r)),t}},gn=o.unstable_UserBlockingPriority,bn=o.unstable_runWithPriority,wn=vn.getEventPriority,En=10,Tn=[];function Sn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=fr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Ct(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=e.eventSystemFlags,s=null,u=0;u<h.length;u++){var c=h[u];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=C(s,c))}D(s)}}var In=!0;function kn(e,t){Cn(t,e,!1)}function Cn(e,t,n){switch(wn(t)){case 0:var r=An.bind(null,t,1);break;case 1:r=Nn.bind(null,t,1);break;default:r=Dn.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function An(e,t,n){le||ue();var r=Dn,i=le;le=!0;try{se(r,e,t,n)}finally{(le=i)||fe()}}function Nn(e,t,n){bn(gn,Dn.bind(null,e,t,n))}function _n(e,t,n,r){if(Tn.length){var i=Tn.pop();i.topLevelType=e,i.eventSystemFlags=t,i.nativeEvent=n,i.targetInst=r,e=i}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=Sn,n=e,he)t(n,void 0);else{he=!0;try{ce(t,n,void 0)}finally{he=!1,fe()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,Tn.length<En&&Tn.push(e)}}function Dn(e,t,n){if(In)if(0<ut.length&&-1<mt.indexOf(e))e=vt(null,e,t,n),ut.push(e);else{var r=On(e,t,n);null===r?gt(e,n):-1<mt.indexOf(e)?(e=vt(r,e,t,n),ut.push(e)):function(e,t,n,r){switch(t){case"focus":return ct=bt(ct,e,t,n,r),!0;case"dragenter":return lt=bt(lt,e,t,n,r),!0;case"mouseover":return ht=bt(ht,e,t,n,r),!0;case"pointerover":var i=r.pointerId;return ft.set(i,bt(ft.get(i)||null,e,t,n,r)),!0;case"gotpointercapture":return i=r.pointerId,pt.set(i,bt(pt.get(i)||null,e,t,n,r)),!0}return!1}(r,e,t,n)||(gt(e,n),_n(e,t,n,null))}}function On(e,t,n){var r=Ct(n);if(null!==(r=fr(r))){var i=et(r);if(null===i)r=null;else{var o=i.tag;if(13===o){if(null!==(r=tt(i)))return r;r=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return _n(e,t,n,r),null}function xn(e){if(!Z)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var Pn=new("function"==typeof WeakMap?WeakMap:Map);function Rn(e){var t=Pn.get(e);return void 0===t&&(t=new Set,Pn.set(e,t)),t}function Ln(e,t,n){if(!n.has(e)){switch(e){case"scroll":Cn(t,"scroll",!0);break;case"focus":case"blur":Cn(t,"focus",!0),Cn(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":xn(e)&&Cn(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ze.indexOf(e)&&kn(e,t)}n.add(e)}}var Mn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vn=["Webkit","ms","Moz","O"];function Un(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Mn.hasOwnProperty(e)&&Mn[e]?(""+t).trim():t+"px"}function Fn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Un(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Mn).forEach((function(e){Vn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mn[t]=Mn[e]}))}));var jn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qn(e,t){if(t){if(jn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function Bn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function zn(e,t){var n=Rn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=d[t];for(var r=0;r<t.length;r++)Ln(t[r],e,n)}function Kn(){}function Wn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gn(e,t){var n,r=Qn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qn(r)}}function Hn(){for(var e=window,t=Wn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Wn((e=t.contentWindow).document)}return t}function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Xn="$",$n="/$",Jn="$?",Zn="$!",er=null,tr=null;function nr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function rr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"==typeof setTimeout?setTimeout:void 0,or="function"==typeof clearTimeout?clearTimeout:void 0;function ar(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function sr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Xn||n===Zn||n===Jn){if(0===t)return e;t--}else n===$n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),cr="__reactInternalInstance$"+ur,lr="__reactEventHandlers$"+ur,hr="__reactContainere$"+ur;function fr(e){var t=e[cr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hr]||n[cr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=sr(e);null!==e;){if(n=e[cr])return n;e=sr(e)}return t}n=(e=n).parentNode}return null}function pr(e){return!(e=e[cr]||e[hr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function dr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function mr(e){return e[lr]||null}var yr=null,vr=null,gr=null;function br(){if(gr)return gr;var e,t,n=vr,r=n.length,i="value"in yr?yr.value:yr.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return gr=i.slice(e,1<t?1-t:void 0)}var wr=Lt.extend({data:null}),Er=Lt.extend({data:null}),Tr=[9,13,27,32],Sr=Z&&"CompositionEvent"in window,Ir=null;Z&&"documentMode"in document&&(Ir=document.documentMode);var kr=Z&&"TextEvent"in window&&!Ir,Cr=Z&&(!Sr||Ir&&8<Ir&&11>=Ir),Ar=String.fromCharCode(32),Nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},_r=!1;function Dr(e,t){switch(e){case"keyup":return-1!==Tr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Or(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var xr=!1;var Pr={eventTypes:Nr,extractEvents:function(e,t,n,r){var i;if(Sr)e:{switch(e){case"compositionstart":var o=Nr.compositionStart;break e;case"compositionend":o=Nr.compositionEnd;break e;case"compositionupdate":o=Nr.compositionUpdate;break e}o=void 0}else xr?Dr(e,n)&&(o=Nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=Nr.compositionStart);return o?(Cr&&"ko"!==n.locale&&(xr||o!==Nr.compositionStart?o===Nr.compositionEnd&&xr&&(i=br()):(vr="value"in(yr=r)?yr.value:yr.textContent,xr=!0)),o=wr.getPooled(o,t,n,r),i?o.data=i:null!==(i=Or(n))&&(o.data=i),xt(o),i=o):i=null,(e=kr?function(e,t){switch(e){case"compositionend":return Or(t);case"keypress":return 32!==t.which?null:(_r=!0,Ar);case"textInput":return(e=t.data)===Ar&&_r?null:e;default:return null}}(e,n):function(e,t){if(xr)return"compositionend"===e||!Sr&&Dr(e,t)?(e=br(),gr=vr=yr=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Er.getPooled(Nr.beforeInput,t,n,r)).data=e,xt(t)):t=null,null===i?t:null===t?i:[i,t]}},Rr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rr[e.type]:"textarea"===t}var Mr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Vr(e,t,n){return(e=Lt.getPooled(Mr.change,e,t,n)).type="change",ie(n),xt(e),e}var Ur=null,Fr=null;function jr(e){D(e)}function qr(e){if(ke(dr(e)))return e}function Br(e,t){if("change"===e)return t}var zr=!1;function Kr(){Ur&&(Ur.detachEvent("onpropertychange",Wr),Fr=Ur=null)}function Wr(e){if("value"===e.propertyName&&qr(Fr))if(e=Vr(Fr,e,Ct(e)),le)D(e);else{le=!0;try{ae(jr,e)}finally{le=!1,fe()}}}function Qr(e,t,n){"focus"===e?(Kr(),Fr=n,(Ur=t).attachEvent("onpropertychange",Wr)):"blur"===e&&Kr()}function Gr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qr(Fr)}function Hr(e,t){if("click"===e)return qr(t)}function Yr(e,t){if("input"===e||"change"===e)return qr(t)}Z&&(zr=xn("input")&&(!document.documentMode||9<document.documentMode));var Xr,$r={eventTypes:Mr,_isInputEventSupported:zr,extractEvents:function(e,t,n,r){var i=t?dr(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Br;else if(Lr(i))if(zr)a=Yr;else{a=Gr;var s=Qr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Hr);if(a&&(a=a(e,t)))return Vr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Oe(i,"number",i.value)}},Jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zr={eventTypes:Jr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?fr(t):null)&&(t!==(o=et(t))||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=en,u=Jr.mouseLeave,c=Jr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=tn,u=Jr.pointerLeave,c=Jr.pointerEnter,l="pointer");if(e=null==a?i:dr(a),i=null==t?i:dr(t),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=e,u.relatedTarget=i,(r=s.getPooled(c,t,n,r)).type=l+"enter",r.target=i,r.relatedTarget=e,l=t,(s=a)&&l)e:{for(e=l,a=0,t=c=s;t;t=At(t))a++;for(t=0,i=e;i;i=At(i))t++;for(;0<a-t;)c=At(c),a--;for(;0<t-a;)e=At(e),t--;for(;a--;){if(c===e||c===e.alternate)break e;c=At(c),e=At(e)}c=null}else c=null;for(e=c,c=[];s&&s!==e&&(null===(a=s.alternate)||a!==e);)c.push(s),s=At(s);for(s=[];l&&l!==e&&(null===(a=l.alternate)||a!==e);)s.push(l),l=At(l);for(l=0;l<c.length;l++)Dt(c[l],"bubbled",u);for(l=s.length;0<l--;)Dt(s[l],"captured",r);return n===Xr?(Xr=null,[u]):(Xr=n,[u,r])}};var ei="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ti=Object.prototype.hasOwnProperty;function ni(e,t){if(ei(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ti.call(t,n[r])||!ei(e[n[r]],t[n[r]]))return!1;return!0}var ri=Z&&"documentMode"in document&&11>=document.documentMode,ii={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},oi=null,ai=null,si=null,ui=!1;function ci(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ui||null==oi||oi!==Wn(n)?null:("selectionStart"in(n=oi)&&Yn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},si&&ni(si,n)?null:(si=n,(e=Lt.getPooled(ii.select,ai,e,t)).type="select",e.target=oi,xt(e),e))}var li={eventTypes:ii,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Rn(o),i=d.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?dr(t):window,e){case"focus":(Lr(o)||"true"===o.contentEditable)&&(oi=o,ai=t,si=null);break;case"blur":si=ai=oi=null;break;case"mousedown":ui=!0;break;case"contextmenu":case"mouseup":case"dragend":return ui=!1,ci(n,r);case"selectionchange":if(ri)break;case"keydown":case"keyup":return ci(n,r)}return null}};O.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),T=mr,S=pr,I=dr,O.injectEventPluginsByName({SimpleEventPlugin:vn,EnterLeaveEventPlugin:Zr,ChangeEventPlugin:$r,SelectEventPlugin:li,BeforeInputEventPlugin:Pr}),new Set;var hi=[],fi=-1;function pi(e){0>fi||(e.current=hi[fi],hi[fi]=null,fi--)}function di(e,t){hi[++fi]=e.current,e.current=t}var mi={},yi={current:mi},vi={current:!1},gi=mi;function bi(e,t){var n=e.type.contextTypes;if(!n)return mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function wi(e){return null!=(e=e.childContextTypes)}function Ei(e){pi(vi),pi(yi)}function Ti(e){pi(vi),pi(yi)}function Si(e,t,n){if(yi.current!==mi)throw Error(a(168));di(yi,t),di(vi,n)}function Ii(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,$(t)||"Unknown",o));return i({},n,{},r)}function ki(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||mi,gi=yi.current,di(yi,t),di(vi,vi.current),!0}function Ci(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(t=Ii(e,t,gi),r.__reactInternalMemoizedMergedChildContext=t,pi(vi),pi(yi),di(yi,t)):pi(vi),di(vi,n)}var Ai=o.unstable_runWithPriority,Ni=o.unstable_scheduleCallback,_i=o.unstable_cancelCallback,Di=o.unstable_shouldYield,Oi=o.unstable_requestPaint,xi=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Li=o.unstable_UserBlockingPriority,Mi=o.unstable_NormalPriority,Vi=o.unstable_LowPriority,Ui=o.unstable_IdlePriority,Fi={},ji=void 0!==Oi?Oi:function(){},qi=null,Bi=null,zi=!1,Ki=xi(),Wi=1e4>Ki?xi:function(){return xi()-Ki};function Qi(){switch(Pi()){case Ri:return 99;case Li:return 98;case Mi:return 97;case Vi:return 96;case Ui:return 95;default:throw Error(a(332))}}function Gi(e){switch(e){case 99:return Ri;case 98:return Li;case 97:return Mi;case 96:return Vi;case 95:return Ui;default:throw Error(a(332))}}function Hi(e,t){return e=Gi(e),Ai(e,t)}function Yi(e,t,n){return e=Gi(e),Ni(e,t,n)}function Xi(e){return null===qi?(qi=[e],Bi=Ni(Ri,Ji)):qi.push(e),Fi}function $i(){if(null!==Bi){var e=Bi;Bi=null,_i(e)}Ji()}function Ji(){if(!zi&&null!==qi){zi=!0;var e=0;try{var t=qi;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),qi=null}catch(t){throw null!==qi&&(qi=qi.slice(e+1)),Ni(Ri,$i),t}finally{zi=!1}}}var Zi=3;function eo(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function to(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var no={current:null},ro=null,io=null,oo=null;function ao(){oo=io=ro=null}function so(e,t){var n=e.type._context;di(no,n._currentValue),n._currentValue=t}function uo(e){var t=no.current;pi(no),e.type._context._currentValue=t}function co(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function lo(e,t){ro=e,oo=io=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Wa=!0),e.firstContext=null)}function ho(e,t){if(oo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(oo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===io){if(null===ro)throw Error(a(308));io=t,ro.dependencies={expirationTime:0,firstContext:t,responders:null}}else io=io.next=t;return e._currentValue}var fo=!1;function po(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function mo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function yo(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function vo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function go(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=po(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=po(e.memoizedState),i=n.updateQueue=po(n.memoizedState)):r=e.updateQueue=mo(i):null===i&&(i=n.updateQueue=mo(r));null===i||r===i?vo(r,t):null===r.lastUpdate||null===i.lastUpdate?(vo(r,t),vo(i,t)):(vo(r,t),i.lastUpdate=t)}function bo(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=po(e.memoizedState):wo(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function wo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=mo(t)),t}function Eo(e,t,n,r,o,a){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(a,r,o):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(a,r,o):e))break;return i({},r,o);case 2:fo=!0}return r}function To(e,t,n,r,i){fo=!1;for(var o=(t=wo(e,t)).baseState,a=null,s=0,u=t.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l<i?(null===a&&(a=u,o=c),s<l&&(s=l)):(Au(l,u.suspenseConfig),c=Eo(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var h=u.expirationTime;h<i?(null===l&&(l=u,null===a&&(o=c)),s<h&&(s=h)):(c=Eo(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,Nu(s),e.expirationTime=s,e.memoizedState=c}function So(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Io(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Io(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Io(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!=typeof n)throw Error(a(191,n));n.call(r)}e=e.nextEffect}}var ko=P.ReactCurrentBatchConfig,Co=(new r.Component).refs;function Ao(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var No={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=du(),i=ko.suspense;(i=yo(r=mu(r,e,i),i)).payload=t,null!=n&&(i.callback=n),go(e,i),yu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=du(),i=ko.suspense;(i=yo(r=mu(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),go(e,i),yu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=du(),r=ko.suspense;(r=yo(n=mu(n,e,r),r)).tag=2,null!=t&&(r.callback=t),go(e,r),yu(e,n)}};function _o(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ni(n,r)||!ni(i,o))}function Do(e,t,n){var r=!1,i=mi,o=t.contextType;return"object"==typeof o&&null!==o?o=ho(o):(i=wi(t)?gi:yi.current,o=(r=null!=(r=t.contextTypes))?bi(e,i):mi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=No,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Oo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function xo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Co;var o=t.contextType;"object"==typeof o&&null!==o?i.context=ho(o):(o=wi(t)?gi:yi.current,i.context=bi(e,o)),null!==(o=e.updateQueue)&&(To(e,o,n,i,r),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(Ao(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&No.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(To(e,o,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Po=Array.isArray;function Ro(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Co&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Lo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Mo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Hu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ro(e,t,n),r.return=e,r):((r=Yu(n.type,n.key,n.props,null,e.mode,r)).ref=Ro(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Xu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case M:return(n=Yu(t.type,t.key,t.props,null,e.mode,n)).ref=Ro(e,null,t),n.return=e,n;case V:return(t=Ju(t,e.mode,n)).return=e,t}if(Po(t)||X(t))return(t=Xu(t,e.mode,n,null)).return=e,t;Lo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case M:return n.key===i?n.type===U?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case V:return n.key===i?l(e,t,n,r):null}if(Po(n)||X(n))return null!==i?null:h(e,t,n,r,null);Lo(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case M:return e=e.get(null===r.key?n:r.key)||null,r.type===U?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case V:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Po(r)||X(r))return h(t,e=e.get(n)||null,r,i,null);Lo(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,h=a,m=a=0,y=null;null!==h&&m<s.length;m++){h.index>m?(y=h,h=null):y=h.sibling;var v=p(i,h,s[m],u);if(null===v){null===h&&(h=y);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v,h=y}if(m===s.length)return n(i,h),c;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],u))&&(a=o(h,a,m),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);m<s.length;m++)null!==(y=d(h,i,m,s[m],u))&&(e&&null!==y.alternate&&h.delete(null===y.key?m:y.key),a=o(y,a,m),null===l?c=y:l.sibling=y,l=y);return e&&h.forEach((function(e){return t(i,e)})),c}function y(i,s,u,c){var l=X(u);if("function"!=typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,m=s,y=s=0,v=null,g=u.next();null!==m&&!g.done;y++,g=u.next()){m.index>y?(v=m,m=null):v=m.sibling;var b=p(i,m,g.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,y),null===h?l=b:h.sibling=b,h=b,m=v}if(g.done)return n(i,m),l;if(null===m){for(;!g.done;y++,g=u.next())null!==(g=f(i,g.value,c))&&(s=o(g,s,y),null===h?l=g:h.sibling=g,h=g);return l}for(m=r(i,m);!g.done;y++,g=u.next())null!==(g=d(m,i,y,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?y:g.key),s=o(g,s,y),null===h?l=g:h.sibling=g,h=g);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===U&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case M:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?o.type===U:c.elementType===o.type){n(e,c.sibling),(r=i(c,o.type===U?o.props.children:o.props)).ref=Ro(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===U?((r=Xu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Yu(o.type,o.key,o.props,null,e.mode,u)).ref=Ro(e,r,o),u.return=e,e=u)}return s(e);case V:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=$u(o,e.mode,u)).return=e,e=r),s(e);if(Po(o))return m(e,r,o,u);if(X(o))return y(e,r,o,u);if(l&&Lo(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Vo=Mo(!0),Uo=Mo(!1),Fo={},jo={current:Fo},qo={current:Fo},Bo={current:Fo};function zo(e){if(e===Fo)throw Error(a(174));return e}function Ko(e,t){di(Bo,t),di(qo,e),di(jo,Fo);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}pi(jo),di(jo,t)}function Wo(e){pi(jo),pi(qo),pi(Bo)}function Qo(e){zo(Bo.current);var t=zo(jo.current),n=je(t,e.type);t!==n&&(di(qo,e),di(jo,n))}function Go(e){qo.current===e&&(pi(jo),pi(qo))}var Ho={current:0};function Yo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Jn||n.data===Zn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Xo(e,t){return{responder:e,props:t}}var $o=P.ReactCurrentDispatcher,Jo=P.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,na=null,ra=null,ia=null,oa=null,aa=0,sa=null,ua=0,ca=!1,la=null,ha=0;function fa(){throw Error(a(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ei(e[n],t[n]))return!1;return!0}function da(e,t,n,r,i,o){if(Zo=o,ea=t,na=null!==e?e.memoizedState:null,$o.current=null===na?Pa:Ra,t=n(r,i),ca){do{ca=!1,ha+=1,na=null!==e?e.memoizedState:null,oa=ra,sa=ia=ta=null,$o.current=Ra,t=n(r,i)}while(ca);la=null,ha=0}if($o.current=xa,(e=ea).memoizedState=ra,e.expirationTime=aa,e.updateQueue=sa,e.effectTag|=ua,e=null!==ta&&null!==ta.next,Zo=0,oa=ia=ra=na=ta=ea=null,aa=0,sa=null,ua=0,e)throw Error(a(300));return t}function ma(){$o.current=xa,Zo=0,oa=ia=ra=na=ta=ea=null,aa=0,sa=null,ua=0,ca=!1,la=null,ha=0}function ya(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ia?ra=ia=e:ia=ia.next=e,ia}function va(){if(null!==oa)oa=(ia=oa).next,na=null!==(ta=na)?ta.next:null;else{if(null===na)throw Error(a(310));var e={memoizedState:(ta=na).memoizedState,baseState:ta.baseState,queue:ta.queue,baseUpdate:ta.baseUpdate,next:null};ia=null===ia?ra=e:ia.next=e,na=ta.next}return ia}function ga(e,t){return"function"==typeof t?t(e):t}function ba(e){var t=va(),n=t.queue;if(null===n)throw Error(a(311));if(n.lastRenderedReducer=e,0<ha){var r=n.dispatch;if(null!==la){var i=la.get(n);if(void 0!==i){la.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return ei(o,t.memoizedState)||(Wa=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=i=null,c=r,l=!1;do{var h=c.expirationTime;h<Zo?(l||(l=!0,u=s,i=o),h>aa&&Nu(aa=h)):(Au(h,c.suspenseConfig),o=c.eagerReducer===e?c.eagerState:e(o,c.action)),s=c,c=c.next}while(null!==c&&c!==r);l||(u=s,i=o),ei(o,t.memoizedState)||(Wa=!0),t.memoizedState=o,t.baseUpdate=u,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function wa(e){var t=ya();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e}).dispatch=Oa.bind(null,ea,e),[t.memoizedState,e]}function Ea(e){return ba(ga)}function Ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===sa?(sa={lastEffect:null}).lastEffect=e.next=e:null===(t=sa.lastEffect)?sa.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,sa.lastEffect=e),e}function Sa(e,t,n,r){var i=ya();ua|=e,i.memoizedState=Ta(t,n,void 0,void 0===r?null:r)}function Ia(e,t,n,r){var i=va();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&pa(r,a.deps))return void Ta(0,n,o,r)}ua|=e,i.memoizedState=Ta(t,n,o,r)}function ka(e,t){return Sa(516,192,e,t)}function Ca(e,t){return Ia(516,192,e,t)}function Aa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Na(){}function _a(e,t){return ya().memoizedState=[e,void 0===t?null:t],e}function Da(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oa(e,t,n){if(!(25>ha))throw Error(a(301));var r=e.alternate;if(e===ea||null!==r&&r===ea)if(ca=!0,e={expirationTime:Zo,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===la&&(la=new Map),void 0===(n=la.get(t)))la.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=du(),o=ko.suspense;o={expirationTime:i=mu(i,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var u=s.next;null!==u&&(o.next=u),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var c=t.lastRenderedState,l=r(c,n);if(o.eagerReducer=r,o.eagerState=l,ei(l,c))return}catch(e){}yu(e,i)}}var xa={readContext:ho,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useResponder:fa,useDeferredValue:fa,useTransition:fa},Pa={readContext:ho,useCallback:_a,useContext:ho,useEffect:ka,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Sa(4,36,Aa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sa(4,36,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,ea,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:wa,useDebugValue:Na,useResponder:Xo,useDeferredValue:function(e,t){var n=wa(e),r=n[0],i=n[1];return ka((function(){o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===t?null:t;try{i(e)}finally{Jo.suspense=n}}))}),[e,t]),r},useTransition:function(e){var t=wa(!1),n=t[0],r=t[1];return[_a((function(t){r(!0),o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===e?null:e;try{r(!1),t()}finally{Jo.suspense=n}}))}),[e,n]),n]}},Ra={readContext:ho,useCallback:Da,useContext:ho,useEffect:Ca,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ia(4,36,Aa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ia(4,36,e,t)},useMemo:function(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:ba,useRef:function(){return va().memoizedState},useState:Ea,useDebugValue:Na,useResponder:Xo,useDeferredValue:function(e,t){var n=Ea(),r=n[0],i=n[1];return Ca((function(){o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===t?null:t;try{i(e)}finally{Jo.suspense=n}}))}),[e,t]),r},useTransition:function(e){var t=Ea(),n=t[0],r=t[1];return[Da((function(t){r(!0),o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===e?null:e;try{r(!1),t()}finally{Jo.suspense=n}}))}),[e,n]),n]}},La=null,Ma=null,Va=!1;function Ua(e,t){var n=Qu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Fa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ja(e){if(Va){var t=Ma;if(t){var n=t;if(!Fa(e,t)){if(!(t=ar(n.nextSibling))||!Fa(e,t))return e.effectTag=-1025&e.effectTag|2,Va=!1,void(La=e);Ua(La,n)}La=e,Ma=ar(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Va=!1,La=e}}function qa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;La=e}function Ba(e){if(e!==La)return!1;if(!Va)return qa(e),Va=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!rr(t,e.memoizedProps))for(t=Ma;t;)Ua(e,t),t=ar(t.nextSibling);if(qa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===$n){if(0===t){Ma=ar(e.nextSibling);break e}t--}else n!==Xn&&n!==Zn&&n!==Jn||t++}e=e.nextSibling}Ma=null}}else Ma=La?ar(e.stateNode.nextSibling):null;return!0}function za(){Ma=La=null,Va=!1}var Ka=P.ReactCurrentOwner,Wa=!1;function Qa(e,t,n,r){t.child=null===e?Uo(t,null,n,r):Vo(t,e.child,n,r)}function Ga(e,t,n,r,i){n=n.render;var o=t.ref;return lo(t,i),r=da(e,t,n,r,o,i),null===e||Wa?(t.effectTag|=1,Qa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ls(e,t,i))}function Ha(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Gu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Yu(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ya(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ni)(i,r)&&e.ref===t.ref)?ls(e,t,o):(t.effectTag|=1,(e=Hu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ya(e,t,n,r,i,o){return null!==e&&ni(e.memoizedProps,r)&&e.ref===t.ref&&(Wa=!1,i<o)?ls(e,t,o):$a(e,t,n,r,o)}function Xa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function $a(e,t,n,r,i){var o=wi(n)?gi:yi.current;return o=bi(t,o),lo(t,i),n=da(e,t,n,r,o,i),null===e||Wa?(t.effectTag|=1,Qa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ls(e,t,i))}function Ja(e,t,n,r,i){if(wi(n)){var o=!0;ki(t)}else o=!1;if(lo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Do(t,n,r),xo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=ho(c):c=bi(t,c=wi(n)?gi:yi.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Oo(t,a,r,c),fo=!1;var f=t.memoizedState;u=a.state=f;var p=t.updateQueue;null!==p&&(To(t,p,r,a,i),u=t.memoizedState),s!==r||f!==u||vi.current||fo?("function"==typeof l&&(Ao(t,n,l,r),u=t.memoizedState),(s=fo||_o(t,n,s,r,f,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:to(t.type,s),u=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=ho(c):c=bi(t,c=wi(n)?gi:yi.current),(h="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Oo(t,a,r,c),fo=!1,u=t.memoizedState,f=a.state=u,null!==(p=t.updateQueue)&&(To(t,p,r,a,i),f=t.memoizedState),s!==r||u!==f||vi.current||fo?("function"==typeof l&&(Ao(t,n,l,r),f=t.memoizedState),(l=fo||_o(t,n,s,r,u,f,c))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Za(e,t,n,r,o,i)}function Za(e,t,n,r,i,o){Xa(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Ci(t,n,!1),ls(e,t,o);r=t.stateNode,Ka.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Vo(t,e.child,null,o),t.child=Vo(t,null,s,o)):Qa(e,t,s,o),t.memoizedState=r.state,i&&Ci(t,n,!0),t.child}function es(e){var t=e.stateNode;t.pendingContext?Si(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Si(0,t.context,!1),Ko(e,t.containerInfo)}var ts,ns,rs,is,os={dehydrated:null,retryTime:0};function as(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Ho.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),di(Ho,1&a),null===e){if(void 0!==o.fallback&&ja(t),s){if(s=o.fallback,(o=Xu(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Xu(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=os,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Uo(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Hu(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Hu(i,o,i.expirationTime)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=os,t.child=n,i}return n=Vo(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Xu(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Xu(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=os,t.child=o,n}return t.memoizedState=null,t.child=Vo(t,e,o.children,n)}function ss(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),co(e.return,t)}function us(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function cs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Qa(e,t,r.children,n),0!=(2&(r=Ho.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ss(e,n);else if(19===e.tag)ss(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(Ho,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Yo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),us(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Yo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}us(t,!0,n,null,o,t.lastEffect);break;case"together":us(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ls(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Nu(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function hs(e){e.effectTag|=4}function fs(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ps(e){switch(e.tag){case 1:wi(e.type)&&Ei();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Wo(),Ti(),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Go(e),null;case 13:return pi(Ho),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return pi(Ho),null;case 4:return Wo(),null;case 10:return uo(e),null;default:return null}}function ds(e,t){return{value:e,source:t,stack:J(t)}}ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ns=function(){},rs=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,u,c=t.stateNode;switch(zo(jo.current),e=null,n){case"input":a=Ce(c,a),r=Ce(c,r),e=[];break;case"option":a=xe(c,a),r=xe(c,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Re(c,a),r=Re(c,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(c.onclick=Kn)}for(s in qn(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in c=a[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(p.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,""+l)):"children"===s?c===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(p.hasOwnProperty(s)?(null!=l&&zn(o,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&hs(t)}},is=function(e,t,n,r){n!==r&&hs(t)};var ms="function"==typeof WeakSet?WeakSet:Set;function ys(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=J(n)),null!==n&&$(n.type),t=t.value,null!==e&&1===e.tag&&$(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function vs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){ju(e,t)}else t.current=null}function gs(e,t){switch(t.tag){case 0:case 11:case 15:bs(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:to(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}function bs(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!=(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function ws(e,t,n){switch("function"==typeof Ku&&Ku(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Hi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){ju(i,e)}}e=e.next}while(e!==r)}))}break;case 1:vs(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){ju(e,t)}}(t,n);break;case 5:vs(t);break;case 4:Is(e,t,n)}}function Es(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&Es(t)}function Ts(e){return 5===e.tag||3===e.tag||4===e.tag}function Ss(e){e:{for(var t=e.return;null!==t;){if(Ts(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ts(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){var o=5===i.tag||6===i.tag;if(o){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var u=s;s=n,8===(o=t).nodeType?o.parentNode.insertBefore(u,s):o.insertBefore(u,s)}else t.insertBefore(s,n);else r?(8===(u=t).nodeType?(o=u.parentNode).insertBefore(s,u):(o=u).appendChild(s),null!=(u=u._reactRootContainer)||null!==o.onclick||(o.onclick=Kn)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Is(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,c=o,l=n,h=c;;)if(ws(u,h,l),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break;for(;null===h.sibling;){if(null===h.return||h.return===c)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ws(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ks(e,t){switch(t.tag){case 0:case 11:case 14:case 15:bs(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[lr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ne(n,r),Bn(e,i),t=Bn(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Fn(n,u):"dangerouslySetInnerHTML"===s?Be(n,u):"children"===s?ze(n,u):Te(n,s,u,t)}switch(e){case"input":_e(n,r);break;case"textarea":Me(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Pe(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Pe(n,!!r.multiple,r.defaultValue,!0):Pe(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(a(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,kt(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,tu=Wi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=Un("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}Cs(t);break;case 19:Cs(t);break;case 17:case 20:case 21:break;default:throw Error(a(163))}}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ms),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var As="function"==typeof WeakMap?WeakMap:Map;function Ns(e,t,n){(n=yo(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){iu||(iu=!0,ou=r),ys(e,t)},n}function _s(e,t,n){(n=yo(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ys(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===au?au=new Set([this]):au.add(this),ys(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ds,Os=Math.ceil,xs=P.ReactCurrentDispatcher,Ps=P.ReactCurrentOwner,Rs=0,Ls=8,Ms=16,Vs=32,Us=0,Fs=1,js=2,qs=3,Bs=4,zs=5,Ks=Rs,Ws=null,Qs=null,Gs=0,Hs=Us,Ys=null,Xs=1073741823,$s=1073741823,Js=null,Zs=0,eu=!1,tu=0,nu=500,ru=null,iu=!1,ou=null,au=null,su=!1,uu=null,cu=90,lu=null,hu=0,fu=null,pu=0;function du(){return(Ks&(Ms|Vs))!==Rs?1073741821-(Wi()/10|0):0!==pu?pu:pu=1073741821-(Wi()/10|0)}function mu(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Qi();if(0==(4&t))return 99===r?1073741823:1073741822;if((Ks&Ms)!==Rs)return Gs;if(null!==n)e=eo(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=eo(e,150,100);break;case 97:case 96:e=eo(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ws&&e===Gs&&--e,e}function yu(e,t){if(50<hu)throw hu=0,fu=null,Error(a(185));if(null!==(e=vu(e,t))){var n=Qi();1073741823===t?(Ks&Ls)!==Rs&&(Ks&(Ms|Vs))===Rs?Eu(e):(bu(e),Ks===Rs&&$i()):bu(e),(4&Ks)===Rs||98!==n&&99!==n||(null===lu?lu=new Map([[e,t]]):(void 0===(n=lu.get(e))||n>t)&&lu.set(e,t))}}function vu(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ws===i&&(Nu(t),Hs===Bs&&tc(i,Gs)),nc(i,t)),i}function gu(e){var t=e.lastExpiredTime;return 0!==t?t:ec(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function bu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Xi(Eu.bind(null,e));else{var t=gu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=du();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Fi&&_i(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Xi(Eu.bind(null,e)):Yi(r,wu.bind(null,e),{timeout:10*(1073741821-t)-Wi()}),e.callbackNode=t}}}function wu(e,t){if(pu=0,t)return rc(e,t=du()),bu(e),null;var n=gu(e);if(0!==n){if(t=e.callbackNode,(Ks&(Ms|Vs))!==Rs)throw Error(a(327));if(Vu(),e===Ws&&n===Gs||Iu(e,n),null!==Qs){var r=Ks;Ks|=Ms;for(var i=Cu();;)try{Du();break}catch(t){ku(e,t)}if(ao(),Ks=r,xs.current=i,Hs===Fs)throw t=Ys,Iu(e,n),tc(e,n),bu(e),t;if(null===Qs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Hs,Ws=null,r){case Us:case Fs:throw Error(a(345));case js:rc(e,2<n?2:n);break;case qs:if(tc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Pu(i)),1073741823===Xs&&10<(i=tu+nu-Wi())){if(eu){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,Iu(e,n);break}}if(0!==(o=gu(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=ir(Ru.bind(null,e),i);break}Ru(e);break;case Bs:if(tc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Pu(i)),eu&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,Iu(e,n);break}if(0!==(i=gu(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==$s?r=10*(1073741821-$s)-Wi():1073741823===Xs?r=0:(r=10*(1073741821-Xs)-5e3,0>(r=(i=Wi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Os(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=ir(Ru.bind(null,e),r);break}Ru(e);break;case zs:if(1073741823!==Xs&&null!==Js){o=Xs;var s=Js;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Wi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){tc(e,n),e.timeoutHandle=ir(Ru.bind(null,e),r);break}}Ru(e);break;default:throw Error(a(329))}if(bu(e),e.callbackNode===t)return wu.bind(null,e)}}return null}function Eu(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)Ru(e);else{if((Ks&(Ms|Vs))!==Rs)throw Error(a(327));if(Vu(),e===Ws&&t===Gs||Iu(e,t),null!==Qs){var n=Ks;Ks|=Ms;for(var r=Cu();;)try{_u();break}catch(t){ku(e,t)}if(ao(),Ks=n,xs.current=r,Hs===Fs)throw n=Ys,Iu(e,t),tc(e,t),bu(e),n;if(null!==Qs)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ws=null,Ru(e),bu(e)}}return null}function Tu(e,t){var n=Ks;Ks|=1;try{return e(t)}finally{(Ks=n)===Rs&&$i()}}function Su(e,t){var n=Ks;Ks&=-2,Ks|=Ls;try{return e(t)}finally{(Ks=n)===Rs&&$i()}}function Iu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,or(n)),null!==Qs)for(n=Qs.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!=i&&Ei();break;case 3:Wo(),Ti();break;case 5:Go(r);break;case 4:Wo();break;case 13:case 19:pi(Ho);break;case 10:uo(r)}n=n.return}Ws=e,Qs=Hu(e.current,null),Gs=t,Hs=Us,Ys=null,$s=Xs=1073741823,Js=null,Zs=0,eu=!1}function ku(e,t){for(;;){try{if(ao(),ma(),null===Qs||null===Qs.return)return Hs=Fs,Ys=t,null;e:{var n=e,r=Qs.return,i=Qs,o=t;if(t=Gs,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var a=o,s=0!=(1&Ho.current),u=r;do{var c;if(c=13===u.tag){var l=u.memoizedState;if(null!==l)c=null!==l.dehydrated;else{var h=u.memoizedProps;c=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!s)}}if(c){var f=u.updateQueue;if(null===f){var p=new Set;p.add(a),u.updateQueue=p}else f.add(a);if(0==(2&u.mode)){if(u.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var d=yo(1073741823,null);d.tag=2,go(i,d)}i.expirationTime=1073741823;break e}o=void 0,i=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new As,o=new Set,m.set(a,o)):void 0===(o=m.get(a))&&(o=new Set,m.set(a,o)),!o.has(i)){o.add(i);var y=qu.bind(null,n,a,i);a.then(y,y)}u.effectTag|=4096,u.expirationTime=t;break e}u=u.return}while(null!==u);o=Error(($(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+J(i))}Hs!==zs&&(Hs=js),o=ds(o,i),u=r;do{switch(u.tag){case 3:a=o,u.effectTag|=4096,u.expirationTime=t,bo(u,Ns(u,a,t));break e;case 1:a=o;var v=u.type,g=u.stateNode;if(0==(64&u.effectTag)&&("function"==typeof v.getDerivedStateFromError||null!==g&&"function"==typeof g.componentDidCatch&&(null===au||!au.has(g)))){u.effectTag|=4096,u.expirationTime=t,bo(u,_s(u,a,t));break e}}u=u.return}while(null!==u)}Qs=xu(Qs)}catch(e){t=e;continue}break}}function Cu(){var e=xs.current;return xs.current=xa,null===e?xa:e}function Au(e,t){e<Xs&&2<e&&(Xs=e),null!==t&&e<$s&&2<e&&($s=e,Js=t)}function Nu(e){e>Zs&&(Zs=e)}function _u(){for(;null!==Qs;)Qs=Ou(Qs)}function Du(){for(;null!==Qs&&!Di();)Qs=Ou(Qs)}function Ou(e){var t=Ds(e.alternate,e,Gs);return e.memoizedProps=e.pendingProps,null===t&&(t=xu(e)),Ps.current=null,t}function xu(e){Qs=e;do{var t=Qs.alternate;if(e=Qs.return,0==(2048&Qs.effectTag)){e:{var n=t,r=Gs,o=(t=Qs).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:wi(t.type)&&Ei();break;case 3:Wo(),Ti(),(o=t.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===n||null===n.child)&&Ba(t)&&hs(t),ns(t);break;case 5:Go(t),r=zo(Bo.current);var s=t.type;if(null!==n&&null!=t.stateNode)rs(n,t,s,o,r),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var u=zo(jo.current);if(Ba(t)){var c=(o=t).stateNode;n=o.type;var l=o.memoizedProps,h=r;switch(c[cr]=o,c[lr]=l,s=void 0,r=c,n){case"iframe":case"object":case"embed":kn("load",r);break;case"video":case"audio":for(c=0;c<Ze.length;c++)kn(Ze[c],r);break;case"source":kn("error",r);break;case"img":case"image":case"link":kn("error",r),kn("load",r);break;case"form":kn("reset",r),kn("submit",r);break;case"details":kn("toggle",r);break;case"input":Ae(r,l),kn("invalid",r),zn(h,"onChange");break;case"select":r._wrapperState={wasMultiple:!!l.multiple},kn("invalid",r),zn(h,"onChange");break;case"textarea":Le(r,l),kn("invalid",r),zn(h,"onChange")}for(s in qn(n,l),c=null,l)l.hasOwnProperty(s)&&(u=l[s],"children"===s?"string"==typeof u?r.textContent!==u&&(c=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(c=["children",""+u]):p.hasOwnProperty(s)&&null!=u&&zn(h,s));switch(n){case"input":Ie(r),De(r,l,!0);break;case"textarea":Ie(r),Ve(r);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(r.onclick=Kn)}s=c,o.updateQueue=s,(o=null!==s)&&hs(t)}else{n=t,h=s,l=o,c=9===r.nodeType?r:r.ownerDocument,u===Ue.html&&(u=Fe(h)),u===Ue.html?"script"===h?((l=c.createElement("div")).innerHTML="<script><\/script>",c=l.removeChild(l.firstChild)):"string"==typeof l.is?c=c.createElement(h,{is:l.is}):(c=c.createElement(h),"select"===h&&(h=c,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):c=c.createElementNS(u,h),(l=c)[cr]=n,l[lr]=o,ts(l,t,!1,!1),t.stateNode=l;var f=r,d=Bn(h=s,n=o);switch(h){case"iframe":case"object":case"embed":kn("load",l),r=n;break;case"video":case"audio":for(r=0;r<Ze.length;r++)kn(Ze[r],l);r=n;break;case"source":kn("error",l),r=n;break;case"img":case"image":case"link":kn("error",l),kn("load",l),r=n;break;case"form":kn("reset",l),kn("submit",l),r=n;break;case"details":kn("toggle",l),r=n;break;case"input":Ae(l,n),r=Ce(l,n),kn("invalid",l),zn(f,"onChange");break;case"option":r=xe(l,n);break;case"select":l._wrapperState={wasMultiple:!!n.multiple},r=i({},n,{value:void 0}),kn("invalid",l),zn(f,"onChange");break;case"textarea":Le(l,n),r=Re(l,n),kn("invalid",l),zn(f,"onChange");break;default:r=n}qn(h,r),c=void 0,u=h;var m=l,y=r;for(c in y)if(y.hasOwnProperty(c)){var v=y[c];"style"===c?Fn(m,v):"dangerouslySetInnerHTML"===c?null!=(v=v?v.__html:void 0)&&Be(m,v):"children"===c?"string"==typeof v?("textarea"!==u||""!==v)&&ze(m,v):"number"==typeof v&&ze(m,""+v):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(p.hasOwnProperty(c)?null!=v&&zn(f,c):null!=v&&Te(m,c,v,d))}switch(h){case"input":Ie(l),De(l,n,!1);break;case"textarea":Ie(l),Ve(l);break;case"option":null!=n.value&&l.setAttribute("value",""+Ee(n.value));break;case"select":(r=l).multiple=!!n.multiple,null!=(l=n.value)?Pe(r,!!n.multiple,l,!1):null!=n.defaultValue&&Pe(r,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof r.onClick&&(l.onclick=Kn)}(o=nr(s,o))&&hs(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(a(166));break;case 6:if(n&&null!=t.stateNode)is(n,t,n.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(a(166));r=zo(Bo.current),zo(jo.current),Ba(t)?(s=(o=t).stateNode,r=o.memoizedProps,s[cr]=o,(o=s.nodeValue!==r)&&hs(t)):(s=t,(o=(9===r.nodeType?r:r.ownerDocument).createTextNode(o))[cr]=s,t.stateNode=o)}break;case 11:break;case 13:if(pi(Ho),o=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}o=null!==o,s=!1,null===n?void 0!==t.memoizedProps.fallback&&Ba(t):(s=null!==(r=n.memoizedState),o||null===r||null!==(r=n.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=r,r.nextEffect=l):(t.firstEffect=t.lastEffect=r,r.nextEffect=null),r.effectTag=8)),o&&!s&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ho.current)?Hs===Us&&(Hs=qs):(Hs!==Us&&Hs!==qs||(Hs=Bs),0!==Zs&&null!==Ws&&(tc(Ws,Gs),nc(Ws,Zs)))),(o||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Wo(),ns(t);break;case 10:uo(t);break;case 9:case 14:break;case 17:wi(t.type)&&Ei();break;case 19:if(pi(Ho),null===(o=t.memoizedState))break;if(s=0!=(64&t.effectTag),null===(l=o.rendering)){if(s)fs(o,!1);else if(Hs!==Us||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(l=Yo(n))){for(t.effectTag|=64,fs(o,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===o.lastEffect&&(t.firstEffect=null),t.lastEffect=o.lastEffect,o=r,s=t.child;null!==s;)n=o,(r=s).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(l=r.alternate)?(r.childExpirationTime=0,r.expirationTime=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=l.childExpirationTime,r.expirationTime=l.expirationTime,r.child=l.child,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,n=l.dependencies,r.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),s=s.sibling;di(Ho,1&Ho.current|2),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=Yo(l))){if(t.effectTag|=64,s=!0,null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),fs(o,!0),null===o.tail&&"hidden"===o.tailMode){null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else Wi()>o.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,fs(o,!1),t.expirationTime=t.childExpirationTime=r-1);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=Wi()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=t.lastEffect,r.sibling=null,o=Ho.current,di(Ho,o=s?1&o|2:1&o),t=r;break e}break;case 20:case 21:break;default:throw Error(a(156,t.tag))}t=null}if(o=Qs,1===Gs||1!==o.childExpirationTime){for(s=0,r=o.child;null!==r;)(n=r.expirationTime)>s&&(s=n),(l=r.childExpirationTime)>s&&(s=l),r=r.sibling;o.childExpirationTime=s}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Qs.firstEffect),null!==Qs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Qs.firstEffect),e.lastEffect=Qs.lastEffect),1<Qs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Qs:e.firstEffect=Qs,e.lastEffect=Qs))}else{if(null!==(t=ps(Qs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Qs.sibling))return t;Qs=e}while(null!==Qs);return Hs===Us&&(Hs=zs),null}function Pu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Ru(e){var t=Qi();return Hi(99,Lu.bind(null,e,t)),null}function Lu(e,t){if(Vu(),(Ks&(Ms|Vs))!==Rs)throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Pu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ws&&(Qs=Ws=null,Gs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ks;Ks|=Vs,Ps.current=null,er=In;var s=Hn();if(Yn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{u.nodeType,h.nodeType}catch(e){u=null;break e}var f=0,p=-1,d=-1,m=0,y=0,v=s,g=null;t:for(;;){for(var b;v!==u||0!==l&&3!==v.nodeType||(p=f+l),v!==h||0!==c&&3!==v.nodeType||(d=f+c),3===v.nodeType&&(f+=v.nodeValue.length),null!==(b=v.firstChild);)g=v,v=b;for(;;){if(v===s)break t;if(g===u&&++m===l&&(p=f),g===h&&++y===c&&(d=f),null!==(b=v.nextSibling))break;g=(v=g).parentNode}v=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;tr={focusedElem:s,selectionRange:u},In=!1,ru=i;do{try{Mu()}catch(e){if(null===ru)throw Error(a(330));ju(ru,e),ru=ru.nextEffect}}while(null!==ru);ru=i;do{try{for(s=e,u=t;null!==ru;){var w=ru.effectTag;if(16&w&&ze(ru.stateNode,""),128&w){var E=ru.alternate;if(null!==E){var T=E.ref;null!==T&&("function"==typeof T?T(null):T.current=null)}}switch(1038&w){case 2:Ss(ru),ru.effectTag&=-3;break;case 6:Ss(ru),ru.effectTag&=-3,ks(ru.alternate,ru);break;case 1024:ru.effectTag&=-1025;break;case 1028:ru.effectTag&=-1025,ks(ru.alternate,ru);break;case 4:ks(ru.alternate,ru);break;case 8:Is(s,l=ru,u),Es(l)}ru=ru.nextEffect}}catch(e){if(null===ru)throw Error(a(330));ju(ru,e),ru=ru.nextEffect}}while(null!==ru);if(T=tr,E=Hn(),w=T.focusedElem,u=T.selectionRange,E!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==u&&Yn(w)&&(E=u.start,void 0===(T=u.end)&&(T=E),"selectionStart"in w?(w.selectionStart=E,w.selectionEnd=Math.min(T,w.value.length)):(T=(E=w.ownerDocument||document)&&E.defaultView||window).getSelection&&(T=T.getSelection(),l=w.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!T.extend&&s>u&&(l=u,u=s,s=l),l=Gn(w,s),h=Gn(w,u),l&&h&&(1!==T.rangeCount||T.anchorNode!==l.node||T.anchorOffset!==l.offset||T.focusNode!==h.node||T.focusOffset!==h.offset)&&((E=E.createRange()).setStart(l.node,l.offset),T.removeAllRanges(),s>u?(T.addRange(E),T.extend(h.node,h.offset)):(E.setEnd(h.node,h.offset),T.addRange(E))))),E=[];for(T=w;T=T.parentNode;)1===T.nodeType&&E.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<E.length;w++)(T=E[w]).element.scrollLeft=T.left,T.element.scrollTop=T.top}tr=null,In=!!er,er=null,e.current=n,ru=i;do{try{for(w=r;null!==ru;){var S=ru.effectTag;if(36&S){var I=ru.alternate;switch(T=w,(E=ru).tag){case 0:case 11:case 15:bs(16,32,E);break;case 1:var k=E.stateNode;if(4&E.effectTag)if(null===I)k.componentDidMount();else{var C=E.elementType===E.type?I.memoizedProps:to(E.type,I.memoizedProps);k.componentDidUpdate(C,I.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var A=E.updateQueue;null!==A&&So(0,A,k);break;case 3:var N=E.updateQueue;if(null!==N){if(s=null,null!==E.child)switch(E.child.tag){case 5:s=E.child.stateNode;break;case 1:s=E.child.stateNode}So(0,N,s)}break;case 5:var _=E.stateNode;null===I&&4&E.effectTag&&nr(E.type,E.memoizedProps)&&_.focus();break;case 6:case 4:case 12:break;case 13:if(null===E.memoizedState){var D=E.alternate;if(null!==D){var O=D.memoizedState;if(null!==O){var x=O.dehydrated;null!==x&&kt(x)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(a(163))}}if(128&S){E=void 0;var P=ru.ref;if(null!==P){var R=ru.stateNode;switch(ru.tag){case 5:E=R;break;default:E=R}"function"==typeof P?P(E):P.current=E}}ru=ru.nextEffect}}catch(e){if(null===ru)throw Error(a(330));ju(ru,e),ru=ru.nextEffect}}while(null!==ru);ru=null,ji(),Ks=o}else e.current=n;if(su)su=!1,uu=e,cu=t;else for(ru=i;null!==ru;)t=ru.nextEffect,ru.nextEffect=null,ru=t;if(0===(t=e.firstPendingTime)&&(au=null),1073741823===t?e===fu?hu++:(hu=0,fu=e):hu=0,"function"==typeof zu&&zu(n.stateNode,r),bu(e),iu)throw iu=!1,e=ou,ou=null,e;return(Ks&Ls)!==Rs?null:($i(),null)}function Mu(){for(;null!==ru;){var e=ru.effectTag;0!=(256&e)&&gs(ru.alternate,ru),0==(512&e)||su||(su=!0,Yi(97,(function(){return Vu(),null}))),ru=ru.nextEffect}}function Vu(){if(90!==cu){var e=97<cu?97:cu;return cu=90,Hi(e,Uu)}}function Uu(){if(null===uu)return!1;var e=uu;if(uu=null,(Ks&(Ms|Vs))!==Rs)throw Error(a(331));var t=Ks;for(Ks|=Vs,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:bs(128,0,n),bs(0,64,n)}}catch(t){if(null===e)throw Error(a(330));ju(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ks=t,$i(),!0}function Fu(e,t,n){go(e,t=Ns(e,t=ds(n,t),1073741823)),null!==(e=vu(e,1073741823))&&bu(e)}function ju(e,t){if(3===e.tag)Fu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===au||!au.has(r))){go(n,e=_s(n,e=ds(t,e),1073741823)),null!==(n=vu(n,1073741823))&&bu(n);break}}n=n.return}}function qu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ws===e&&Gs===n?Hs===Bs||Hs===qs&&1073741823===Xs&&Wi()-tu<nu?Iu(e,Gs):eu=!0:ec(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),bu(e)))}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=mu(t=du(),e,null)),null!==(e=vu(e,t))&&bu(e)}Ds=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||vi.current)Wa=!0;else{if(r<n){switch(Wa=!1,t.tag){case 3:es(t),za();break;case 5:if(Qo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:wi(t.type)&&ki(t);break;case 4:Ko(t,t.stateNode.containerInfo);break;case 10:so(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?as(e,t,n):(di(Ho,1&Ho.current),null!==(t=ls(e,t,n))?t.sibling:null);di(Ho,1&Ho.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return cs(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),di(Ho,Ho.current),!r)return null}return ls(e,t,n)}Wa=!1}}else Wa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=bi(t,yi.current),lo(t,n),i=da(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,ma(),wi(r)){var o=!0;ki(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&Ao(t,r,s,e),i.updater=No,t.stateNode=i,i._reactInternalFiber=t,xo(t,r,e,n),t=Za(null,t,r,!0,o,n)}else t.tag=0,Qa(null,t,i,n),t=t.child;return t;case 16:if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Gu(e)?1:0;if(null!=e){if((e=e.$$typeof)===K)return 11;if(e===G)return 14}return 2}(i),e=to(i,e),o){case 0:t=$a(null,t,i,e,n);break;case 1:t=Ja(null,t,i,e,n);break;case 11:t=Ga(null,t,i,e,n);break;case 14:t=Ha(null,t,i,to(i.type,e),r,n);break;default:throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,$a(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ja(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:if(es(t),null===(r=t.updateQueue))throw Error(a(282));if(i=null!==(i=t.memoizedState)?i.element:null,To(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i)za(),t=ls(e,t,n);else{if((i=t.stateNode.hydrate)&&(Ma=ar(t.stateNode.containerInfo.firstChild),La=t,i=Va=!0),i)for(n=Uo(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Qa(e,t,r,n),za();t=t.child}return t;case 5:return Qo(t),null===e&&ja(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,rr(r,i)?s=null:null!==o&&rr(r,o)&&(t.effectTag|=16),Xa(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Qa(e,t,s,n),t=t.child),t;case 6:return null===e&&ja(t),null;case 13:return as(e,t,n);case 4:return Ko(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Vo(t,null,r,n):Qa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ga(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return Qa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Qa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,so(t,o=i.value),null!==s){var u=s.value;if(0===(o=ei(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!vi.current){t=ls(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=yo(n,null)).tag=2,go(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),co(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}Qa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,lo(t,n),r=r(i=ho(i,o.unstable_observedBits)),t.effectTag|=1,Qa(e,t,r,n),t.child;case 14:return o=to(i=t.type,t.pendingProps),Ha(e,t,i,o=to(i.type,o),r,n);case 15:return Ya(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,wi(r)?(e=!0,ki(t)):e=!1,lo(t,n),Do(t,r,i),xo(t,r,i,n),Za(null,t,r,!0,e,n);case 19:return cs(e,t,n)}throw Error(a(156,t.tag))};var zu=null,Ku=null;function Wu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Qu(e,t,n,r){return new Wu(e,t,n,r)}function Gu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Qu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Gu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case U:return Xu(n.children,i,o,t);case z:s=8,i|=7;break;case F:s=8,i|=1;break;case j:return(e=Qu(12,n,t,8|i)).elementType=j,e.type=j,e.expirationTime=o,e;case W:return(e=Qu(13,n,t,i)).type=W,e.elementType=W,e.expirationTime=o,e;case Q:return(e=Qu(19,n,t,i)).elementType=Q,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case q:s=10;break e;case B:s=9;break e;case K:s=11;break e;case G:s=14;break e;case H:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Qu(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Xu(e,t,n,r){return(e=Qu(7,e,r,t)).expirationTime=n,e}function $u(e,t,n){return(e=Qu(6,e,null,t)).expirationTime=n,e}function Ju(e,t,n){return(t=Qu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ec(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function tc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function nc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function rc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function ic(e,t,n,r){var i=t.current,o=du(),s=ko.suspense;o=mu(o,i,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(wi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(wi(c)){n=Ii(n,c,u);break e}}n=u}else n=mi;return null===t.context?t.context=n:t.pendingContext=n,(t=yo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),go(i,t),yu(i,o),o}function oc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function ac(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function sc(e,t){ac(e,t),(e=e.alternate)&&ac(e,t)}function uc(e,t,n){var r=new Zu(e,t,n=null!=n&&!0===n.hydrate),i=Qu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,e[hr]=r.current,n&&0!==t&&function(e){var t=Rn(e);mt.forEach((function(n){Ln(n,e,t)})),yt.forEach((function(n){Ln(n,e,t)}))}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function cc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=oc(a);s.call(e)}}ic(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new uc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=oc(a);u.call(e)}}Su((function(){ic(t,a,e,i)}))}return oc(a)}function hc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!cc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:V,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}it=function(e){if(13===e.tag){var t=eo(du(),150,100);yu(e,t),sc(e,t)}},ot=function(e){if(13===e.tag){du();var t=Zi++;yu(e,t),sc(e,t)}},at=function(e){if(13===e.tag){var t=du();yu(e,t=mu(t,e,null)),sc(e,t)}},ee=function(e,t,n){switch(t){case"input":if(_e(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=mr(r);if(!i)throw Error(a(90));ke(r),_e(r,i)}}}break;case"textarea":Me(e,n);break;case"select":null!=(t=n.value)&&Pe(e,!!n.multiple,t,!1)}},uc.prototype.render=function(e,t){ic(e,this._internalRoot,null,void 0===t?null:t)},uc.prototype.unmount=function(e){ic(null,this._internalRoot,null,void 0===e?null:e)},ae=Tu,se=function(e,t,n,r){var i=Ks;Ks|=4;try{return Hi(98,e.bind(null,t,n,r))}finally{(Ks=i)===Rs&&$i()}},ue=function(){(Ks&(1|Ms|Vs))===Rs&&(function(){if(null!==lu){var e=lu;lu=null,e.forEach((function(e,t){rc(t,e),bu(t)})),$i()}}(),Vu())},ce=function(e,t){var n=Ks;Ks|=2;try{return e(t)}finally{(Ks=n)===Rs&&$i()}};var fc,pc,dc={createPortal:hc,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},hydrate:function(e,t,n){if(!cc(t))throw Error(a(200));return lc(null,e,t,!0,n)},render:function(e,t,n){if(!cc(t))throw Error(a(200));return lc(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!cc(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return lc(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!cc(e))throw Error(a(40));return!!e._reactRootContainer&&(Su((function(){lc(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return hc.apply(void 0,arguments)},unstable_batchedUpdates:Tu,flushSync:function(e,t){if((Ks&(Ms|Vs))!==Rs)throw Error(a(187));var n=Ks;Ks|=1;try{return Hi(99,e.bind(null,t))}finally{Ks=n,$i()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[pr,dr,mr,O.injectEventPluginsByName,f,xt,function(e){A(e,Ot)},ie,oe,Dn,D,Vu,{current:!1}]}};pc=(fc={findFiberByHostInstance:fr,bundleType:0,version:"16.11.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);zu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Ku=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},fc,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return pc?pc(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var mc={default:dc},yc=mc&&dc||mc;e.exports=yc.default||yc},function(e,t,n){"use strict";e.exports=n(53)},function(e,t,n){"use strict";
/** @license React v0.17.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,l=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(l,0),e}},h=Date.now();t.unstable_now=function(){return Date.now()-h},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,d=window.setTimeout,m=window.clearTimeout,y=window.requestAnimationFrame,v=window.cancelAnimationFrame;if("undefined"!=typeof console&&("function"!=typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),"object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var g=p.now();t.unstable_now=function(){return p.now()-g}}var b=!1,w=null,E=-1,T=5,S=0;a=function(){return t.unstable_now()>=S},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):T=0<e?Math.floor(1e3/e):33.33};var I=new MessageChannel,k=I.port2;I.port1.onmessage=function(){if(null!==w){var e=t.unstable_now();S=e+T;try{w(!0,e)?k.postMessage(null):(b=!1,w=null)}catch(e){throw k.postMessage(null),e}}else b=!1},r=function(e){w=e,b||(b=!0,k.postMessage(null))},i=function(e,n){E=d((function(){e(t.unstable_now())}),n)},o=function(){m(E),E=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function A(e){return void 0===(e=e[0])?null:e}function N(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>_(a,n))void 0!==u&&0>_(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>_(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var D=[],O=[],x=1,P=null,R=3,L=!1,M=!1,V=!1;function U(e){for(var t=A(O);null!==t;){if(null===t.callback)N(O);else{if(!(t.startTime<=e))break;N(O),t.sortIndex=t.expirationTime,C(D,t)}t=A(O)}}function F(e){if(V=!1,U(e),!M)if(null!==A(D))M=!0,r(j);else{var t=A(O);null!==t&&i(F,t.startTime-e)}}function j(e,n){M=!1,V&&(V=!1,o()),L=!0;var r=R;try{for(U(n),P=A(D);null!==P&&(!(P.expirationTime>n)||e&&!a());){var s=P.callback;if(null!==s){P.callback=null,R=P.priorityLevel;var u=s(P.expirationTime<=n);n=t.unstable_now(),"function"==typeof u?P.callback=u:P===A(D)&&N(D),U(n)}else N(D);P=A(D)}if(null!==P)var c=!0;else{var l=A(O);null!==l&&i(F,l.startTime-n),c=!1}return c}finally{P=null,R=r,L=!1}}function q(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var u=a.delay;u="number"==typeof u&&0<u?s+u:s,a="number"==typeof a.timeout?a.timeout:q(e)}else a=q(e),u=s;return e={id:x++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(e.sortIndex=u,C(O,e),null===A(D)&&e===A(O)&&(V?o():V=!0,i(F,u-s))):(e.sortIndex=a,C(D,e),M||L||(M=!0,r(j))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_shouldYield=function(){var e=t.unstable_now();U(e);var n=A(D);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||a()},t.unstable_requestPaint=B,t.unstable_continueExecution=function(){M||L||(M=!0,r(j))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return A(D)},t.unstable_Profiling=null},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t,n){"use strict";var r=n(58);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";
/** @license React v16.10.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case f:case a:case u:case s:case d:return e;default:switch(e=e&&e.$$typeof){case l:case p:case c:return e;default:return t}}case v:case y:case o:return t}}}function T(e){return E(e)===f}t.typeOf=E,t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=y,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=d,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===u||e===s||e===d||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===g||e.$$typeof===b||e.$$typeof===w)},t.isAsyncMode=function(e){return T(e)||E(e)===h},t.isConcurrentMode=T,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===p},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===d}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(e,t,n){var r=l;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return _()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l="suspendedStart",h="suspendedYield",f="executing",p="completed",d={};function m(){}function y(){}function v(){}var g={};g[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,o)&&(g=w);var E=v.prototype=m.prototype=Object.create(g);function T(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function S(e){var t;this._invoke=function(n,i){function o(){return new Promise((function(t,o){!function t(n,i,o,a){var s=c(e[n],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(l).then((function(e){u.value=e,o(u)}),(function(e){return t("throw",e,o,a)}))}a(s.arg)}(n,i,t,o)}))}return t=t?t.then(o,o):o()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function N(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:_}}function _(){return{value:t,done:!0}}return y.prototype=E.constructor=v,v.constructor=y,v[s]=y.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},T(S.prototype),S.prototype[a]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,i){var o=new S(u(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(E),E[s]="Generator",E[o]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(45),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var p="FirebaseError",d=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(t,e),t}(Error),m=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?y(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new d(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},e}();function y(e,t){return e.replace(v,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(e){return JSON.parse(e)}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var b=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=g(c(o[0])||""),n=g(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var w=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();var E=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function T(){}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=m,t.FirebaseError=d,t.Sha1=w,t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.contains=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new E(e,t);return n.subscribe.bind(n)},t.decode=b,t.deepCopy=
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=S,t.getUA=f,t.isAdmin=function(e){var t=b(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(e){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=b(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=b(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=b(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=g,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(e,t,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(e,t,r)+"must be a valid firebase namespace.")}}).call(this,n(32))},function(e,t,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.r(t),n.d(t,"LogLevel",(function(){return i})),n.d(t,"Logger",(function(){return u})),n.d(t,"setLogLevel",(function(){return c}));var i,o=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var a=i.INFO,s=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(t<e.logLevel)){var a=(new Date).toISOString();switch(t){case i.DEBUG:case i.VERBOSE:console.log.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case i.INFO:console.info.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case i.WARN:console.warn.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case i.ERROR:console.error.apply(console,r(["["+a+"]  "+e.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},u=function(){function e(e){this.name=e,this._logLevel=a,this._logHandler=s,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.ERROR],e))},e}();
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(e){o.forEach((function(t){t.logLevel=e}))}},function(e,t,n){"use strict";n(65)},function(e,t,n){"use strict";(function(e){var t=n(3),r=n.n(t);(function(){var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i="undefined"!=typeof window&&window===this?this:void 0!==e&&null!=e?e:this;function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,t){if(t){var r=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in r||(r[a]={}),r=r[a]}(t=t(o=r[e=e[e.length-1]]))!=o&&null!=t&&n(r,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.h(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.o=function(e){var t=this.f();e.Ja(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ja(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ja=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Ja(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ja(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},u=this||self;function c(e){return"string"==typeof e}function l(e){return"boolean"==typeof e}var h=/^[\w+/_-]+[=]{0,2}$/,f=null;function p(){}function d(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function m(e){return null===e}function y(e){return"array"==d(e)}function v(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function g(e){return"function"==d(e)}function b(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var w="closure_uid_"+(1e9*Math.random()>>>0),E=0;function T(e,t,n){return e.call.apply(e.bind,arguments)}function S(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function I(e,t,n){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?T:S).apply(null,arguments)}function k(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var C=Date.now||function(){return+new Date};function A(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.fd=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function N(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function _(e){if(Error.captureStackTrace)Error.captureStackTrace(this,_);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function D(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");_.call(this,n+e[r])}function O(e,t){throw new D("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function x(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function P(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function R(){this.b=this.a=null}A(_,Error),_.prototype.name="CustomError",A(D,_),D.prototype.name="AssertionError",x.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var L=new x((function(){return new V}),(function(e){e.reset()}));function M(){var e=Ke,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function V(){this.next=this.b=this.a=null}function U(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(b(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;O("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}R.prototype.add=function(e,t){var n=L.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(c(e))return c(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},j=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=c(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var q=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=c(e)?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},B=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=c(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function z(e,t){return 0<=F(e,t)}function K(e,t){var n;return(n=0<=(t=F(e,t)))&&Array.prototype.splice.call(e,t,1),n}function W(e,t){!function(e,t){for(var n=c(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function Q(e){return Array.prototype.concat.apply([],arguments)}function G(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function H(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function Y(e){for(var t in e)return!1;return!0}function X(e){var t,n={};for(t in e)n[t]=e[t];return n}var $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<$.length;o++)n=$[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Z(e,t){this.a=e===ne&&t||"",this.b=te}function ee(e){return e instanceof Z&&e.constructor===Z&&e.b===te?e.a:(O("expected object of type Const, got '"+e+"'"),"type_error:Const")}Z.prototype.qa=!0,Z.prototype.pa=function(){return this.a},Z.prototype.toString=function(){return"Const{"+this.a+"}"};var te={},ne={},re=new Z(ne,"");function ie(){this.a="",this.b=ce}function oe(e){return e instanceof ie&&e.constructor===ie&&e.b===ce?e.a:(O("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function ae(e,t){var n=ee(e);if(!ue.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return le(e=n.replace(se,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof Z?ee(e):encodeURIComponent(String(e))})))}ie.prototype.qa=!0,ie.prototype.pa=function(){return this.a.toString()},ie.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var se=/%{(\w+)}/g,ue=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ce={};function le(e){var t=new ie;return t.a=e,t}var he=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},fe=/&/g,pe=/</g,de=/>/g,me=/"/g,ye=/'/g,ve=/\x00/g,ge=/[\x00&<>"']/;function be(e,t){return-1!=e.indexOf(t)}function we(e,t){return e<t?-1:e>t?1:0}function Ee(){this.a="",this.b=Ce}function Te(e){return e instanceof Ee&&e.constructor===Ee&&e.b===Ce?e.a:(O("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Ee.prototype.qa=!0,Ee.prototype.pa=function(){return this.a.toString()},Ee.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Se=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ie(e){return e instanceof Ee?e:(e="object"==typeof e&&e.qa?e.pa():String(e),Se.test(e)||(e="about:invalid#zClosurez"),Ae(e))}var ke,Ce={};function Ae(e){var t=new Ee;return t.a=e,t}Ae("about:blank");e:{var Ne=u.navigator;if(Ne){var _e=Ne.userAgent;if(_e){ke=_e;break e}}ke=""}function De(e){return be(ke,e)}function Oe(){this.a="",this.b=Pe}function xe(e){return e instanceof Oe&&e.constructor===Oe&&e.b===Pe?e.a:(O("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}Oe.prototype.qa=!0,Oe.prototype.pa=function(){return this.a.toString()},Oe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Pe={};function Re(e){var t=new Oe;return t.a=e,t}Re("<!DOCTYPE html>");var Le,Me,Ve=Re("");function Ue(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Fe(e){return ge.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(fe,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(pe,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(de,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(me,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ye,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ve,"&#0;"))),e}function je(e){u.setTimeout((function(){throw e}),0)}function qe(){var e=u.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!De("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",function(e){var t=le(ee(re));U(e,"HTMLIFrameElement"),e.src=oe(t).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(xe(Ve)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=I((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!De("Trident")&&!De("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).yb;n.yb=null,e()}},function(e){r.next={yb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){u.setTimeout(e,0)}}function Be(e,t){Me||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);Me=function(){e.then(We)}}else Me=function(){var e=We;!g(u.setImmediate)||u.Window&&u.Window.prototype&&!De("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(Le||(Le=qe()),Le(e)):u.setImmediate(e)}}(),ze||(Me(),ze=!0),Ke.add(e,t)}Re("<br>");var ze=!1,Ke=new R;function We(){for(var e;e=M();){try{e.a.call(e.b)}catch(e){je(e)}P(L,e)}ze=!1}function Qe(e,t){if(this.a=Ge,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=p)try{var n=this;e.call(t,(function(e){ot(n,He,e)}),(function(e){if(!(e instanceof ft))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}ot(n,Ye,e)}))}catch(e){ot(this,Ye,e)}}var Ge=0,He=2,Ye=3;function Xe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Xe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var $e=new x((function(){return new Xe}),(function(e){e.reset()}));function Je(e,t,n){var r=$e.get();return r.g=e,r.b=t,r.f=n,r}function Ze(e){if(e instanceof Qe)return e;var t=new Qe(p);return ot(t,He,e),t}function et(e){return new Qe((function(t,n){n(e)}))}function tt(e,t,n){at(e,t,n,null)||Be(k(t,e))}function nt(e){return new Qe((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)tt(e[o],k(i,o,!0),k(i,o,!1));else t(r)}))}function rt(e,t){e.b||e.a!=He&&e.a!=Ye||st(e),e.f?e.f.next=t:e.b=t,e.f=t}function it(e,t,n,r){var i=Je(null,null,null);return i.a=new Qe((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof ft?o(t):e(i)}catch(e){o(e)}}:o})),i.a.c=e,rt(e,i),i.a}function ot(e,t,n){e.a==Ge&&(e===n&&(t=Ye,n=new TypeError("Promise cannot resolve to itself")),e.a=1,at(n,e.Oc,e.Pc,e)||(e.i=n,e.a=t,e.c=null,st(e),t!=Ye||n instanceof ft||function(e,t){e.g=!0,Be((function(){e.g&&ht.call(null,t)}))}(e,n)))}function at(e,t,n,r){if(e instanceof Qe)return rt(e,Je(t||p,n||null,r)),!0;if(N(e))return e.then(t,n,r),!0;if(b(e))try{var i=e.then;if(g(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(e){o(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function st(e){e.h||(e.h=!0,Be(e.Zb,e))}function ut(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function ct(e,t,n,r){if(n==Ye&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,lt(t,n,r);else try{t.c?t.g.call(t.f):lt(t,n,r)}catch(e){ht.call(null,e)}P($e,t)}function lt(e,t,n){t==He?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}Qe.prototype.then=function(e,t,n){return it(this,g(e)?e:null,g(t)?t:null,n)},Qe.prototype.$goog_Thenable=!0,(t=Qe.prototype).ka=function(e,t){return(e=Je(e,e,t)).c=!0,rt(this,e),this},t.s=function(e,t){return it(this,null,e,t)},t.cancel=function(e){this.a==Ge&&Be((function(){!function e(t,n){if(t.a==Ge)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==t&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==Ge&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):ut(r),ct(r,o,Ye,n)))}t.c=null}else ot(t,Ye,n)}(this,new ft(e))}),this)},t.Oc=function(e){this.a=Ge,ot(this,He,e)},t.Pc=function(e){this.a=Ge,ot(this,Ye,e)},t.Zb=function(){for(var e;e=ut(this);)ct(this,e,this.a,this.i);this.h=!1};var ht=je;function ft(e){_.call(this,e)}function pt(){0!=dt&&(mt[this[w]||(this[w]=++E)]=this),this.ta=this.ta,this.la=this.la}A(ft,_),ft.prototype.name="cancel";var dt=0,mt={};function yt(e){if(!e.ta&&(e.ta=!0,e.xa(),0!=dt)){var t=e[w]||(e[w]=++E);if(0!=dt&&e.la&&0<e.la.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete mt[t]}}function vt(e){return vt[" "](e),e}pt.prototype.ta=!1,pt.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},vt[" "]=p;var gt,bt,wt=De("Opera"),Et=De("Trident")||De("MSIE"),Tt=De("Edge"),St=Tt||Et,It=De("Gecko")&&!(be(ke.toLowerCase(),"webkit")&&!De("Edge"))&&!(De("Trident")||De("MSIE"))&&!De("Edge"),kt=be(ke.toLowerCase(),"webkit")&&!De("Edge");function Ct(){var e=u.document;return e?e.documentMode:void 0}e:{var At="",Nt=(bt=ke,It?/rv:([^\);]+)(\)|;)/.exec(bt):Tt?/Edge\/([\d\.]+)/.exec(bt):Et?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(bt):kt?/WebKit\/(\S+)/.exec(bt):wt?/(?:Version)[ \/]?(\S+)/.exec(bt):void 0);if(Nt&&(At=Nt?Nt[1]:""),Et){var _t=Ct();if(null!=_t&&_t>parseFloat(At)){gt=String(_t);break e}}gt=At}var Dt,Ot={};function xt(e){return function(e,t){var n=Ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=he(String(gt)).split("."),r=he(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=we(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||we(0==a[2].length,0==s[2].length)||we(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}Dt=u.document&&Et?Ct():void 0;var Pt=Object.freeze||function(e){return e},Rt=!Et||9<=Number(Dt),Lt=Et&&!xt("9"),Mt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",p,t),u.removeEventListener("test",p,t)}catch(e){}return e}();function Vt(e,t){this.type=e,this.b=this.target=t,this.Mb=!0}function Ut(e,t){if(Vt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(It){e:{try{vt(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=c(e.pointerType)?e.pointerType:Ft[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Vt.prototype.preventDefault=function(){this.Mb=!1},A(Ut,Vt);var Ft=Pt({2:"touch",3:"pen",4:"mouse"});Ut.prototype.preventDefault=function(){Ut.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Lt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Ut.prototype.f=function(){return this.a};var jt="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Bt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Na=i,this.key=++qt,this.ra=this.Ia=!1}function zt(e){e.ra=!0,e.listener=null,e.proxy=null,e.src=null,e.Na=null}function Kt(e){this.src=e,this.a={},this.b=0}function Wt(e,t){var n=t.type;n in e.a&&K(e.a[n],t)&&(zt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Qt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ra&&o.listener==t&&o.capture==!!n&&o.Na==r)return i}return-1}Kt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Qt(e,t,r,i);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new Bt(t,this.src,o,!!r,i)).Ia=n,e.push(t)),t};var Gt="closure_lm_"+(1e6*Math.random()|0),Ht={};function Yt(e,t,n,r,i){if(r&&r.once)$t(e,t,n,r,i);else if(y(t))for(var o=0;o<t.length;o++)Yt(e,t[o],n,r,i);else n=sn(n),e&&e[jt]?cn(e,t,n,b(r)?!!r.capture:!!r,i):Xt(e,t,n,!1,r,i)}function Xt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=b(i)?!!i.capture:!!i,s=on(e);if(s||(e[Gt]=s=new Kt(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=rn,t=Rt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Mt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(en(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function $t(e,t,n,r,i){if(y(t))for(var o=0;o<t.length;o++)$t(e,t[o],n,r,i);else n=sn(n),e&&e[jt]?ln(e,t,n,b(r)?!!r.capture:!!r,i):Xt(e,t,n,!0,r,i)}function Jt(e,t,n,r,i){if(y(t))for(var o=0;o<t.length;o++)Jt(e,t[o],n,r,i);else r=b(r)?!!r.capture:!!r,n=sn(n),e&&e[jt]?(e=e.u,(t=String(t).toString())in e.a&&(-1<(n=Qt(o=e.a[t],n,r,i))&&(zt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=on(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Qt(t,n,r,i)),(n=-1<e?t[e]:null)&&Zt(n))}function Zt(e){if("number"!=typeof e&&e&&!e.ra){var t=e.src;if(t&&t[jt])Wt(t.u,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(en(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=on(t))?(Wt(n,e),0==n.b&&(n.src=null,t[Gt]=null)):zt(e)}}}function en(e){return e in Ht?Ht[e]:Ht[e]="on"+e}function tn(e,t,n,r){var i=!0;if((e=on(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ra&&(o=nn(o,r),i=i&&!1!==o)}return i}function nn(e,t){var n=e.listener,r=e.Na||e.src;return e.Ia&&Zt(e),n.call(r,t)}function rn(e,t){if(e.ra)return!0;if(!Rt){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Ut(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=tn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=tn(r[i],e,!1,t),n=n&&o}return n}return nn(e,new Ut(t,this))}function on(e){return(e=e[Gt])instanceof Kt?e:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function sn(e){return g(e)?e:(e[an]||(e[an]=function(t){return e.handleEvent(t)}),e[an])}function un(){pt.call(this),this.u=new Kt(this),this.Sb=this,this.Wa=null}function cn(e,t,n,r,i){e.u.add(String(t),n,!1,r,i)}function ln(e,t,n,r,i){e.u.add(String(t),n,!0,r,i)}function hn(e,t,n,r){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ra&&a.capture==n){var s=a.listener,u=a.Na||a.src;a.Ia&&Wt(e.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Mb}function fn(e,t,n){if(g(e))n&&(e=I(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=I(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function pn(e){var t=null;return new Qe((function(n,r){-1==(t=fn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).s((function(e){throw u.clearTimeout(t),e}))}function dn(e){if(e.U&&"function"==typeof e.U)return e.U();if(c(e))return e.split("");if(v(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function mn(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.U||"function"!=typeof e.U){if(v(e)||c(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function yn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof yn)for(n=e.X(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function vn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];gn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)gn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function gn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}A(un,pt),un.prototype[jt]=!0,un.prototype.addEventListener=function(e,t,n,r){Yt(this,e,t,n,r)},un.prototype.removeEventListener=function(e,t,n,r){Jt(this,e,t,n,r)},un.prototype.dispatchEvent=function(e){var t,n=this.Wa;if(n)for(t=[];n;n=n.Wa)t.push(n);n=this.Sb;var r=e.type||e;if(c(e))e=new Vt(e,n);else if(e instanceof Vt)e.target=e.target||n;else{var i=e;J(e=new Vt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=hn(a,r,!0,e)&&i}if(i=hn(a=e.b=n,r,!0,e)&&i,i=hn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=hn(a=e.b=t[o],r,!1,e)&&i;return i},un.prototype.xa=function(){if(un.qb.xa.call(this),this.u){var e,t=this.u;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)zt(n[r]);delete t.a[e],t.b--}}this.Wa=null},(t=yn.prototype).U=function(){vn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},t.X=function(){return vn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(e,t){return gn(this.b,e)?this.b[e]:t},t.set=function(e,t){gn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},t.forEach=function(e,t){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var bn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wn(e,t){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,e instanceof wn?(this.h=void 0!==t?t:e.h,En(this,e.f),this.i=e.i,this.b=e.b,Tn(this,e.l),this.c=e.c,Sn(this,Bn(e.a)),this.g=e.g):e&&(n=String(e).match(bn))?(this.h=!!t,En(this,n[1]||"",!0),this.i=Nn(n[2]||""),this.b=Nn(n[3]||"",!0),Tn(this,n[4]),this.c=Nn(n[5]||"",!0),Sn(this,n[6]||"",!0),this.g=Nn(n[7]||"")):(this.h=!!t,this.a=new Mn(null,this.h))}function En(e,t,n){e.f=n?Nn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Tn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.l=t}else e.l=null}function Sn(e,t,n){t instanceof Mn?(e.a=t,function(e,t){t&&!e.f&&(Vn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Fn(this,t),qn(this,n,e))}),e)),e.f=t}(e.a,e.h)):(n||(t=_n(t,Rn)),e.a=new Mn(t,e.h))}function In(e,t,n){e.a.set(t,n)}function kn(e,t){return e.a.get(t)}function Cn(e){return e instanceof wn?new wn(e):new wn(e,void 0)}function An(e,t){var n=new wn(null,void 0);return En(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function Nn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _n(e,t,n){return c(e)?(e=encodeURI(e).replace(t,Dn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Dn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}wn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(_n(t,On,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(_n(t,On,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(_n(n,"/"==n.charAt(0)?Pn:xn,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",_n(n,Ln)),e.join("")},wn.prototype.resolve=function(e){var t=new wn(this),n=!!e.f;n?En(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.l;var r=e.c;if(n)Tn(t,e.l);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(be(i,"./")||be(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.a.toString(),n?Sn(t,Bn(e.a)):n=!!e.g,n&&(t.g=e.g),t};var On=/[#\/\?@]/g,xn=/[#\?:]/g,Pn=/[#\?]/g,Rn=/[#\?@]/g,Ln=/#/g;function Mn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Vn(e){e.a||(e.a=new yn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Un(e){var t=mn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Mn(null,void 0);e=dn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];y(o)?qn(n,i,o):n.add(i,o)}return n}function Fn(e,t){Vn(e),t=zn(e,t),gn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,gn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&vn(e)))}function jn(e,t){return Vn(e),t=zn(e,t),gn(e.a.b,t)}function qn(e,t,n){Fn(e,t),0<n.length&&(e.c=null,e.a.set(zn(e,t),G(n)),e.b+=n.length)}function Bn(e){var t=new Mn;return t.c=e.c,e.a&&(t.a=new yn(e.a),t.b=e.b),t}function zn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(t=Mn.prototype).add=function(e,t){Vn(this),this.c=null,e=zn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(e,t){Vn(this),this.a.forEach((function(n,r){j(n,(function(n){e.call(t,n,r,this)}),this)}),this)},t.X=function(){Vn(this);for(var e=this.a.U(),t=this.a.X(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},t.U=function(e){Vn(this);var t=[];if(c(e))jn(this,e)&&(t=Q(t,this.a.get(zn(this,e))));else{e=this.a.U();for(var n=0;n<e.length;n++)t=Q(t,e[n])}return t},t.set=function(e,t){return Vn(this),this.c=null,jn(this,e=zn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},t.get=function(e,t){return e&&0<(e=this.U(e)).length?String(e[0]):t},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.X(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var Kn=!Et||9<=Number(Dt);function Wn(e){var t=document;return c(e)?t.getElementById(e):e}function Qn(e,t){H(t,(function(t,n){t&&"object"==typeof t&&t.qa&&(t=t.pa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Gn.hasOwnProperty(n)?e.setAttribute(Gn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var Gn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Hn(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!Kn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Fe(a.name),'"'),a.type){o.push(' type="',Fe(a.type),'"');var s={};J(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=i.createElement(o),a&&(c(a)?o.className=a:y(a)?o.className=a.join(" "):Qn(o,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild(c(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!v(o)||b(o)&&0<o.nodeType?r(o):j(Yn(o)?G(o):o,r)}}(i,o,r),o}function Yn(e){if(e&&"number"==typeof e.length){if(b(e))return"function"==typeof e.item||"string"==typeof e.item;if(g(e))return"function"==typeof e.item}return!1}function Xn(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(y(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),er(i,r),r.push(":"),e(t,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":er(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new $n,e,t),t.join("")}function $n(){}var Jn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Zn=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function er(e,t){t.push('"',e.replace(Zn,(function(e){var t=Jn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Jn[e]=t),t})),'"')}function tr(){var e=wr();return Et&&!!Dt&&11==Dt||/Edge\/\d+/.test(e)}function nr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function rr(e,t){t=t||u.window;var n="about:blank";e&&(n=Te(Ie(e)).toString()),t.location.href=n}function ir(e){return!!((e=(e||wr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function or(e){e=e||u.window;try{e.close()}catch(e){}}function ar(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=wr().toLowerCase(),r&&(t.target=r,be(n,"crios/")&&(t.target="_blank")),vr(wr())==mr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ee?n:Ie(void 0!==n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((De("iPhone")&&!De("iPod")&&!De("iPad")||De("iPad")||De("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(U(a=r.document.createElement("A"),"HTMLAnchorElement"),t instanceof Ee||t instanceof Ee||(t="object"==typeof t&&t.qa?t.pa():String(t),Se.test(t)||(t="about:invalid#zClosurez"),t=Ae(t)),a.href=Te(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=Te(t).toString(),a&&(St&&be(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=Re('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Fe(e)+'">'),a.document.write(xe(e)),a.document.close())):(a=r.open(Te(t).toString(),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var sr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ur=/^[^@]+@[^@]+$/;function cr(){var e=null;return new Qe((function(t){"complete"==u.document.readyState?t():(e=function(){t()},$t(window,"load",e))})).s((function(t){throw Jt(window,"load",e),t}))}function lr(e){return e=e||wr(),!("file:"!==kr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function hr(){var e=u.window;try{return!(!e||e==e.top)}catch(e){return!1}}function fr(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function pr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":fr()?"Worker":"Browser"}function dr(){var e=pr();return"ReactNative"===e||"Node"===e}var mr="Firefox",yr="Chrome";function vr(e){var t=e.toLowerCase();return be(t,"opera/")||be(t,"opr/")||be(t,"opios/")?"Opera":be(t,"iemobile")?"IEMobile":be(t,"msie")||be(t,"trident/")?"IE":be(t,"edge/")?"Edge":be(t,"firefox/")?mr:be(t,"silk/")?"Silk":be(t,"blackberry")?"Blackberry":be(t,"webos")?"Webos":!be(t,"safari/")||be(t,"chrome/")||be(t,"crios/")||be(t,"android")?!be(t,"chrome/")&&!be(t,"crios/")||be(t,"edge/")?be(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":yr:"Safari"}var gr={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};function br(e,t){t=t||[];var n,r=[],i={};for(n in gr)i[gr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=pr())?r=vr(i=wr()):"Worker"===r&&(r=vr(i=wr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function wr(){return u.navigator&&u.navigator.userAgent||""}function Er(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Tr(){try{var e=u.localStorage,t=Dr();if(e)return e.setItem(t,"1"),e.removeItem(t),!tr()||!!u.indexedDB}catch(e){return fr()&&!!u.indexedDB}return!1}function Sr(){return(Ir()||"chrome-extension:"===kr()||lr())&&!dr()&&Tr()&&!fr()}function Ir(){return"http:"===kr()||"https:"===kr()}function kr(){return u.location&&u.location.protocol||null}function Cr(e){return!ir(e=e||wr())&&vr(e)!=mr}function Ar(e){return void 0===e?null:Xn(e)}function Nr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function _r(e){if(null!==e)return JSON.parse(e)}function Dr(e){return e||Math.floor(1e9*Math.random()).toString()}function Or(e){return"Safari"!=vr(e=e||wr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function xr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Pr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=wr(),t=pr(),this.b=ir(e)||"ReactNative"===t}function Rr(){var e=u.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Lr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Mr(){return!(!Er("fireauth.oauthhelper",u)&&!Er("fireauth.iframe",u))}Pr.prototype.get=function(){var e=u.navigator;return!e||"boolean"!=typeof e.onLine||!Ir()&&"chrome-extension:"!==kr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Vr,Ur={};function Fr(e){Ur[e]||(Ur[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var jr={};Object.defineProperty(jr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(jr,"abcd",{configurable:!0,enumerable:!0,value:2}),Vr=2==jr.abcd}catch(bt){Vr=!1}function qr(e,t,n){Vr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Br(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&qr(e,n,t[n])}function zr(e){var t={};return Br(t,e),t}function Kr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)qr(t,n,Kr(e[n]));return t}function Wr(e){var t={},n=e[Gr],r=e[Hr];if(!(e=e[Yr])||e!=Qr&&!n)throw Error("Invalid provider user info!");t[$r]=r||null,t[Xr]=n||null,qr(this,Zr,e),qr(this,Jr,Kr(t))}var Qr="EMAIL_SIGNIN",Gr="email",Hr="newEmail",Yr="requestType",Xr="email",$r="fromEmail",Jr="data",Zr="operation";function ei(e,t){this.code=ni+e,this.message=t||ri[e]||""}function ti(e){var t=e&&e.code;return t?new ei(t.substring(ni.length),e.message):null}A(ei,Error),ei.prototype.A=function(){return{code:this.code,message:this.message}},ei.prototype.toJSON=function(){return this.A()};var ni="auth/",ri={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ii(e){var t=kn(e=Cn(e),oi)||null,n=kn(e,ai)||null,r=kn(e,ci)||null;if(r=r&&hi[r]||null,!t||!n||!r)throw new ei("argument-error",oi+", "+ai+"and "+ci+" are required in a valid action code URL.");Br(this,{apiKey:t,operation:r,code:n,continueUrl:kn(e,si)||null,languageCode:kn(e,ui)||null,tenantId:kn(e,li)||null})}var oi="apiKey",ai="oobCode",si="continueUrl",ui="languageCode",ci="mode",li="tenantId",hi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Qr,verifyEmail:"VERIFY_EMAIL"};function fi(e){try{return new ii(e)}catch(e){return null}}function pi(e){var t=e[gi];if(void 0===t)throw new ei("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new ei("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[di];if(n&&"object"==typeof n){t=n[Ei];var r=n[bi];if(n=n[wi],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new ei("argument-error",bi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new ei("argument-error",wi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new ei("argument-error",Ei+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new ei("missing-android-pkg-name")}}else if(void 0!==n)throw new ei("argument-error",di+" property must be a non null object when specified.");if(this.f=null,(t=e[vi])&&"object"==typeof t){if("string"==typeof(t=t[Ti])&&t.length)this.f=t;else if(void 0!==t)throw new ei("argument-error",Ti+" property must be a non empty string when specified.")}else if(void 0!==t)throw new ei("argument-error",vi+" property must be a non null object when specified.");if(void 0!==(t=e[yi])&&"boolean"!=typeof t)throw new ei("argument-error",yi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[mi])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new ei("argument-error",mi+" property must be a non empty string when specified.");this.i=e||null}var di="android",mi="dynamicLinkDomain",yi="handleCodeInApp",vi="iOS",gi="url",bi="installApp",wi="minimumVersion",Ei="packageName",Ti="bundleId";function Si(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Ii=null,ki=null;function Ci(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=ki[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ii){Ii={},ki={};for(var e=0;65>e;e++)Ii[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),ki[Ii[e]]=e,62<=e&&(ki["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t+=String.fromCharCode(e)})),t}function Ai(e){this.f=e.sub,C(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.c=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Ni(e){return(e=_i(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Ai(e):null}function _i(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(Ci(e))}catch(e){}return null}Ai.prototype.R=function(){return this.c},Ai.prototype.g=function(){return this.b};var Di,Oi={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function xi(e){for(var t in Oi)if(Oi[t].id===e)return{firebaseEndpoint:(e=Oi[t]).bb,secureTokenEndpoint:e.ib};return null}Di=xi("__EID__")?"__EID__":void 0;var Pi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ri=["client_id","response_type","scope","redirect_uri","state"],Li={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:Ri},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:Ri},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:Ri},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:Pi}};function Mi(e){for(var t in Li)if(Li[t].Pa==e)return Li[t];return null}function Vi(e){var t={};t["facebook.com"]=Bi,t["google.com"]=Ki,t["github.com"]=zi,t["twitter.com"]=Wi;var n=e&&e[Fi];try{if(n)return t[n]?new t[n](e):new qi(e);if(void 0!==e[Ui])return new ji(e)}catch(e){}return null}var Ui="idToken",Fi="providerId";function ji(e){var t=e[Fi];if(!t&&e[Ui]){var n=Ni(e[Ui]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),qr(this,"providerId",t),qr(this,"isNewUser",n)}function qi(e){ji.call(this,e),qr(this,"profile",Kr((e=_r(e.rawUserInfo||"{}"))||{}))}function Bi(e){if(qi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function zi(e){if(qi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");qr(this,"username",this.profile&&this.profile.login||null)}function Ki(e){if(qi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Wi(e){if(qi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");qr(this,"username",e.screenName||null)}function Qi(e){var t=Cn(e),n=kn(t,"link"),r=kn(Cn(n),"link");return t=kn(t,"deep_link_id"),kn(Cn(t),"link")||t||r||n||e}function Gi(){}function Hi(e,t){return e.then((function(e){if(e[Ma]){var n=Ni(e[Ma]);if(!n||t!=n.f)throw new ei("user-mismatch");return e}throw new ei("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==ni+"user-not-found"?new ei("user-mismatch"):e}))}function Yi(e,t){if(!t)throw new ei("internal-error","failed to construct a credential");this.a=t,qr(this,"providerId",e),qr(this,"signInMethod",e)}function Xi(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function $i(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Yi(e.providerId,e.pendingToken)}catch(e){}return null}function Ji(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&qr(this,"idToken",t.idToken),t.accessToken&&qr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&qr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new ei("internal-error","failed to construct a credential");qr(this,"accessToken",t.oauthToken),qr(this,"secret",t.oauthTokenSecret)}qr(this,"providerId",e),qr(this,"signInMethod",n)}function Zi(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Un(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function eo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new Ji(e.providerId,t,e.signInMethod)}catch(e){}}return null}function to(e,t){this.Fc=t||[],Br(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.cb=(Mi(e)||{}).Oa||null,this.ab=null}function no(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new ei("argument-error",'SAML provider IDs must be prefixed with "saml."');to.call(this,e,[])}function ro(e){to.call(this,e,Ri),this.a=[]}function io(){ro.call(this,"facebook.com")}function oo(e){if(!e)throw new ei("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return b(e)&&(t=e.accessToken),(new io).credential({accessToken:t})}function ao(){ro.call(this,"github.com")}function so(e){if(!e)throw new ei("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return b(e)&&(t=e.accessToken),(new ao).credential({accessToken:t})}function uo(){ro.call(this,"google.com"),this.wa("profile")}function co(e,t){var n=e;return b(e)&&(n=e.idToken,t=e.accessToken),(new uo).credential({idToken:n,accessToken:t})}function lo(){to.call(this,"twitter.com",Pi)}function ho(e,t){var n=e;if(b(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new ei("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ji("twitter.com",n,"twitter.com")}function fo(e,t,n){this.a=e,this.c=t,qr(this,"providerId","password"),qr(this,"signInMethod",n===mo.EMAIL_LINK_SIGN_IN_METHOD?mo.EMAIL_LINK_SIGN_IN_METHOD:mo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function po(e){return e&&e.email&&e.password?new fo(e.email,e.password,e.signInMethod):null}function mo(){Br(this,{providerId:"password",isOAuthProvider:!1})}function yo(e,t){if(!(t=vo(t)))throw new ei("argument-error","Invalid email link!");return new fo(e,t.code,mo.EMAIL_LINK_SIGN_IN_METHOD)}function vo(e){return(e=fi(e=Qi(e)))&&e.operation===Qr?e:null}function go(e){if(!(e.Ua&&e.Ta||e.Fa&&e.ba))throw new ei("internal-error");this.a=e,qr(this,"providerId","phone"),qr(this,"signInMethod","phone")}function bo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new go(t)}return null}function wo(e){return e.a.Fa&&e.a.ba?{temporaryProof:e.a.Fa,phoneNumber:e.a.ba}:{sessionInfo:e.a.Ua,code:e.a.Ta}}function Eo(e){try{this.a=e||r.a.auth()}catch(e){throw new ei("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Br(this,{providerId:"phone",isOAuthProvider:!1})}function To(e,t){if(!e)throw new ei("missing-verification-id");if(!t)throw new ei("missing-verification-code");return new go({Ua:e,Ta:t})}function So(e){if(e.temporaryProof&&e.phoneNumber)return new go({Fa:e.temporaryProof,ba:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return co(o,n);case"facebook.com":return oo(n);case"github.com":return so(n);case"twitter.com":return ho(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new Yi(t,a):new Ji(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new ro(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function Io(e){if(!e.isOAuthProvider)throw new ei("invalid-oauth-provider")}function ko(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new ei("invalid-auth-event");if(this.g&&this.a)throw new ei("invalid-auth-event");if(this.g&&!this.f)throw new ei("invalid-auth-event")}function Co(e){return(e=e||{}).type?new ko(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&ti(e.error),e.postBody,e.tenantId):null}function Ao(){this.b=null,this.a=[]}A(qi,ji),A(Bi,qi),A(zi,qi),A(Ki,qi),A(Wi,qi),Yi.prototype.na=function(e){return es(e,Xi(this))},Yi.prototype.b=function(e,t){var n=Xi(this);return n.idToken=t,ts(e,n)},Yi.prototype.f=function(e,t){return Hi(ns(e,Xi(this)),t)},Yi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Ji.prototype.na=function(e){return es(e,Zi(this))},Ji.prototype.b=function(e,t){var n=Zi(this);return n.idToken=t,ts(e,n)},Ji.prototype.f=function(e,t){return Hi(ns(e,Zi(this)),t)},Ji.prototype.A=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},to.prototype.Ea=function(e){return this.zb=X(e),this},A(no,to),A(ro,to),ro.prototype.wa=function(e){return z(this.a,e)||this.a.push(e),this},ro.prototype.Hb=function(){return G(this.a)},ro.prototype.credential=function(e,t){var n;if(!(n=b(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new ei("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ji(this.providerId,n,this.providerId)},A(io,ro),qr(io,"PROVIDER_ID","facebook.com"),qr(io,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),A(ao,ro),qr(ao,"PROVIDER_ID","github.com"),qr(ao,"GITHUB_SIGN_IN_METHOD","github.com"),A(uo,ro),qr(uo,"PROVIDER_ID","google.com"),qr(uo,"GOOGLE_SIGN_IN_METHOD","google.com"),A(lo,to),qr(lo,"PROVIDER_ID","twitter.com"),qr(lo,"TWITTER_SIGN_IN_METHOD","twitter.com"),fo.prototype.na=function(e){return this.signInMethod==mo.EMAIL_LINK_SIGN_IN_METHOD?Os(e,ls,{email:this.a,oobCode:this.c}):Os(e,As,{email:this.a,password:this.c})},fo.prototype.b=function(e,t){return this.signInMethod==mo.EMAIL_LINK_SIGN_IN_METHOD?Os(e,hs,{idToken:t,email:this.a,oobCode:this.c}):Os(e,Es,{idToken:t,email:this.a,password:this.c})},fo.prototype.f=function(e,t){return Hi(this.na(e),t)},fo.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Br(mo,{PROVIDER_ID:"password"}),Br(mo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Br(mo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),go.prototype.na=function(e){return e.Va(wo(this))},go.prototype.b=function(e,t){var n=wo(this);return n.idToken=t,Os(e,_s,n)},go.prototype.f=function(e,t){var n=wo(this);return n.operation="REAUTH",Hi(e=Os(e,Ds,n),t)},go.prototype.A=function(){var e={providerId:"phone"};return this.a.Ua&&(e.verificationId=this.a.Ua),this.a.Ta&&(e.verificationCode=this.a.Ta),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.ba&&(e.phoneNumber=this.a.ba),e},Eo.prototype.Va=function(e,t){var n=this.a.b;return Ze(t.verify()).then((function(r){if(!c(r))throw new ei("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return Os(e,bs,t)}(n,{phoneNumber:e,recaptchaToken:r}).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new ei("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Br(Eo,{PROVIDER_ID:"phone"}),Br(Eo,{PHONE_SIGN_IN_METHOD:"phone"}),ko.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},ko.prototype.R=function(){return this.h},ko.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var No,_o=null;function Do(e){var t="unauthorized-domain",n=void 0,r=Cn(e);e=r.b,"chrome-extension"==(r=r.f)?n=Ue("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ue("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",ei.call(this,t,n)}function Oo(e,t,n){ei.call(this,e,n),(e=t||{}).Ab&&qr(this,"email",e.Ab),e.ba&&qr(this,"phoneNumber",e.ba),e.credential&&qr(this,"credential",e.credential),e.Qb&&qr(this,"tenantId",e.Qb)}function xo(e){if(e.code){var t=e.code||"";0==t.indexOf(ni)&&(t=t.substring(ni.length));var n={credential:So(e),Qb:e.tenantId};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.ba=e.phoneNumber;else if(!n.credential)return new ei(t,e.message||void 0);return new Oo(t,n,e.message)}return null}function Po(){}function Ro(e){return e.c||(e.c=e.b())}function Lo(){}function Mo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Vo(){}function Uo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=I(this.fc,this),this.a.onerror=I(this.Ib,this),this.a.onprogress=I(this.gc,this),this.a.ontimeout=I(this.kc,this)}function Fo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function jo(e,t,n){this.reset(e,t,n,void 0,void 0)}A(Do,ei),A(Oo,ei),Oo.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.A();return t&&J(e,t),e},Oo.prototype.toJSON=function(){return this.A()},Po.prototype.c=null,A(Lo,Po),Lo.prototype.a=function(){var e=Mo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Lo.prototype.b=function(){var e={};return Mo(this)&&(e[0]=!0,e[1]=!0),e},No=new Lo,A(Vo,Po),Vo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Uo;throw Error("Unsupported browser")},Vo.prototype.b=function(){return{}},(t=Uo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},t.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Fo(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Fo(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Fo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},jo.prototype.a=null;function qo(e){this.f=e,this.b=this.c=this.a=null}function Bo(e,t){this.name=e,this.value=t}jo.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||C(),delete this.a},Bo.prototype.toString=function(){return this.name};var zo=new Bo("SEVERE",1e3),Ko=new Bo("WARNING",900),Wo=new Bo("CONFIG",700),Qo=new Bo("FINE",500);qo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(O("Root logger has no level set."),null)}(this).value)for(g(t)&&(t=t()),e=new jo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Go={},Ho=null;function Yo(e){var t;if(Ho||(Ho=new qo(""),Go[""]=Ho,Ho.c=Wo),!(t=Go[e])){t=new qo(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Yo(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,Go[e]=t}return t}function Xo(e,t){e&&e.log(Qo,t,void 0)}function $o(e){this.f=e}function Jo(e){un.call(this),this.o=e,this.readyState=Zo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Yo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}A($o,Po),$o.prototype.a=function(){return new Jo(this.f)},$o.prototype.b=function(e){return function(){return e}}({}),A(Jo,un);var Zo=0;function ea(e){e.c.read().then(e.ec.bind(e)).catch(e.Ma.bind(e))}function ta(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,na(e)}function na(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ra(e){un.call(this),this.headers=new yn,this.B=e||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=ia,this.v=this.P=!1}(t=Jo.prototype).open=function(e,t){if(this.readyState!=Zo)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,na(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.jc.bind(this),this.Ma.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ta(this,!1)),this.readyState=Zo},t.jc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,na(this)),this.a&&(this.readyState=3,na(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):void 0!==u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,ea(this)):e.text().then(this.ic.bind(this),this.Ma.bind(this)))))},t.ec=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ta(this,!0):na(this),3==this.readyState&&ea(this)}},t.ic=function(e){this.a&&(this.response=this.responseText=e,ta(this,!0))},t.hc=function(e){this.a&&(this.response=e,ta(this,!0))},t.Ma=function(e){var t=this.h;t&&t.log(Ko,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&ta(this,!0)},t.setRequestHeader=function(e,t){this.i.append(e,t)},t.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(Ko,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(Ko,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},A(ra,un);var ia="";ra.prototype.b=Yo("goog.net.XhrIo");var oa=/^https?$/i,aa=["POST","PUT"];function sa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.O=n,e.I=!1,e.c=!0,e.a=e.B?e.B.a():No.a(),e.w=e.B?Ro(e.B):Ro(No),e.a.onreadystatechange=I(e.Lb,e);try{Xo(e.b,ya(e,"Opening Xhr")),e.J=!0,e.a.open(n,String(t),!0),e.J=!1}catch(t){return Xo(e.b,ya(e,"Error opening Xhr: "+t.message)),void ca(e,t)}t=r||"";var o=new yn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(v(e)||c(e))j(e,t,void 0);else for(var n=mn(e),r=dn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=ua,n=e.length,r=c(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:c(e)?e.charAt(t):e[t]}(o.X()),r=u.FormData&&t instanceof u.FormData,!z(aa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.P&&(e.a.withCredentials=e.P);try{pa(e),0<e.g&&(e.v=function(e){return Et&&xt(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),Xo(e.b,ya(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=I(e.Ga,e)):e.o=fn(e.Ga,e.g,e)),Xo(e.b,ya(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){Xo(e.b,ya(e,"Send error: "+t.message)),ca(e,t)}}function ua(e){return"content-type"==e.toLowerCase()}function ca(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,la(e),fa(e)}function la(e){e.I||(e.I=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ha(e){if(e.c&&void 0!==s)if(e.w[1]&&4==da(e)&&2==ma(e))Xo(e.b,ya(e,"Local request error detected and ignored"));else if(e.i&&4==da(e))fn(e.Lb,0,e);else if(e.dispatchEvent("readystatechange"),4==da(e)){Xo(e.b,ya(e,"Request complete")),e.c=!1;try{var t,n=ma(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(bn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!oa.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<da(e)?e.a.statusText:""}catch(t){Xo(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+ma(e)+"]",la(e)}}finally{fa(e)}}}function fa(e,t){if(e.a){pa(e);var n=e.a,r=e.w[0]?p:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(zo,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function pa(e){e.a&&e.v&&(e.a.ontimeout=null),e.o&&(u.clearTimeout(e.o),e.o=null)}function da(e){return e.a?e.a.readyState:0}function ma(e){try{return 2<da(e)?e.a.status:-1}catch(e){return-1}}function ya(e,t){return t+" ["+e.O+" "+e.l+" "+ma(e)+"]"}function va(e){var t=Na;this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ga(e,t,n){e.a=!0,e.c=n,e.f=!t,Ta(e)}function ba(e){if(e.a){if(!e.u)throw new Sa(e);e.u=!1}}function wa(e,t,n,r){e.g.push([t,n,r]),e.a&&Ta(e)}function Ea(e){return B(e.g,(function(e){return g(e[1])}))}function Ta(e){if(e.h&&e.a&&Ea(e)){var t=e.h,n=Ca[t];n&&(u.clearTimeout(n.a),delete Ca[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.o,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(N(t)||"function"==typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,Ea(e)||(n=!0)}}e.c=t,r&&(s=I(e.m,e,!0),r=I(e.m,e,!1),t instanceof va?(wa(t,s,r),t.w=!0):t.then(s,r)),n&&(t=new ka(t),Ca[t.a]=t,e.h=t.a)}function Sa(){_.call(this)}function Ia(){_.call(this)}function ka(e){this.a=u.setTimeout(I(this.c,this),0),this.b=e}(t=ra.prototype).Ga=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Xo(this.b,ya(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Xo(this.b,ya(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),fa(this))},t.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),fa(this,!0)),ra.qb.xa.call(this)},t.Lb=function(){this.ta||(this.J||this.i||this.f?ha(this):this.yc())},t.yc=function(){ha(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Xo(this.b,"Can not get response: "+e.message),null}},va.prototype.cancel=function(e){if(this.a)this.c instanceof va&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(e=new Ia(this),ba(this),ga(this,!1,e))}},va.prototype.m=function(e,t){this.i=!1,ga(this,e,t)},va.prototype.then=function(e,t,n){var r,i,o=new Qe((function(e,t){r=e,i=t}));return wa(this,r,(function(e){e instanceof Ia?o.cancel():i(e)})),o.then(e,t,n)},va.prototype.$goog_Thenable=!0,A(Sa,_),Sa.prototype.message="Deferred has already fired",Sa.prototype.name="AlreadyCalledError",A(Ia,_),Ia.prototype.message="Deferred was canceled",Ia.prototype.name="CanceledError",ka.prototype.c=function(){throw delete Ca[this.a],this.b};var Ca={};function Aa(e){var t={},n=t.document||document,r=oe(e).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ga:void 0},a=new va(o),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){_a(i,!0);var e=new xa(Oa,"Timeout reached for loading script "+r);ba(a),ga(a,!1,e)}),c),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(_a(i,t.gd||!1,s),ba(a),ga(a,!0,null))},i.onerror=function(){_a(i,!0,s);var e=new xa(Da,"Error while loading script "+r);ba(a),ga(a,!1,e)},J(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Qn(i,o),function(e,t){U(e,"HTMLScriptElement"),e.src=oe(t),null===f&&(f=(t=(t=u.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&h.test(t)?t:""),(t=f)&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Na(){if(this&&this.Nb){var e=this.Nb;e&&"SCRIPT"==e.tagName&&_a(e,!0,this.Ga)}}function _a(e,t,n){null!=n&&u.clearTimeout(n),e.onload=p,e.onerror=p,e.onreadystatechange=p,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Da=0,Oa=1;function xa(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),_.call(this,n),this.code=e}function Pa(e){this.f=e}function Ra(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=e.secureTokenTimeout||Va,this.g=X(e.secureTokenHeaders||Ua),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.firebaseTimeout||Fa,this.a=X(e.firebaseHeaders||ja),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==pr(),!(n=u.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!fr())throw new ei("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,fr()?this.f=new $o(self):dr()?this.f=new Pa(n):this.f=new Vo,this.b=null}A(xa,_),A(Pa,Po),Pa.prototype.a=function(){return new this.f},Pa.prototype.b=function(){return{}};var La,Ma="idToken",Va=new Pr(3e4,6e4),Ua={"Content-Type":"application/x-www-form-urlencoded"},Fa=new Pr(3e4,6e4),ja={"Content-Type":"application/json"};function qa(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Ba(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function za(e,t,n,r,i,o,a){(function(){var e=wr();return!((e=vr(e)!=yr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Et||!Dt||9<Dt)})()||fr()?e=I(e.o,e):(La||(La=new Qe((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[Wa]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){wa(e,null,t,void 0)}(Aa(ae(Ka,{onload:Wa})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=I(e.m,e)),e(t,n,r,i,o,a)}Ra.prototype.R=function(){return this.b},Ra.prototype.o=function(e,t,n,r,i,o){if(fr()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new ei("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ra(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}cn(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return Xo(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),ln(a,"ready",(function(){s&&clearTimeout(s),yt(this)})),ln(a,"timeout",(function(){s&&clearTimeout(s),yt(this),t&&t(null)})),sa(a,e,n,r,i)};var Ka=new Z(ne,"https://apis.google.com/js/client.js?onload=%{onload}"),Wa="__fcb"+Math.floor(1e6*Math.random()).toString();function Qa(e){if(!c(e=e.email)||!ur.test(e))throw new ei("invalid-email")}function Ga(e){"email"in e&&Qa(e)}function Ha(e){if(!e[Ma])throw new ei("internal-error")}function Ya(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new ei("internal-error")}else{if(!e.sessionInfo)throw new ei("missing-verification-id");if(!e.code)throw new ei("missing-verification-code")}}Ra.prototype.m=function(e,t,n,r,i){var o=this;La.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Ra.prototype.ob=function(){return Os(this,Ts,{})},Ra.prototype.rb=function(e,t){return Os(this,ws,{idToken:e,email:t})},Ra.prototype.sb=function(e,t){return Os(this,Es,{idToken:e,password:t})};var Xa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function $a(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new ei("internal-error")}function Ja(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(jn(e=new Mn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Za(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=xo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=xo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=xo(e)):e.errorMessage&&(t=xs(e.errorMessage)),t)throw t;if(!e[Ma])throw new ei("internal-error")}function es(e,t){return t.returnIdpCredential=!0,Os(e,Ss,t)}function ts(e,t){return t.returnIdpCredential=!0,Os(e,ks,t)}function ns(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Os(e,Is,t)}function rs(e){if(!e.oobCode)throw new ei("invalid-action-code")}(t=Ra.prototype).tb=function(e,t){var n={idToken:e},r=[];return H(Xa,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Os(this,ws,n)},t.kb=function(e,t){return J(e={requestType:"PASSWORD_RESET",email:e},t),Os(this,ms,e)},t.lb=function(e,t){return J(e={requestType:"EMAIL_SIGNIN",email:e},t),Os(this,ps,e)},t.jb=function(e,t){return J(e={requestType:"VERIFY_EMAIL",idToken:e},t),Os(this,ds,e)},t.Va=function(e){return Os(this,Ns,e)},t.$a=function(e,t){return Os(this,gs,{oobCode:e,newPassword:t})},t.Ka=function(e){return Os(this,os,{oobCode:e})},t.Xa=function(e){return Os(this,is,{oobCode:e})};var is={endpoint:"setAccountInfo",D:rs,fa:"email",F:!0},os={endpoint:"resetPassword",D:rs,K:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new ei("internal-error")},F:!0},as={endpoint:"signupNewUser",D:function(e){if(Qa(e),!e.password)throw new ei("weak-password")},K:Ha,T:!0,F:!0},ss={endpoint:"createAuthUri",F:!0},us={endpoint:"deleteAccount",V:["idToken"]},cs={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(e){if(!y(e.deleteProvider))throw new ei("internal-error")}},ls={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Qa,K:Ha,T:!0,F:!0},hs={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Qa,K:Ha,T:!0},fs={endpoint:"getAccountInfo"},ps={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new ei("internal-error");Qa(e)},fa:"email",F:!0},ds={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new ei("internal-error")},fa:"email",F:!0},ms={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new ei("internal-error");Qa(e)},fa:"email",F:!0},ys={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},vs={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(e){if(!e.recaptchaSiteKey)throw new ei("internal-error")}},gs={endpoint:"resetPassword",D:rs,fa:"email",F:!0},bs={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},ws={endpoint:"setAccountInfo",V:["idToken"],D:Ga,T:!0},Es={endpoint:"setAccountInfo",V:["idToken"],D:function(e){if(Ga(e),!e.password)throw new ei("weak-password")},K:Ha,T:!0},Ts={endpoint:"signupNewUser",K:Ha,T:!0,F:!0},Ss={endpoint:"verifyAssertion",D:$a,Qa:Ja,K:Za,T:!0,F:!0},Is={endpoint:"verifyAssertion",D:$a,Qa:Ja,K:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new ei("user-not-found");if(e.errorMessage)throw xs(e.errorMessage);if(!e[Ma])throw new ei("internal-error")},T:!0,F:!0},ks={endpoint:"verifyAssertion",D:function(e){if($a(e),!e.idToken)throw new ei("internal-error")},Qa:Ja,K:Za,T:!0},Cs={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new ei("invalid-custom-token")},K:Ha,T:!0,F:!0},As={endpoint:"verifyPassword",D:function(e){if(Qa(e),!e.password)throw new ei("wrong-password")},K:Ha,T:!0,F:!0},Ns={endpoint:"verifyPhoneNumber",D:Ya,K:Ha,F:!0},_s={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new ei("internal-error");Ya(e)},K:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",xo(e);Ha(e)}},Ds={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ya,K:Ha,F:!0};function Os(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.V))return et(new ei("internal-error"));var r,i=t.Kb||"POST";return Ze(n).then(t.D).then((function(){return t.T&&(n.returnSecureToken=!0),t.F&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o){var a=Cn(e.h+t);In(a,"key",e.c),o&&In(a,"cb",C().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&In(a,u,r[u]);return new Qe((function(t,o){za(e,a.toString(),(function(e){e?e.error?o(Ps(e,i||{})):t(e):o(new ei("network-request-failed"))}),n,s?void 0:Xn(Nr(r)),e.a,e.i.get())}))}(e,t.endpoint,i,n,t.Yb,t.wb||!1)})).then((function(e){return r=e,t.Qa?t.Qa(n,r):r})).then(t.K).then((function(){if(!t.fa)return r;if(!(t.fa in r))throw new ei("internal-error");return r[t.fa]}))}function xs(e){return Ps({error:{errors:[{message:e}],code:400,message:e}})}function Ps(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new ei(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",J(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new ei(r[i],t);return!t&&e&&(t=Ar(e)),new ei("internal-error",t)}function Rs(e){this.b=e,this.a=null,this.fb=function(e){return(Us||(Us=new Qe((function(e,t){function n(){xr(),Er("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){xr(),t(Error("Network Error"))},timeout:Ms.get()})}if(Er("gapi.iframes.Iframe"))e();else if(Er("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Er("gapi.load")?n():t(Error("Network Error"))},Ze(Aa(r=ae(Ls,{onload:r}))).s((function(){t(Error("Network Error"))}))}})).s((function(e){throw Us=null,e})))).then((function(){return new Qe((function(t,n){Er("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Vs.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ls=new Z(ne,"https://apis.google.com/js/api.js?onload=%{onload}"),Ms=new Pr(3e4,6e4),Vs=new Pr(5e3,15e3),Us=null;function Fs(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=An(this.i,"/__/auth/iframe"),In(this.a,"apiKey",this.g),In(this.a,"appName",this.h),this.b=null,this.c=[]}function js(e,t,n,r,i){this.o=e,this.m=t,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function qs(e){try{return r.a.app(e).auth().Aa()}catch(e){return[]}}function Bs(e,t,n,r,i){this.u=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function zs(e){var t=nr();return function(e){return Os(e,ys,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Cn(t),r=n.f;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Cn(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:sr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Do(nr())}))}function Ks(e){return e.l?e.l:(e.l=cr().then((function(){if(!e.o){var t=e.c,n=e.h,r=qs(e.b),i=new Fs(e.u,e.f,e.b);i.f=t,i.b=n,i.c=G(r||[]),e.o=i.toString()}e.i=new Rs(e.o),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.fb.then((function(){e.a.register("authEvent",t,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.i,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Co(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Ze(n)}return n.status="ERROR",Ze(n)}))}(e)})),e.l)}function Ws(e){return e.m||(e.v=e.c?br(e.c,qs(e.b)):null,e.m=new Ra(e.f,xi(e.h),e.v)),e.m}function Qs(e,t,n,r,i,o,a,s,u,c,l){return(e=new js(e,t,n,r,i)).l=o,e.g=a,e.i=s,e.b=X(u||null),e.f=c,e.nb(l).toString()}function Gs(e){if(this.a=e||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new ei("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Hs(e){this.b=e,this.a={},this.f=I(this.c,this)}Fs.prototype.toString=function(){return this.f?In(this.a,"v",this.f):Fn(this.a.a,"v"),this.b?In(this.a,"eid",this.b):Fn(this.a.a,"eid"),this.c.length?In(this.a,"fw",this.c.join(",")):Fn(this.a.a,"fw"),this.a.toString()},js.prototype.nb=function(e){return this.h=e,this},js.prototype.toString=function(){var e=An(this.o,"/__/auth/handler");if(In(e,"apiKey",this.m),In(e,"appName",this.c),In(e,"authType",this.u),this.a.isOAuthProvider){var t=this.a;try{var n=r.a.app(this.c).auth().ha()}catch(e){n=null}for(var i in t.ab=n,In(e,"providerId",this.a.providerId),n=Nr((t=this.a).zb))n[i]=n[i].toString();i=t.Fc,n=X(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}t.cb&&t.ab&&!n[t.cb]&&(n[t.cb]=t.ab),Y(n)||In(e,"customParameters",Ar(n))}if("function"==typeof this.a.Hb&&((t=this.a.Hb()).length&&In(e,"scopes",t.join(","))),this.l?In(e,"redirectUrl",this.l):Fn(e.a,"redirectUrl"),this.g?In(e,"eventId",this.g):Fn(e.a,"eventId"),this.i?In(e,"v",this.i):Fn(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!kn(e,s)&&In(e,s,this.b[s]);return this.h?In(e,"tid",this.h):Fn(e.a,"tid"),this.f?In(e,"eid",this.f):Fn(e.a,"eid"),(s=qs(this.c)).length&&In(e,"fw",s.join(",")),e.toString()},(t=Bs.prototype).Fb=function(e,t,n){var r=new ei("popup-closed-by-user"),i=new ei("web-storage-unsupported"),o=this,a=!1;return this.ia().then((function(){(function(e){var t={type:"webStorageSupport"};return Ks(e).then((function(){return function(e,t){return e.fb.then((function(){return new Qe((function(n){e.a.send(t.type,t,n,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.i,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&or(e),t(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(e){return new Qe((function(t){return function n(){pn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return pn(n).then((function(){t(r)}))}))},t.Ob=function(){var e=wr();return!Cr(e)&&!Or(e)},t.Jb=function(){return!1},t.Db=function(e,t,n,r,i,o,a,s){if(!e)return et(new ei("popup-blocked"));if(a&&!Cr())return this.ia().s((function(t){or(e),i(t)})),r(),Ze();this.a||(this.a=zs(Ws(this)));var u=this;return this.a.then((function(){var t=u.ia().s((function(t){throw or(e),i(t),t}));return r(),t})).then((function(){(Io(n),a)||rr(Qs(u.u,u.f,u.b,t,n,null,o,u.c,void 0,u.h,s),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},t.Eb=function(e,t,n,r){this.a||(this.a=zs(Ws(this)));var i=this;return this.a.then((function(){Io(t),rr(Qs(i.u,i.f,i.b,e,t,nr(),n,i.c,void 0,i.h,r))})).s((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},t.ia=function(){var e=this;return Ks(this).then((function(){return e.i.fb})).s((function(){throw e.a=null,new ei("network-request-failed")}))},t.Rb=function(){return!0},t.ya=function(e){this.g.push(e)},t.La=function(e){W(this.g,(function(t){return t==e}))},(t=Gs.prototype).get=function(e){return Ze(this.a.getItem(e)).then((function(e){return e&&_r(e)}))},t.set=function(e,t){return Ze(this.a.setItem(e,Ar(t)))},t.S=function(e){return Ze(this.a.removeItem(e))},t.$=function(){},t.ea=function(){};var Ys,Xs=[];function $s(e,t,n){Y(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Js(e){this.a=e}function Zs(e){this.c=e,this.b=!1,this.a=[]}function eu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return et(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Qe((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return tu(e,c),t})).s((function(t){throw tu(e,c),t}))}function tu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(e.a,(function(e){return e==t}))}}function nu(){if(!ou())throw new ei("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;fr()&&self?(this.l=function(){var e=fr()?self:null;if(j(Xs,(function(n){n.b==e&&(t=n)})),!t){var t=new Hs(e);Xs.push(t)}return t}(),$s(this.l,"keyChanged",(function(t,n){return lu(e).then((function(t){return 0<t.length&&j(e.a,(function(e){e(t)})),{keyProcessed:z(t,n.key)}}))})),$s(this.l,"ping",(function(){return Ze(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?Ze().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).s((function(){return null})):Ze(null)}().then((function(t){(e.h=t)&&(e.g=new Zs(new Js(t)),eu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&z(t[0].value,"keyChanged")&&(e.o=!0)})).s((function(){})))}))}function ru(e){return new Qe((function(t,n){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new Qe((function(t,n){var r=e.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return ru(e)})).then((function(e){t(e)})).s((function(e){n(e)}))}}))}function iu(e){return e.m||(e.m=ru(e)),e.m}function ou(){try{return!!u.indexedDB}catch(e){return!1}}function au(e){return e.objectStore("firebaseLocalStorage")}function su(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function uu(e){return new Qe((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function cu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?eu(e.g,"keyChanged",{key:t},e.o).then((function(){})).s((function(){})):Ze()}function lu(e){return iu(e).then((function(e){var t=au(su(e,!1));return t.getAll?uu(t.getAll()):new Qe((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function hu(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function fu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ze().then((function(){if(ou()){var e=Dr(),r="__sak"+e;return Ys||(Ys=new nu),(n=Ys).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.$((function(e){j(t.a,(function(t){t(e)}))})),e}))}function pu(){this.a={},this.type="inMemory"}function du(){if(!function(){var e="Node"==pr();if(!(e=mu()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==pr())throw new ei("internal-error","The LocalStorage compatibility library was not found.");throw new ei("web-storage-unsupported")}this.a=mu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function mu(){try{var e=u.localStorage,t=Dr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function yu(){this.type="nullStorage"}function vu(){if(!function(){var e="Node"==pr();if(!(e=gu()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==pr())throw new ei("internal-error","The SessionStorage compatibility library was not found.");throw new ei("web-storage-unsupported")}this.a=gu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function gu(){try{var e=u.sessionStorage,t=Dr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function bu(){var e={};e.Browser=Tu,e.Node=Su,e.ReactNative=Iu,e.Worker=ku,this.a=e[pr()]}Hs.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];j(r,(function(t){i.push(Ze().then((function(){return t(e.origin,e.data.data)})))})),nt(i).then((function(r){var i=[];j(r,(function(e){i.push({fulfilled:e.Gb,value:e.value,reason:e.reason?e.reason.message:void 0})})),j(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Js.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Zs.prototype.close=function(){for(;0<this.a.length;)tu(this,this.a[0]);this.b=!0},(t=nu.prototype).set=function(e,t){var n,r=!1,i=this;return iu(this).then((function(t){return uu((t=au(su(n=t,!0))).get(e))})).then((function(o){var a=au(su(n,!0));return o?(o.value=t,uu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=e,o.value=t,uu(a.add(o)))})).then((function(){return i.c[e]=t,cu(i,e)})).ka((function(){r&&i.b--}))},t.get=function(e){return iu(this).then((function(t){return uu(au(su(t,!1)).get(e))})).then((function(e){return e&&e.value}))},t.S=function(e){var t=!1,n=this;return iu(this).then((function(r){return t=!0,n.b++,uu(au(su(r,!0)).delete(e))})).then((function(){return delete n.c[e],cu(n,e)})).ka((function(){t&&n.b--}))},t.$=function(e){0==this.a.length&&function(e){hu(e),function t(){e.f=setTimeout((function(){e.i=lu(e).then((function(t){0<t.length&&j(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},t.ea=function(e){W(this.a,(function(t){return t==e})),0==this.a.length&&hu(this)},(t=fu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},t.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},t.S=function(e){return this.b.then((function(t){return t.S(e)}))},t.$=function(e){this.a.push(e)},t.ea=function(e){W(this.a,(function(t){return t==e}))},(t=pu.prototype).get=function(e){return Ze(this.a[e])},t.set=function(e,t){return this.a[e]=t,Ze()},t.S=function(e){return delete this.a[e],Ze()},t.$=function(){},t.ea=function(){},(t=du.prototype).get=function(e){var t=this;return Ze().then((function(){return _r(t.a.getItem(e))}))},t.set=function(e,t){var n=this;return Ze().then((function(){var r=Ar(t);null===r?n.S(e):n.a.setItem(e,r)}))},t.S=function(e){var t=this;return Ze().then((function(){t.a.removeItem(e)}))},t.$=function(e){u.window&&Yt(u.window,"storage",e)},t.ea=function(e){u.window&&Jt(u.window,"storage",e)},(t=yu.prototype).get=function(){return Ze(null)},t.set=function(){return Ze()},t.S=function(){return Ze()},t.$=function(){},t.ea=function(){},(t=vu.prototype).get=function(e){var t=this;return Ze().then((function(){return _r(t.a.getItem(e))}))},t.set=function(e,t){var n=this;return Ze().then((function(){var r=Ar(t);null===r?n.S(e):n.a.setItem(e,r)}))},t.S=function(e){var t=this;return Ze().then((function(){t.a.removeItem(e)}))},t.$=function(){},t.ea=function(){};var wu,Eu,Tu={C:du,Sa:vu},Su={C:du,Sa:vu},Iu={C:Gs,Sa:yu},ku={C:du,Sa:yu},Cu={$c:"local",NONE:"none",bd:"session"};function Au(){var e=!(Or(wr())||!hr()),t=Cr(),n=Tr();this.m=e,this.h=t,this.l=n,this.a={},wu||(wu=new bu),e=wu;try{this.g=!tr()&&Mr()||!u.indexedDB?new e.a.C:new fu(fr()?new pu:new e.a.C)}catch(e){this.g=new pu,this.h=!0}try{this.i=new e.a.Sa}catch(e){this.i=new pu}this.u=new pu,this.f=I(this.Pb,this),this.b={}}function Nu(){return Eu||(Eu=new Au),Eu}function _u(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function Du(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Ou(e,t,n){return n=Du(t,n),"local"==t.C&&(e.b[n]=null),_u(e,t.C).S(n)}function xu(e){e.c&&(clearInterval(e.c),e.c=null)}function Pu(e){this.a=e,this.b=Nu()}(t=Au.prototype).get=function(e,t){return _u(this,e.C).get(Du(e,t))},t.set=function(e,t,n){var r=Du(e,n),i=this,o=_u(this,e.C);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.C&&(i.b[r]=t)}))},t.addListener=function(e,t,n){e=Du(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),Y(this.a)&&(_u(this,"local").$(this.f),this.h||(tr()||!Mr())&&u.indexedDB||!this.l||function(e){xu(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Ut({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Pb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},t.removeListener=function(e,t,n){e=Du(e,t),this.a[e]&&(W(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),Y(this.a)&&(_u(this,"local").ea(this.f),xu(this))},t.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Za(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?_u(this,"local").ea(this.f):xu(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.Za(t))},Et&&Dt&&10==Dt&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else j(e,I(this.Za,this))},t.Za=function(e){this.a[e]&&j(this.a[e],(function(e){e()}))};var Ru,Lu={name:"authEvent",C:"local"};function Mu(){this.a=Nu()}function Vu(e,t){this.b=Uu,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0!==Ru||(Ru=u.Int32Array?new Int32Array(Wu):Wu),this.reset()}A(Vu,(function(){this.b=-1}));for(var Uu=64,Fu=Uu-1,ju=[],qu=0;qu<Fu;qu++)ju[qu]=0;var Bu=Q(128,ju);function zu(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Ru[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Ku(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if(c(t))for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(zu(e),i=0);else{if(!v(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(zu(e),i=0)}}e.c=i,e.g+=n}Vu.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):G(this.h)};var Wu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Qu(){Vu.call(this,8,Gu)}A(Qu,Vu);var Gu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Hu(e,t,n,r,i){this.u=e,this.i=t,this.l=n,this.m=r||null,this.o=i||null,this.h=t+":"+n,this.v=new Mu,this.g=new Pu(this.h),this.f=null,this.b=[],this.a=this.c=null}function Yu(e){return new ei("invalid-cordova-configuration",e)}function Xu(e){var t=new Qu;Ku(t,e),e=[];var n=8*t.g;56>t.c?Ku(t,Bu,56-t.c):Ku(t,Bu,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(zu(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return q(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function $u(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Ju(e){return e.f||(e.f=e.ia().then((function(){return new Qe((function(t){e.ya((function n(r){return t(r),e.La(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Zu(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=Qi(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=_r(kn(o=Cn(i),"firebaseError")||null))?ti(o):null)?new ko(r.c,r.b,null,null,o,null,r.R()):new ko(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}$u(e,i)}))}var n=new ko("unknown",null,null,null,new ei("no-auth-event")),r=!1,i=pn(500).then((function(){return Zu(e).then((function(){r||$u(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Er("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},_o||(_o=new Ao),function(e){var t=_o;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Er("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Zu(e){var t=null;return function(e){return e.b.get(Lu,e.a).then((function(e){return Co(e)}))}(e.g).then((function(n){return t=n,Ou((n=e.g).b,Lu,n.a)})).then((function(){return t}))}function ec(e){this.a=e,this.b=Nu()}(t=Hu.prototype).ia=function(){return this.Ba?this.Ba:this.Ba=(lr(void 0)?cr().then((function(){return new Qe((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):et(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Er("universalLinks.subscribe",u))throw Yu("cordova-universal-links-plugin-fix is not installed");if(void 0===Er("BuildInfo.packageName",u))throw Yu("cordova-plugin-buildinfo is not installed");if("function"!=typeof Er("cordova.plugins.browsertab.openUrl",u))throw Yu("cordova-plugin-browsertab is not installed");if("function"!=typeof Er("cordova.InAppBrowser.open",u))throw Yu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new ei("cordova-not-ready")}))},t.Fb=function(e,t){return t(new ei("operation-not-supported-in-this-environment")),Ze()},t.Db=function(){return et(new ei("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(e,t,n,r){if(this.c)return et(new ei("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Ze().then((function(){return Io(t),Ju(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new ko(t,r,null,o,new ei("no-auth-event"),null,i),s=Er("BuildInfo.packageName",u);if("string"!=typeof s)throw new ei("invalid-cordova-configuration");var c=Er("BuildInfo.displayName",u),l={};if(wr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!wr().toLowerCase().match(/android/))return et(new ei("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=Xu(o),l.sessionId=o;var h=Qs(e.u,e.i,e.l,t,n,null,r,e.m,l,e.o,i);return e.ia().then((function(){var t=e.h;return e.v.a.set(Lu,a.A(),t)})).then((function(){var t=Er("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof t)throw new ei("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Er("cordova.plugins.browsertab.openUrl",u)))throw new ei("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Er("cordova.InAppBrowser.open",u)))throw new ei("invalid-cordova-configuration");t=wr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new Qe((function(e,t){s=function(){var t=Er("cordova.plugins.browsertab.close",u);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.ya(s),c=function(){a||(a=pn(2e3).then((function(){t(new ei("redirect-cancelled-by-user"))})))},l=function(){Rr()&&c()},o.addEventListener("resume",c,!1),wr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(e){return Zu(i).then((function(){throw e}))}))})).ka((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.La(s),i.c=null}))},t.ya=function(e){this.b.push(e),Ju(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new ko("unknown",null,null,null,new ei("no-auth-event")),e(t))}))},t.La=function(e){W(this.b,(function(t){return t==e}))};var tc={name:"pendingRedirect",C:"session"};function nc(e){return Ou(e.b,tc,e.a)}function rc(e,t,n){this.i={},this.v=0,this.B=e,this.u=t,this.m=n,this.h=[],this.f=!1,this.l=I(this.o,this),this.b=new vc,this.w=new Tc,this.g=new ec(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=ic(this.B,this.u,this.m,Di)}function ic(e,t,n,i){var o=r.a.SDK_VERSION||null;return lr()?new Hu(e,t,n,o,i):new Bs(e,t,n,o,i)}function oc(e){e.f||(e.f=!0,e.a.ya(e.l));var t=e.a;return e.a.ia().s((function(n){throw e.a==t&&e.reset(),n}))}function ac(e){e.a.Ob()&&oc(e).s((function(t){var n=new ko("unknown",null,null,null,new ei("operation-not-supported-in-this-environment"));fc(t)&&e.o(n)})),e.a.Jb()||gc(e.b)}function sc(e,t){z(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(tc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?nc(e.g).then((function(){oc(e).s((function(t){var n=new ko("unknown",null,null,null,new ei("operation-not-supported-in-this-environment"));fc(t)&&e.o(n)}))})):ac(e)})).s((function(){ac(e)}))}function uc(e,t){W(e.h,(function(e){return e==t}))}rc.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=ic(this.B,this.u,this.m),this.i={}},rc.prototype.o=function(e){if(!e)throw new ei("invalid-auth-event");if(6e5<=C()-this.v&&(this.i={},this.v=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.v=C())),t=!0;break}}return gc(this.b),t};var cc=new Pr(2e3,1e4),lc=new Pr(3e4,6e4);function hc(e,t,n,r,i,o,a){return e.a.Db(t,n,r,(function(){e.f||(e.f=!0,e.a.ya(e.l))}),(function(){e.reset()}),i,o,a)}function fc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function pc(e,t,n,r,i){var o;return function(e){return e.b.set(tc,"pending",e.a)}(e.g).then((function(){return e.a.Eb(t,n,r,i).s((function(t){if(fc(t))throw new ei("operation-not-supported-in-this-environment");return o=t,nc(e.g).then((function(){throw o}))})).then((function(){return e.a.Rb()?new Qe((function(){})):nc(e.g).then((function(){return e.oa()})).then((function(){})).s((function(){}))}))}))}function dc(e,t,n,r,i){return e.a.Fb(r,(function(e){t.ja(n,null,e,i)}),cc.get())}rc.prototype.oa=function(){return this.b.oa()};var mc={};function yc(e,t,n){var r=t+":"+n;return mc[r]||(mc[r]=new rc(e,t,n)),mc[r]}function vc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function gc(e){e.g||(e.g=!0,Ec(e,!1,null,null))}function bc(e){e.g&&!e.i&&Ec(e,!1,null,null)}function wc(e,t){if(e.b=function(){return Ze(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Ec(e,t,n,r){t?r?function(e,t){if(e.b=function(){return et(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):wc(e,n):wc(e,{user:null}),e.f=[],e.c=[]}function Tc(){}function Sc(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(e){this.vb=e},enumerable:!1})}function Ic(e,t){this.a=t,qr(this,"verificationId",e)}function kc(e,t,n,r){return new Eo(e).Va(t,n).then((function(e){return new Ic(e,r)}))}function Cc(e){var t=_i(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new ei("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Br(this,{token:e,expirationTime:Lr(1e3*t.exp),authTime:Lr(1e3*t.auth_time),issuedAtTime:Lr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function Ac(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Nc(e){this.f=e,this.b=this.a=null,this.c=0}function _c(e,t){var n=t[Ma],r=t.refreshToken;t=Dc(t.expiresIn),e.b=n,e.c=t,e.a=r}function Dc(e){return C()+1e3*parseInt(e,10)}function Oc(e,t){return function(e,t){return new Qe((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?za(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(Ps(e)):e.access_token&&e.refresh_token?n(e):r(new ei("internal-error")):r(new ei("network-request-failed"))}),"POST",Un(t).toString(),e.g,e.u.get()):r(new ei("internal-error"))}))}(e.f,t).then((function(t){return e.b=t.access_token,e.c=Dc(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function xc(e,t){this.a=e||null,this.b=t||null,Br(this,{lastSignInTime:Lr(t||null),creationTime:Lr(e||null)})}function Pc(e,t,n,r,i,o){Br(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Rc(e,t){for(var n in Vt.call(this,e),t)this[n]=t[n]}function Lc(e,t,n){this.I=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null,e=r.a.SDK_VERSION?br(r.a.SDK_VERSION):null,this.a=new Ra(this.l,xi(Di),e),this.b=new Nc(this.a),Bc(this,t[Ma]),_c(this.b,t),qr(this,"refreshToken",this.b.a),Wc(this,n||{}),un.call(this),this.J=!1,this.o&&Sr()&&(this.i=yc(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(e){return new Ac((function(){return e.G(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-C()-3e5;return 0<t?t:0}))}(this),this.W=I(this.Ha,this);var i=this;this.ga=null,this.va=function(e){i.sa(e.g)},this.Z=null,this.P=[],this.ua=function(e){Vc(i,e.c)},this.Y=null}function Mc(e,t){e.Z&&Jt(e.Z,"languageCodeChanged",e.va),(e.Z=t)&&Yt(t,"languageCodeChanged",e.va)}function Vc(e,t){e.P=t,Ba(e.a,r.a.SDK_VERSION?br(r.a.SDK_VERSION,e.P):null)}function Uc(e,t){e.Y&&Jt(e.Y,"frameworkChanged",e.ua),(e.Y=t)&&Yt(t,"frameworkChanged",e.ua)}function Fc(e){try{return r.a.app(e.m).auth()}catch(t){throw new ei("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function jc(e){e.B||e.w.b||(e.w.start(),Jt(e,"tokenChanged",e.W),Yt(e,"tokenChanged",e.W))}function qc(e){Jt(e,"tokenChanged",e.W),e.w.stop()}function Bc(e,t){e.ma=t,qr(e,"_lat",t)}function zc(e){for(var t=[],n=0;n<e.O.length;n++)t.push(e.O[n](e));return nt(t).then((function(){return e}))}function Kc(e){e.i&&!e.J&&(e.J=!0,sc(e.i,e))}function Wc(e,t){Br(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new xc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Qc(){}function Gc(e){return Ze().then((function(){if(e.B)throw new ei("app-deleted")}))}function Hc(e){return q(e.providerData,(function(e){return e.providerId}))}function Yc(e,t){t&&(Xc(e,t.providerId),e.providerData.push(t))}function Xc(e,t){W(e.providerData,(function(e){return e.providerId==t}))}function $c(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&qr(e,t,n)}function Jc(e,t){e!=t&&(Br(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?qr(e,"metadata",function(e){return new xc(e.a,e.b)}(t.metadata)):qr(e,"metadata",new xc),j(t.providerData,(function(t){Yc(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),qr(e,"refreshToken",e.b.a))}function Zc(e){return e.G().then((function(t){var n=e.isAnonymous;return function(e,t){return Os(e.a,fs,{idToken:t}).then(I(e.zc,e))}(e,t).then((function(){return n||$c(e,"isAnonymous",!1),t}))}))}function el(e,t){t[Ma]&&e.ma!=t[Ma]&&(_c(e.b,t),e.dispatchEvent(new Rc("tokenChanged")),Bc(e,t[Ma]),$c(e,"refreshToken",e.b.a))}function tl(e,t){return Zc(e).then((function(){if(z(Hc(e),t))return zc(e).then((function(){throw new ei("provider-already-linked")}))}))}function nl(e,t,n){return zr({user:e,credential:So(t),additionalUserInfo:t=Vi(t),operationType:n})}function rl(e,t){return el(e,t),e.reload().then((function(){return e}))}function il(e,t,n,i,o){if(!Sr())return et(new ei("operation-not-supported-in-this-environment"));if(e.h&&!o)return et(e.h);var a=Mi(n.providerId),s=Dr(e.uid+":::"),u=null;(!Cr()||hr())&&e.o&&n.isOAuthProvider&&(u=Qs(e.o,e.l,e.m,t,n,null,s,r.a.SDK_VERSION||null,null,null,e.tenantId));var c=ar(u,a&&a.Da,a&&a.Ca);return i=i().then((function(){if(al(e),!o)return e.G().then((function(){}))})).then((function(){return hc(e.i,c,t,n,s,!!u,e.tenantId)})).then((function(){return new Qe((function(n,r){e.ja(t,null,new ei("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=s,e.c=dc(e.i,e,t,c,s)}))})).then((function(e){return c&&or(c),e?zr(e):null})).s((function(e){throw c&&or(c),e})),sl(e,i,o)}function ol(e,t,n,r,i){if(!Sr())return et(new ei("operation-not-supported-in-this-environment"));if(e.h&&!i)return et(e.h);var o=null,a=Dr(e.uid+":::");return r=r().then((function(){if(al(e),!i)return e.G().then((function(){}))})).then((function(){return e.ca=a,zc(e)})).then((function(t){return e.da&&(t=(t=e.da).b.set(ll,e.A(),t.a)),t})).then((function(){return pc(e.i,t,n,a,e.tenantId)})).s((function(t){if(o=t,e.da)return hl(e.da);throw o})).then((function(){if(o)throw o})),sl(e,r,i)}function al(e){if(!e.i||!e.J){if(e.i&&!e.J)throw new ei("internal-error");throw new ei("auth-domain-config-required")}}function sl(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),et(e.h)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new Rc("userInvalidated")),e.h=t),t}))}(e,t,n);return e.I.push(r),r.ka((function(){K(e.I,r)})),r}function ul(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[Ma]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-C())/1e3;var r=new Lc(t,n,e);return e.providerData&&j(e.providerData,(function(e){e&&Yc(r,zr(e))})),e.redirectEventId&&(r.ca=e.redirectEventId),r}function cl(e){this.a=e,this.b=Nu()}vc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},vc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Ec(this,!0,null,e.a),Ze()):t.za(n,r)?function(e,t,n){n=n.za(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.R(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Ec(e,s,t,null)})).s((function(t){Ec(e,s,null,t)}))}(this,e,t):et(new ei("invalid-auth-event")):(Ec(this,!1,null,null),Ze())}else et(new ei("invalid-auth-event"))},vc.prototype.oa=function(){var e=this;return new Qe((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new ei("timeout");e.a&&e.a.cancel(),e.a=pn(lc.get()).then((function(){e.b||(e.g=!0,Ec(e,!0,null,t))}))}(e))}))},Tc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ja(e.c,null,e.a,e.b),Ze()):t.za(n,r)?function(e,t){var n=e.b,r=e.c;t.za(r,n)(e.g,e.f,e.R(),e.i).then((function(e){t.ja(r,e,null,n)})).s((function(e){t.ja(r,null,e,n)}))}(e,t):et(new ei("invalid-auth-event"))}else et(new ei("invalid-auth-event"))},Ic.prototype.confirm=function(e){return e=To(this.verificationId,e),this.a(e)},Ac.prototype.start=function(){this.a=this.c,function e(t,n){t.stop();t.b=pn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=u.document,t=null;return Rr()||!e?Ze():new Qe((function(n){t=function(){Rr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).s((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},Ac.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Nc.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Nc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?et(new ei("user-token-expired")):e||!this.b||C()>this.c-3e4?this.a?Oc(this,{grant_type:"refresh_token",refresh_token:this.a}):Ze(null):Ze({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},xc.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},A(Rc,Vt),A(Lc,un),Lc.prototype.sa=function(e){this.ga=e,qa(this.a,e)},Lc.prototype.ha=function(){return this.ga},Lc.prototype.Aa=function(){return G(this.P)},Lc.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},qr(Lc.prototype,"providerId","firebase"),(t=Lc.prototype).reload=function(){var e=this;return sl(this,Gc(this).then((function(){return Zc(e).then((function(){return zc(e)})).then(Qc)})))},t.dc=function(e){return this.G(e).then((function(e){return new Cc(e)}))},t.G=function(e){var t=this;return sl(this,Gc(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new ei("internal-error");return e.accessToken!=t.ma&&(Bc(t,e.accessToken),t.dispatchEvent(new Rc("tokenChanged"))),$c(t,"refreshToken",e.refreshToken),e.accessToken})))},t.zc=function(e){if(!(e=e.users)||!e.length)throw new ei("internal-error");Wc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?q(e,(function(e){return new Pc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Yc(this,t[n]);$c(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},t.Ac=function(e){return Fr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(e)},t.gb=function(e){var t=this,n=null;return sl(this,e.f(this.a,this.uid).then((function(e){return el(t,e),n=nl(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},t.rc=function(e){return Fr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(e)},t.eb=function(e){var t=this,n=null;return sl(this,tl(this,e.providerId).then((function(){return t.G()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=nl(t,e,"link"),rl(t,e)})).then((function(){return n})))},t.sc=function(e,t){var n=this;return sl(this,tl(this,"phone").then((function(){return kc(Fc(n),e,t,I(n.eb,n))})))},t.Bc=function(e,t){var n=this;return sl(this,Ze().then((function(){return kc(Fc(n),e,t,I(n.gb,n))})),!0)},t.rb=function(e){var t=this;return sl(this,this.G().then((function(n){return t.a.rb(n,e)})).then((function(e){return el(t,e),t.reload()})))},t.Sc=function(e){var t=this;return sl(this,this.G().then((function(n){return e.b(t.a,n)})).then((function(e){return el(t,e),t.reload()})))},t.sb=function(e){var t=this;return sl(this,this.G().then((function(n){return t.a.sb(n,e)})).then((function(e){return el(t,e),t.reload()})))},t.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Gc(this);var t=this;return sl(this,this.G().then((function(n){return t.a.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return el(t,e),$c(t,"displayName",e.displayName||null),$c(t,"photoURL",e.photoUrl||null),j(t.providerData,(function(e){"password"===e.providerId&&(qr(e,"displayName",t.displayName),qr(e,"photoURL",t.photoURL))})),zc(t)})).then(Qc))},t.Qc=function(e){var t=this;return sl(this,Zc(this).then((function(n){return z(Hc(t),e)?function(e,t,n){return Os(e,cs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return j(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),j(Hc(t),(function(e){n[e]||Xc(t,e)})),n[Eo.PROVIDER_ID]||qr(t,"phoneNumber",null),zc(t)})):zc(t).then((function(){throw new ei("no-such-provider")}))})))},t.delete=function(){var e=this;return sl(this,this.G().then((function(t){return Os(e.a,us,{idToken:t})})).then((function(){e.dispatchEvent(new Rc("userDeleted"))}))).then((function(){for(var t=0;t<e.I.length;t++)e.I[t].cancel("app-deleted");Mc(e,null),Uc(e,null),e.I=[],e.B=!0,qc(e),qr(e,"refreshToken",null),e.i&&uc(e.i,e)}))},t.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ca||null)==t||"reauthViaRedirect"==e&&(this.ca||null)==t)},t.ja=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?I(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?I(this.Cb,this):"linkViaRedirect"==e&&(this.ca||null)==t?I(this.Bb,this):"reauthViaRedirect"==e&&(this.ca||null)==t?I(this.Cb,this):null},t.tc=function(e){var t=this;return il(this,"linkViaPopup",e,(function(){return tl(t,e.providerId).then((function(){return zc(t)}))}),!1)},t.Cc=function(e){return il(this,"reauthViaPopup",e,(function(){return Ze()}),!0)},t.uc=function(e){var t=this;return ol(this,"linkViaRedirect",e,(function(){return tl(t,e.providerId)}),!1)},t.Dc=function(e){return ol(this,"reauthViaRedirect",e,(function(){return Ze()}),!0)},t.Bb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return sl(this,this.G().then((function(n){return ts(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=nl(i,e,"link"),rl(i,e)})).then((function(){return o})))},t.Cb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return sl(this,Ze().then((function(){return Hi(ns(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=nl(i,e,"reauthenticate"),el(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},t.jb=function(e){var t=this,n=null;return sl(this,this.G().then((function(t){return n=t,void 0===e||Y(e)?{}:Si(new pi(e))})).then((function(e){return t.a.jb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},t.toJSON=function(){return this.A()},t.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&J(e,this.metadata.A()),j(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),e};var ll={name:"redirectUser",C:"session"};function hl(e){return Ou(e.b,ll,e.a)}function fl(e){this.a=e,this.b=Nu(),this.c=null,this.f=function(e){var t=ml("local"),n=ml("session"),r=ml("none");return function(e,t,n){var r=Du(t,n),i=_u(e,t.C);return e.get(t,n).then((function(o){var a=null;try{a=_r(u.localStorage.getItem(r))}catch(e){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(dl,e.a).then((function(e){return e?ml(e):t}))}))}))})).then((function(t){return e.c=t,pl(e,t.C)})).s((function(){e.c||(e.c=t)}))}(this),this.b.addListener(ml("local"),this.a,I(this.g,this))}function pl(e,t){var n,r=[];for(n in Cu)Cu[n]!==t&&r.push(Ou(e.b,ml(Cu[n]),e.a));return r.push(Ou(e.b,dl,e.a)),function(e){return new Qe((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)tt(e[s],k(o,s),a);else t(i)}))}(r)}fl.prototype.g=function(){var e=this,t=ml("local");bl(this,(function(){return Ze().then((function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null})).then((function(n){if(n)return pl(e,"local").then((function(){e.c=t}))}))}))};var dl={name:"persistence",C:"session"};function ml(e){return{name:"authUser",C:e}}function yl(e,t){return bl(e,(function(){return e.b.set(e.c,t.A(),e.a)}))}function vl(e){return bl(e,(function(){return Ou(e.b,e.c,e.a)}))}function gl(e,t){return bl(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),ul(e||{})}))}))}function bl(e,t){return e.f=e.f.then(t,t),e.f}function wl(e){if(this.l=!1,qr(this,"settings",new Sc),qr(this,"app",e),!Nl(this).options||!Nl(this).options.apiKey)throw new ei("invalid-api-key");e=r.a.SDK_VERSION?br(r.a.SDK_VERSION):null,this.b=new Ra(Nl(this).options&&Nl(this).options.apiKey,xi(Di),e),this.O=[],this.m=[],this.J=[],this.Ub=r.a.INTERNAL.createSubscribe(I(this.oc,this)),this.W=void 0,this.Vb=r.a.INTERNAL.createSubscribe(I(this.pc,this)),Cl(this,null),this.h=new fl(Nl(this).options.apiKey+":"+Nl(this).name),this.w=new cl(Nl(this).options.apiKey+":"+Nl(this).name),this.Y=xl(this,function(e){var t=Nl(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(ll,e.a).then((function(e){return e&&t&&(e.authDomain=t),ul(e||{})}))}(e.w,Nl(e).options.authDomain).then((function(t){return(e.B=t)&&(t.da=e.w),hl(e.w)}));return xl(e,t)}(e).then((function(){return gl(e.h,t)})).then((function(t){return t?(t.da=e.w,e.B&&(e.B.ca||null)==(t.ca||null)?t:t.reload().then((function(){return yl(e.h,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:vl(e.h)}))):null})).then((function(t){Cl(e,t||null)}));return xl(e,n)}(this)),this.i=xl(this,function(e){return e.Y.then((function(){return Il(e)})).s((function(){})).then((function(){if(!e.l)return e.ma()})).s((function(){})).then((function(){if(!e.l){e.ga=!0;var t=e.h;t.b.addListener(ml("local"),t.a,e.ma)}}))}(this)),this.ga=!1,this.ma=I(this.Nc,this),this.ub=I(this.aa,this),this.ua=I(this.bc,this),this.va=I(this.mc,this),this.Ha=I(this.nc,this),this.a=null,function(e){var t=Nl(e).options.authDomain,n=Nl(e).options.apiKey;t&&Sr()&&(e.Tb=e.Y.then((function(){if(!e.l){if(e.a=yc(t,n,Nl(e).name),sc(e.a,e),_l(e)&&Kc(_l(e)),e.B){Kc(e.B);var r=e.B;r.sa(e.ha()),Mc(r,e),Vc(r=e.B,e.I),Uc(r,e),e.B=null}return e.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=I(this.delete,this),this.INTERNAL.logFramework=I(this.vc,this),this.o=0,un.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ha()},set:function(e){this.sa(e)},enumerable:!1}),e.Z=null,Object.defineProperty(e,"ti",{get:function(){return this.R()},set:function(e){this.nb(e)},enumerable:!1}),e.P=null}(this),this.I=[]}function El(e){Vt.call(this,"languageCodeChanged"),this.g=e}function Tl(e){Vt.call(this,"frameworkChanged"),this.c=e}function Sl(e){return e.Tb||et(new ei("auth-domain-config-required"))}function Il(e){if(!Sr())return et(new ei("operation-not-supported-in-this-environment"));var t=Sl(e).then((function(){return e.a.oa()})).then((function(e){return e?zr(e):null}));return xl(e,t)}function kl(e,t){var n={};return n.apiKey=Nl(e).options.apiKey,n.authDomain=Nl(e).options.authDomain,n.appName=Nl(e).name,e.Y.then((function(){return function(e,t,n,r){var i=new Lc(e,t);return n&&(i.da=n),r&&Vc(i,r),i.reload().then((function(){return i}))}(n,t,e.w,e.Aa())})).then((function(t){return _l(e)&&t.uid==_l(e).uid?(Jc(_l(e),t),e.aa(t)):(Cl(e,t),Kc(t),e.aa(t))})).then((function(){Ol(e)}))}function Cl(e,t){_l(e)&&(function(e,t){W(e.O,(function(e){return e==t}))}(_l(e),e.ub),Jt(_l(e),"tokenChanged",e.ua),Jt(_l(e),"userDeleted",e.va),Jt(_l(e),"userInvalidated",e.Ha),qc(_l(e))),t&&(t.O.push(e.ub),Yt(t,"tokenChanged",e.ua),Yt(t,"userDeleted",e.va),Yt(t,"userInvalidated",e.Ha),0<e.o&&jc(t)),qr(e,"currentUser",t),t&&(t.sa(e.ha()),Mc(t,e),Vc(t,e.I),Uc(t,e))}function Al(e,t){var n=null,r=null;return xl(e,t.then((function(t){return n=So(t),r=Vi(t),kl(e,t)})).then((function(){return zr({user:_l(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Nl(e){return e.app}function _l(e){return e.currentUser}function Dl(e){return _l(e)&&_l(e)._lat||null}function Ol(e){if(e.ga){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](Dl(e));if(e.W!==e.getUid()&&e.J.length)for(e.W=e.getUid(),t=0;t<e.J.length;t++)e.J[t]&&e.J[t](Dl(e))}}function xl(e,t){return e.O.push(t),t.ka((function(){K(e.O,t)})),t}function Pl(){}function Rl(){this.a={},this.b=1e12}fl.prototype.mb=function(e){var t=null,n=this;return function(e){var t=new ei("invalid-persistence-type"),n=new ei("unsupported-persistence-type");e:{for(r in Cu)if(Cu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(pr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!Tr()&&"none"!==e)throw n}}(e),bl(this,(function(){return e!=n.c.C?n.b.get(n.c,n.a).then((function(r){return t=r,pl(n,e)})).then((function(){if(n.c=ml(e),t)return n.b.set(n.c,t,n.a)})):Ze()}))},A(wl,un),A(El,Vt),A(Tl,Vt),(t=wl.prototype).mb=function(e){return xl(this,e=this.h.mb(e))},t.sa=function(e){this.Z===e||this.l||(this.Z=e,qa(this.b,this.Z),this.dispatchEvent(new El(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var e=u.navigator;this.sa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},t.vc=function(e){this.I.push(e),Ba(this.b,r.a.SDK_VERSION?br(r.a.SDK_VERSION,this.I):null),this.dispatchEvent(new Tl(this.I))},t.Aa=function(){return G(this.I)},t.nb=function(e){this.P===e||this.l||(this.P=e,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:Nl(this).options.apiKey,authDomain:Nl(this).options.authDomain,appName:Nl(this).name,currentUser:_l(this)&&_l(this).A()}},t.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},t.ja=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?I(this.ac,this):null},t.ac=function(e,t,n,r){var i=this;e={requestUri:e,postBody:r,sessionId:t,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,s=es(i.b,e).then((function(e){return o=So(e),a=Vi(e),e}));return xl(this,e=i.Y.then((function(){return s})).then((function(e){return kl(i,e)})).then((function(){return zr({user:_l(i),credential:o,additionalUserInfo:a,operationType:"signIn"})})))},t.Lc=function(e){if(!Sr())return et(new ei("operation-not-supported-in-this-environment"));var t=this,n=Mi(e.providerId),i=Dr(),o=null;(!Cr()||hr())&&Nl(this).options.authDomain&&e.isOAuthProvider&&(o=Qs(Nl(this).options.authDomain,Nl(this).options.apiKey,Nl(this).name,"signInViaPopup",e,null,i,r.a.SDK_VERSION||null,null,null,this.R()));var a=ar(o,n&&n.Da,n&&n.Ca);return xl(this,n=Sl(this).then((function(n){return hc(n,a,"signInViaPopup",e,i,!!o,t.R())})).then((function(){return new Qe((function(e,n){t.ja("signInViaPopup",null,new ei("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=i,t.c=dc(t.a,t,"signInViaPopup",a,i)}))})).then((function(e){return a&&or(a),e?zr(e):null})).s((function(e){throw a&&or(a),e})))},t.Mc=function(e){if(!Sr())return et(new ei("operation-not-supported-in-this-environment"));var t=this;return xl(this,Sl(this).then((function(){return function(e){return bl(e,(function(){return e.b.set(dl,e.c.C,e.a)}))}(t.h)})).then((function(){return pc(t.a,"signInViaRedirect",e,void 0,t.R())})))},t.oa=function(){var e=this;return Il(this).then((function(t){return e.a&&bc(e.a.b),t})).s((function(t){throw e.a&&bc(e.a.b),t}))},t.Rc=function(e){if(!e)return et(new ei("null-user"));if(this.P!=e.tenantId)return et(new ei("tenant-id-mismatch"));var t=this,n={};n.apiKey=Nl(this).options.apiKey,n.authDomain=Nl(this).options.authDomain,n.appName=Nl(this).name;var r=function(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.o,appName:e.m};var i=e.b,o={};return o[Ma]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-C())/1e3,t=new Lc(t,o),n&&(t.da=n),r&&Vc(t,r),Jc(t,e),t}(e,n,t.w,t.Aa());return xl(this,this.i.then((function(){if(Nl(t).options.apiKey!=e.l)return r.reload()})).then((function(){return _l(t)&&e.uid==_l(t).uid?(Jc(_l(t),e),t.aa(e)):(Cl(t,r),Kc(r),t.aa(r))})).then((function(){Ol(t)})))},t.pb=function(){var e=this;return xl(this,this.i.then((function(){return e.a&&bc(e.a.b),_l(e)?(Cl(e,null),vl(e.h).then((function(){Ol(e)}))):Ze()})))},t.Nc=function(){var e=this;return gl(this.h,Nl(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=_l(e)&&t){n=_l(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Jc(_l(e),t),_l(e).G();(_l(e)||t)&&(Cl(e,t),t&&(Kc(t),t.da=e.w),e.a&&sc(e.a,e),Ol(e))}}))},t.aa=function(e){return yl(this.h,e)},t.bc=function(){Ol(this),this.aa(_l(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(_l(t))}))},t.pc=function(e){var t=this;!function(e,t){e.J.push(t),xl(e,e.i.then((function(){!e.l&&z(e.J,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Dl(e)))})))}(this,(function(){e.next(_l(t))}))},t.xc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){g(e)?e(_l(r)):g(e.next)&&e.next(_l(r))})),this.Ub(e,t,n)},t.wc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),g(e)?e(_l(r)):g(e.next)&&e.next(_l(r))})),this.Vb(e,t,n)},t.cc=function(e){var t=this;return xl(this,this.i.then((function(){return _l(t)?_l(t).G(e).then((function(e){return{accessToken:e}})):null})))},t.Hc=function(e){var t=this;return this.i.then((function(){return Al(t,Os(t.b,Cs,{token:e}))})).then((function(e){var n=e.user;return $c(n,"isAnonymous",!1),t.aa(n),e}))},t.Ic=function(e,t){var n=this;return this.i.then((function(){return Al(n,Os(n.b,As,{email:e,password:t}))}))},t.Xb=function(e,t){var n=this;return this.i.then((function(){return Al(n,Os(n.b,as,{email:e,password:t}))}))},t.Ra=function(e){var t=this;return this.i.then((function(){return Al(t,e.na(t.b))}))},t.Gc=function(e){return Fr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(e)},t.ob=function(){var e=this;return this.i.then((function(){var t=_l(e);if(t&&t.isAnonymous){var n=zr({providerId:null,isNewUser:!1});return zr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Al(e,e.b.ob()).then((function(t){var n=t.user;return $c(n,"isAnonymous",!0),e.aa(n),t}))}))},t.getUid=function(){return _l(this)&&_l(this).uid||null},t.Wb=function(e){this.addAuthTokenListener(e),this.o++,0<this.o&&_l(this)&&jc(_l(this))},t.Ec=function(e){var t=this;j(this.m,(function(n){n==e&&t.o--})),0>this.o&&(this.o=0),0==this.o&&_l(this)&&qc(_l(this)),this.removeAuthTokenListener(e)},t.addAuthTokenListener=function(e){var t=this;this.m.push(e),xl(this,this.i.then((function(){t.l||z(t.m,e)&&e(Dl(t))})))},t.removeAuthTokenListener=function(e){W(this.m,(function(t){return t==e}))},t.delete=function(){this.l=!0;for(var e=0;e<this.O.length;e++)this.O[e].cancel("app-deleted");return this.O=[],this.h&&(e=this.h).b.removeListener(ml("local"),e.a,this.ma),this.a&&(uc(this.a,this),bc(this.a.b)),Promise.resolve()},t.$b=function(e){return xl(this,function(e,t){return Os(e,ss,{identifier:t,continueUri:Ir()?nr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.b,e))},t.qc=function(e){return!!vo(e)},t.lb=function(e,t){var n=this;return xl(this,Ze().then((function(){var e=new pi(t);if(!e.c)throw new ei("argument-error",yi+" must be true when sending sign in link to email");return Si(e)})).then((function(t){return n.b.lb(e,t)})).then((function(){})))},t.Uc=function(e){return this.Ka(e).then((function(e){return e.data.email}))},t.$a=function(e,t){return xl(this,this.b.$a(e,t).then((function(){})))},t.Ka=function(e){return xl(this,this.b.Ka(e).then((function(e){return new Wr(e)})))},t.Xa=function(e){return xl(this,this.b.Xa(e).then((function(){})))},t.kb=function(e,t){var n=this;return xl(this,Ze().then((function(){return void 0===t||Y(t)?{}:Si(new pi(t))})).then((function(t){return n.b.kb(e,t)})).then((function(){})))},t.Kc=function(e,t){return xl(this,kc(this,e,t,I(this.Ra,this)))},t.Jc=function(e,t){var n=this;return xl(this,Ze().then((function(){var r=t||nr(),i=yo(e,r);if(!(r=vo(r)))throw new ei("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new ei("tenant-id-mismatch");return n.Ra(i)})))},Pl.prototype.render=function(){},Pl.prototype.reset=function(){},Pl.prototype.getResponse=function(){},Pl.prototype.execute=function(){};var Ll=null;function Ml(e,t){return(t=Vl(t))&&e.a[t]||null}function Vl(e){return(e=void 0===e?1e12:e)?e.toString():null}function Ul(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Wn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Yt(this.f,"click",this.i)}function Fl(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function jl(){}Rl.prototype.render=function(e,t){return this.a[this.b.toString()]=new Ul(e,t),this.b++},Rl.prototype.reset=function(e){var t=Ml(this,e);e=Vl(e),t&&e&&(t.delete(),delete this.a[e])},Rl.prototype.getResponse=function(e){return(e=Ml(this,e))?e.getResponse():null},Rl.prototype.execute=function(e){(e=Ml(this,e))&&e.execute()},Ul.prototype.getResponse=function(){return Fl(this),this.b},Ul.prototype.execute=function(){Fl(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},Ul.prototype.delete=function(){Fl(this),this.g=!0,clearTimeout(this.a),this.a=null,Jt(this.f,"click",this.i)},jl.prototype.g=function(){return Ll||(Ll=new Rl),Ze(Ll)},jl.prototype.c=function(){};var ql=null;function Bl(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var zl=new Z(ne,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Kl=new Pr(3e4,6e4);Bl.prototype.g=function(e){var t=this;return new Qe((function(n,r){var i=setTimeout((function(){r(new ei("network-request-failed"))}),Kl.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new ei("internal-error"));delete u[t.a]},Ze(Aa(ae(zl,{onload:t.a,hl:e||""}))).s((function(){clearTimeout(i),r(new ei("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Bl.prototype.c=function(){this.b--};var Wl=null;function Ql(e,t,n,r,i,o,a){if(qr(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=t,this.g=null,a?(ql||(ql=new jl),a=ql):(Wl||(Wl=new Bl),a=Wl),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Yl])throw new ei("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Xl],!u.document)throw new ei("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Wn(t)||!this.i&&Wn(t).hasChildNodes())throw new ei("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ra(e,o||null,i||null),this.v=r||function(){return null};var s=this;this.l=[];var c=this.a[Gl];this.a[Gl]=function(e){if($l(s,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=Er(c,u);"function"==typeof t&&t(e)}};var l=this.a[Hl];this.a[Hl]=function(){if($l(s,null),"function"==typeof l)l();else if("string"==typeof l){var e=Er(l,u);"function"==typeof e&&e()}}}var Gl="callback",Hl="expired-callback",Yl="sitekey",Xl="size";function $l(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Jl(e,t){return e.h.push(t),t.ka((function(){K(e.h,t)})),t}function Zl(e){if(e.B)throw new ei("internal-error","RecaptchaVerifier instance has been destroyed.")}function eh(e,t,n){var i=!1;try{this.b=n||r.a.app()}catch(e){throw new ei("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new ei("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Aa()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=r.a.SDK_VERSION?br(r.a.SDK_VERSION,a):null,Ql.call(this,n,e,t,(function(){try{var e=o.b.auth().ha()}catch(t){e=null}return e}),a,xi(Di),i)}function th(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new ei("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].N(n[i])&&!o){if(t=t[i],0>i||i>=nh.length)throw new ei("internal-error","Argument validator received an unsupported number of arguments.");n=nh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.M+".";break e}r=null}}if(r)throw new ei("argument-error",e+" failed: "+r)}(t=Ql.prototype).Ba=function(){var e=this;return this.f?this.f:this.f=Jl(this,Ze().then((function(){if(Ir()&&!fr())return cr();throw new ei("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.v())})).then((function(t){return e.g=t,Os(e.o,vs,{})})).then((function(t){e.a[Yl]=t.recaptchaSiteKey})).s((function(t){throw e.f=null,t})))},t.render=function(){Zl(this);var e=this;return Jl(this,this.Ba().then((function(){if(null===e.c){var t=e.u;if(!e.i){var n=Wn(t);t=Hn("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},t.verify=function(){Zl(this);var e=this;return Jl(this,this.render().then((function(t){return new Qe((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){W(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},t.reset=function(){Zl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Zl(this),this.B=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Wn(this.u);for(var t;t=e.firstChild;)e.removeChild(t)}},A(eh,Ql);var nh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function rh(e,t){return{name:e||"",M:"a valid string",optional:!!t,N:c}}function ih(e,t){return{name:e||"",M:"a boolean",optional:!!t,N:l}}function oh(e,t){return{name:e||"",M:"a valid object",optional:!!t,N:b}}function ah(e,t){return{name:e||"",M:"a function",optional:!!t,N:g}}function sh(e,t){return{name:e||"",M:"null",optional:!!t,N:m}}function uh(e){return{name:e?e+"Credential":"credential",M:e?"a valid "+e+" credential":"a valid credential",optional:!1,N:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.na||!n)}}}function ch(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(e){return!!(e&&c(e.type)&&g(e.verify))}}}function lh(e,t,n,r){return{name:n||"",M:e.M+" or "+t.M,optional:!!r,N:function(n){return e.N(n)||t.N(n)}}}function hh(e,t){for(var n in t){var r=t[n].name;e[r]=dh(r,e[n],t[n].j)}}function fh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:k((function(e){return this[e]}),n),set:k((function(e,t,n,r){th(e,[n],[r],!0),this[t]=r}),r,n,t[n].Ya),enumerable:!0})}}function ph(e,t,n,r){e[t]=dh(t,n,r)}function dh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return th(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}hh(wl.prototype,{Xa:{name:"applyActionCode",j:[rh("code")]},Ka:{name:"checkActionCode",j:[rh("code")]},$a:{name:"confirmPasswordReset",j:[rh("code"),rh("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[rh("email"),rh("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[rh("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[rh("emailLink")]},wc:{name:"onAuthStateChanged",j:[lh(oh(),ah(),"nextOrObserver"),ah("opt_error",!0),ah("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[lh(oh(),ah(),"nextOrObserver"),ah("opt_error",!0),ah("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[rh("email"),lh(oh("opt_actionCodeSettings",!0),sh(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[rh("email"),oh("actionCodeSettings")]},mb:{name:"setPersistence",j:[rh("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[uh()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[uh()]},Hc:{name:"signInWithCustomToken",j:[rh("token")]},Ic:{name:"signInWithEmailAndPassword",j:[rh("email"),rh("password")]},Jc:{name:"signInWithEmailLink",j:[rh("email"),rh("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[rh("phoneNumber"),ch()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[lh({name:"user",M:"an instance of Firebase User",optional:!1,N:function(e){return!!(e&&e instanceof Lc)}},sh(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[rh(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[rh("code")]}}),fh(wl.prototype,{lc:{name:"languageCode",Ya:lh(rh(),sh(),"languageCode")},ti:{name:"tenantId",Ya:lh(rh(),sh(),"tenantId")}}),wl.Persistence=Cu,wl.Persistence.LOCAL="local",wl.Persistence.SESSION="session",wl.Persistence.NONE="none",hh(Lc.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[ih("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[ih("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[uh()]},eb:{name:"linkWithCredential",j:[uh()]},sc:{name:"linkWithPhoneNumber",j:[rh("phoneNumber"),ch()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[uh()]},gb:{name:"reauthenticateWithCredential",j:[uh()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[rh("phoneNumber"),ch()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[lh(oh("opt_actionCodeSettings",!0),sh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[rh(null,!0)]},Qc:{name:"unlink",j:[rh("provider")]},rb:{name:"updateEmail",j:[rh("email")]},sb:{name:"updatePassword",j:[rh("password")]},Sc:{name:"updatePhoneNumber",j:[uh("phone")]},tb:{name:"updateProfile",j:[oh("profile")]}}),hh(Rl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hh(Pl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),hh(Qe.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),fh(Sc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:ih("appVerificationDisabledForTesting")}}),hh(Ic.prototype,{confirm:{name:"confirm",j:[rh("verificationCode")]}}),ph(Gi,"fromJSON",(function(e){e=c(e)?JSON.parse(e):e;for(var t,n=[eo,po,bo,$i],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[lh(rh(),oh(),"json")]),ph(mo,"credential",(function(e,t){return new fo(e,t)}),[rh("email"),rh("password")]),hh(fo.prototype,{A:{name:"toJSON",j:[rh(null,!0)]}}),hh(io.prototype,{wa:{name:"addScope",j:[rh("scope")]},Ea:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),ph(io,"credential",oo,[lh(rh(),oh(),"token")]),ph(mo,"credentialWithLink",yo,[rh("email"),rh("emailLink")]),hh(ao.prototype,{wa:{name:"addScope",j:[rh("scope")]},Ea:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),ph(ao,"credential",so,[lh(rh(),oh(),"token")]),hh(uo.prototype,{wa:{name:"addScope",j:[rh("scope")]},Ea:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),ph(uo,"credential",co,[lh(rh(),lh(oh(),sh()),"idToken"),lh(rh(),sh(),"accessToken",!0)]),hh(lo.prototype,{Ea:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),ph(lo,"credential",ho,[lh(rh(),oh(),"token"),rh("secret",!0)]),hh(ro.prototype,{wa:{name:"addScope",j:[rh("scope")]},credential:{name:"credential",j:[lh(rh(),lh(oh(),sh()),"optionsOrIdToken"),lh(rh(),sh(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[oh("customOAuthParameters")]}}),hh(Ji.prototype,{A:{name:"toJSON",j:[rh(null,!0)]}}),hh(Yi.prototype,{A:{name:"toJSON",j:[rh(null,!0)]}}),ph(Eo,"credential",To,[rh("verificationId"),rh("verificationCode")]),hh(Eo.prototype,{Va:{name:"verifyPhoneNumber",j:[rh("phoneNumber"),ch()]}}),hh(go.prototype,{A:{name:"toJSON",j:[rh(null,!0)]}}),hh(ei.prototype,{toJSON:{name:"toJSON",j:[rh(null,!0)]}}),hh(Oo.prototype,{toJSON:{name:"toJSON",j:[rh(null,!0)]}}),hh(Do.prototype,{toJSON:{name:"toJSON",j:[rh(null,!0)]}}),hh(eh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ph(ii,"parseLink",fi,[rh("link")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Qr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:wl,AuthCredential:Gi,Error:ei};ph(e,"EmailAuthProvider",mo,[]),ph(e,"FacebookAuthProvider",io,[]),ph(e,"GithubAuthProvider",ao,[]),ph(e,"GoogleAuthProvider",uo,[]),ph(e,"TwitterAuthProvider",lo,[]),ph(e,"OAuthProvider",ro,[rh("providerId")]),ph(e,"SAMLAuthProvider",no,[rh("providerId")]),ph(e,"PhoneAuthProvider",Eo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(e){return!!(e&&e instanceof wl)}}]),ph(e,"RecaptchaVerifier",eh,[lh(rh(),{name:"",M:"an HTML element",optional:!1,N:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),oh("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(e){return!!(e&&e instanceof r.a.app.App)}}]),ph(e,"ActionCodeURL",ii,[]),r.a.INTERNAL.registerService("auth",(function(e,t){return t({INTERNAL:{getUid:I((e=new wl(e)).getUid,e),getToken:I(e.cc,e),addAuthTokenListener:I(e.Wb,e),removeAuthTokenListener:I(e.Ec,e)}}),e}),e,(function(e,t){if("create"===e)try{t.auth()}catch(e){}})),r.a.INTERNAL.extendNamespace({User:Lc})}()}).apply(void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(32))},function(e,t,n){(function(e,t){!function(n){"use strict";try{(function(){n=n&&n.hasOwnProperty("default")?n.default:n;var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o,a,s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function u(e,t,n,r){return new(n=n||Promise)((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function l(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function h(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function f(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString();switch(t){case o.DEBUG:case o.VERBOSE:console.log.apply(console,h(["["+i+"]  "+e.name+":"],n));break;case o.INFO:console.info.apply(console,h(["["+i+"]  "+e.name+":"],n));break;case o.WARN:console.warn.apply(console,h(["["+i+"]  "+e.name+":"],n));break;case o.ERROR:console.error.apply(console,h(["["+i+"]  "+e.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}}(a=o=o||{})[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT";var p=o.INFO,d=(Object.defineProperty(m.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),m.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,h([this,o.DEBUG],e))},m.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,h([this,o.VERBOSE],e))},m.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,h([this,o.INFO],e))},m.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,h([this,o.WARN],e))},m.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,h([this,o.ERROR],e))},m);function m(e){this.name=e,this._logLevel=p,this._logHandler=f}function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var v,g=(i(b,v=Error),b);function b(e,t){var n=v.call(this,t)||this;return n.code=e,n.name="FirebaseError",Object.setPrototypeOf(n,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,w.prototype.create),n}var w=(E.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(S,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new g(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},E);function E(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var T,S=/\{\$([^}]+)}/g,I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},k=k||{},C=I;function A(e){return"string"==typeof e}function N(e){return"number"==typeof e}function _(e,t){e=e.split("."),t=t||C;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function D(){}function O(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function x(e){return"array"==O(e)}function P(e){var t=O(e);return"array"==t||"object"==t&&"number"==typeof e.length}function R(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var L="closure_uid_"+(1e9*Math.random()>>>0),M=0;function V(e,t,n){return e.call.apply(e.bind,arguments)}function U(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function F(e,t,n){return(F=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?V:U).apply(null,arguments)}function j(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var q=Date.now||function(){return+new Date};function B(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,(e.prototype.constructor=e).yb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function z(){this.j=this.j,this.i=this.i}z.prototype.j=!1,z.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[L]||(this[L]=++M))},z.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var K=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(A(e))return A(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=A(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Q(e){return Array.prototype.concat.apply([],arguments)}function G(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function H(e){return/^[\s\xa0]*$/.test(e)}var Y,X=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function $(e,t){return-1!=e.indexOf(t)}function J(e,t){return e<t?-1:t<e?1:0}e:{var Z=C.navigator;if(Z){var ee=Z.userAgent;if(ee){Y=ee;break e}}Y=""}function te(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ne(e){var t,n={};for(t in e)n[t]=e[t];return n}var re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<re.length;o++)n=re[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function oe(e){return oe[" "](e),e}oe[" "]=D;var ae,se,ue=$(Y,"Opera"),ce=$(Y,"Trident")||$(Y,"MSIE"),le=$(Y,"Edge"),he=le||ce,fe=$(Y,"Gecko")&&!($(Y.toLowerCase(),"webkit")&&!$(Y,"Edge"))&&!($(Y,"Trident")||$(Y,"MSIE"))&&!$(Y,"Edge"),pe=$(Y.toLowerCase(),"webkit")&&!$(Y,"Edge");function de(){var e=C.document;return e?e.documentMode:void 0}e:{var me="",ye=(se=Y,fe?/rv:([^\);]+)(\)|;)/.exec(se):le?/Edge\/([\d\.]+)/.exec(se):ce?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(se):pe?/WebKit\/(\S+)/.exec(se):ue?/(?:Version)[ \/]?(\S+)/.exec(se):void 0);if(ye&&(me=ye?ye[1]:""),ce){var ve=de();if(null!=ve&&ve>parseFloat(me)){ae=String(ve);break e}}ae=me}var ge,be={};function we(e){return function(t,n){var r=be;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=function(){for(var t=0,n=X(String(ae)).split("."),r=X(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=J(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||J(0==a[2].length,0==s[2].length)||J(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}()}(e)}var Ee=C.document;ge=Ee&&ce?de()||("CSS1Compat"==Ee.compatMode?parseInt(ae,10):5):void 0;var Te=!ce||9<=Number(ge),Se=ce&&!we("9"),Ie=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{C.addEventListener("test",D,t),C.removeEventListener("test",D,t)}catch(e){}return e}();function ke(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function Ce(e,t){if(ke.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(fe){e:{try{oe(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=A(e.pointerType)?e.pointerType:Ae[e.pointerType]||"",(this.c=e).defaultPrevented&&this.b()}}ke.prototype.b=function(){this.Ja=!1},B(Ce,ke);var Ae={2:"touch",3:"pen",4:"mouse"};Ce.prototype.b=function(){Ce.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Se)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}};var Ne="closure_listenable_"+(1e6*Math.random()|0),_e=0;function De(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++_e,this.X=this.Z=!1}function Oe(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function xe(e){this.src=e,this.a={},this.b=0}function Pe(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=K(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Oe(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function Re(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}xe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Re(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new De(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var Le="closure_lm_"+(1e6*Math.random()|0),Me={};function Ve(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(x(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=We(r),t&&t[Ne]?t.Ba(n,r,R(i)?!!i.capture:!!i,o):Ue(t,n,r,!0,i,o)}(e,t,n,r,i);if(x(t)){for(var o=0;o<t.length;o++)Ve(e,t[o],n,r,i);return null}return n=We(n),e&&e[Ne]?e.Aa(t,n,R(r)?!!r.capture:!!r,i):Ue(e,t,n,!1,r,i)}function Ue(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=R(i)?!!i.capture:!!i;if(a&&!Te)return null;var s=ze(e);if(s||(e[Le]=s=new xe(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Be,t=Te?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),(n.proxy=r).src=e,r.listener=n,e.addEventListener)Ie||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(je(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fe(e){if(!N(e)&&e&&!e.X){var t=e.src;if(t&&t[Ne])Pe(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(je(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ze(t))?(Pe(n,e),0==n.b&&(n.src=null,t[Le]=null)):Oe(e)}}}function je(e){return e in Me?Me[e]:Me[e]="on"+e}function qe(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&Fe(e),n.call(r,t)}function Be(e,t){return!!e.X||qe(e,Te?new Ce(t,this):t=new Ce(t||_("window.event"),this))}function ze(e){return(e=e[Le])instanceof xe?e:null}var Ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(e){return"function"==O(e)?e:(e[Ke]||(e[Ke]=function(t){return e.handleEvent(t)}),e[Ke])}function Qe(){z.call(this),this.c=new xe(this),(this.J=this).B=null}function Ge(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&Pe(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}B(Qe,z),Qe.prototype[Ne]=!0,(T=Qe.prototype).addEventListener=function(e,t,n,r){Ve(this,e,t,n,r)},T.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(x(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=R(i)?!!i.capture:!!i,r=We(r),t&&t[Ne]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=Re(a=t.a[n],r,i,o))&&(Oe(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):(t=t&&ze(t))&&(n=t.a[n.toString()],t=-1,n&&(t=Re(n,r,i,o)),(r=-1<t?n[t]:null)&&Fe(r))}(this,e,t,n,r)},T.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(A(e))e=new ke(e,n);else if(e instanceof ke)e.target=e.target||n;else{var i=e;ie(e=new ke(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=Ge(a,r,!0,e)&&i}if(i=Ge(a=e.a=n,r,!0,e)&&i,i=Ge(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Ge(a=e.a=t[o],r,!1,e)&&i;return i},T.G=function(){if(Qe.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Oe(n[r]);delete t.a[e],t.b--}}this.B=null},T.Aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},T.Ba=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var He=C.JSON.stringify;function Ye(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Xe(){this.b=this.a=null}Ye.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var $e,Je=new Ye((function(){return new Ze}),(function(e){e.reset()}));function Ze(){this.next=this.b=this.a=null}function et(e){C.setTimeout((function(){throw e}),0)}function tt(e,t){$e||function(){var e=C.Promise.resolve(void 0);$e=function(){e.then(it)}}(),nt||($e(),nt=!0),rt.add(e,t)}Xe.prototype.add=function(e,t){var n=Je.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ze.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};var nt=!(Ze.prototype.reset=function(){this.next=this.b=this.a=null}),rt=new Xe;function it(){for(var e;r=n=void 0,r=null,(n=rt).a&&(r=n.a,n.a=n.a.next,n.a||(n.b=null),r.next=null),e=r;){try{e.a.call(e.b)}catch(e){et(e)}var t=Je;t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}var n,r;nt=!1}function ot(e,t){Qe.call(this),this.b=e||1,this.a=t||C,this.f=F(this.gb,this),this.g=q()}function at(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function st(e,t,n){if("function"==O(e))n&&(e=F(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=F(e.handleEvent,e)}return 2147483647<Number(t)?-1:C.setTimeout(e,t||0)}function ut(e,t,n){z.call(this),this.f=null!=n?F(e,n):e,this.c=t,this.b=F(this.ab,this),this.a=[]}function ct(e){e.U=st(e.b,e.c),e.f.apply(null,e.a)}function lt(e){z.call(this),this.b=e,this.a={}}B(ot,Qe),(T=ot.prototype).ba=!1,T.L=null,T.gb=function(){if(this.ba){var e=q()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(at(this),this.start()))}},T.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=q())},T.G=function(){ot.N.G.call(this),at(this),delete this.a},B(ut,z),(T=ut.prototype).ea=!1,T.U=null,T.Ua=function(e){this.a=arguments,this.U?this.ea=!0:ct(this)},T.G=function(){ut.N.G.call(this),this.U&&(C.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},T.ab=function(){this.U=null,this.ea&&(this.ea=!1,ct(this))},B(lt,z);var ht=[];function ft(e,t,n,r){x(n)||(n&&(ht[0]=n.toString()),n=ht);for(var i=0;i<n.length;i++){var o=Ve(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function pt(e){te(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Fe(e)}),e),e.a={}}function dt(){}lt.prototype.G=function(){lt.N.G.call(this),pt(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mt=new Qe;function yt(e){ke.call(this,"serverreachability",e)}function vt(e){mt.dispatchEvent(new yt(mt,e))}function gt(e){ke.call(this,"statevent",e)}function bt(e){mt.dispatchEvent(new gt(mt,e))}function wt(e){ke.call(this,"timingevent",e)}function Et(e,t){if("function"!=O(e))throw Error("Fn must not be null and must be a function");return C.setTimeout((function(){e()}),t)}B(yt,ke),B(gt,ke),B(wt,ke);var Tt={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},St={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function It(){}function kt(e){var t;return(t=e.a)||(t=e.a={}),t}function Ct(){}It.prototype.a=null;var At,Nt={OPEN:"a",ib:"b",Na:"c",rb:"d"};function _t(){ke.call(this,"d")}function Dt(){ke.call(this,"c")}function Ot(){}function xt(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new lt(this),this.O=Pt,e=he?125:void 0,this.P=new ot(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}B(_t,ke),B(Dt,ke),B(Ot,It),At=new Ot;var Pt=45e3,Rt={},Lt={};function Mt(e,t,n){e.F=1,e.f=un(en(t)),e.l=n,e.H=!0,Ut(e,null)}function Vt(e,t,n,r){e.F=1,e.f=un(en(t)),e.l=null,e.H=n,Ut(e,r)}function Ut(e,t){e.v=q(),qt(e),e.D=en(e.f),sn(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new ut(F(e.Ka,e,e.a),e.J)),ft(e.I,e.a,"readystatechange",e.eb),t=e.h?ne(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),vt(1)}function Ft(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var i=jt(e,n);if(i==Lt){4==t&&(e.c=4,bt(14),r=!1);break}if(i==Rt){e.c=4,bt(15),r=!1;break}Qt(e,i)}4==t&&0==n.length&&(e.c=1,bt(16),r=!1),e.b=e.b&&r,r||(Wt(e),Kt(e))}function jt(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?Lt:(n=Number(t.substring(n,r)),isNaN(n)?Rt:(r+=1)+n>t.length?Lt:(t=t.substr(r,n),e.A=r+n,t))}function qt(e){e.R=q()+e.O,Bt(e,e.O)}function Bt(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=Et(F(e.bb,e),t)}function zt(e){e.i&&(C.clearTimeout(e.i),e.i=null)}function Kt(e){e.g.Da()||e.m||e.g.na(e)}function Wt(e){zt(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,at(e.P),pt(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function Qt(e,t){try{e.g.Ga(e,t),vt(4)}catch(e){}}function Gt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(P(e)||A(e))W(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(P(e)||A(e)){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(A(e))return e.split("");if(P(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Ht(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ht)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Yt(e,t){$t(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Xt(e))}function Xt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];$t(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)$t(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function $t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(T=xt.prototype).setTimeout=function(e){this.O=e},T.eb=function(e){e=e.target;var t=this.B;t&&3==er(e)?t.Ua():this.Ka(e)},T.Ka=function(e){try{if(e==this.a)e:{var t=er(this.a),n=this.a.ya(),r=this.a.T();if(!(t<3||3==t&&!he&&!this.a.aa())){this.m||4!=t||7==n||vt(8==n||r<=0?3:2),zt(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){t:{if(this.a){var a=tr(this.a,"X-HTTP-Initial-Response");if(a&&!H(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.c=3,bt(12),Wt(this),Kt(this);break e}this.s=!0,Qt(this,s)}this.H?(Ft(this,t,o),he&&this.b&&3==t&&(ft(this.I,this.P,"tick",this.cb),this.P.start())):Qt(this,o),4==t&&Wt(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,qt(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,bt(12)):(this.c=0,bt(13)),Wt(this),Kt(this)}}}catch(e){}},T.cb=function(){if(this.a){var e=er(this.a),t=this.a.aa();this.A<t.length&&(zt(this),Ft(this,e,t),this.b&&4!=e&&qt(this))}},T.cancel=function(){this.m=!0,Wt(this)},T.bb=function(){this.i=null;var e=q();0<=e-this.R?(2!=this.F&&(vt(3),bt(17)),Wt(this),this.c=2,Kt(this)):Bt(this,this.R-e)},(T=Ht.prototype).C=function(){Xt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},T.K=function(){return Xt(this),this.a.concat()},T.get=function(e,t){return $t(this.b,e)?this.b[e]:t},T.set=function(e,t){$t(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},T.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Jt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Zt?(this.h=void 0!==t?t:e.h,tn(this,e.f),this.j=e.j,nn(this,e.b),rn(this,e.i),this.a=e.a,on(this,Tn(e.c)),this.g=e.g):e&&(n=String(e).match(Jt))?(this.h=!!t,tn(this,n[1]||"",!0),this.j=cn(n[2]||""),nn(this,n[3]||"",!0),rn(this,n[4]),this.a=cn(n[5]||"",!0),on(this,n[6]||"",!0),this.g=cn(n[7]||"")):(this.h=!!t,this.c=new vn(null,this.h))}function en(e){return new Zt(e)}function tn(e,t,n){e.f=n?cn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function nn(e,t,n){e.b=n?cn(t,!0):t}function rn(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.i=t}else e.i=null}function on(e,t,n){t instanceof vn?(e.c=t,function(e,t){t&&!e.f&&(gn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(bn(this,t),En(this,n,e))}),e)),e.f=t}(e.c,e.h)):(n||(t=ln(t,mn)),e.c=new vn(t,e.h))}function an(e,t,n){e.c.set(t,n)}function sn(e,t,n){x(n)||(n=[String(n)]),En(e.c,t,n)}function un(e){return an(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^q()).toString(36)),e}function cn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ln(e,t,n){return A(e)?(e=encodeURI(e).replace(t,hn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function hn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Zt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(ln(t,fn,!0),":");var n=this.b;return!n&&"file"!=t||(e.push("//"),(t=this.j)&&e.push(ln(t,fn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(ln(n,"/"==n.charAt(0)?dn:pn,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",ln(n,yn)),e.join("")},Zt.prototype.resolve=function(e){var t=en(this),n=!!e.f;n?tn(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?nn(t,e.b):n=null!=e.i;var r=e.a;if(n)rn(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if($(i,"./")||$(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.a=r:n=""!==e.c.toString(),n?on(t,Tn(e.c)):n=!!e.g,n&&(t.g=e.g),t};var fn=/[#\/\?@]/g,pn=/[#\?:]/g,dn=/[#\?]/g,mn=/[#\?@]/g,yn=/#/g;function vn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function gn(e){e.a||(e.a=new Ht,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function bn(e,t){gn(e),t=Sn(e,t),$t(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Yt(e.a,t))}function wn(e,t){return gn(e),t=Sn(e,t),$t(e.a.b,t)}function En(e,t,n){bn(e,t),0<n.length&&(e.c=null,e.a.set(Sn(e,t),G(n)),e.b+=n.length)}function Tn(e){var t=new vn;return t.c=e.c,e.a&&(t.a=new Ht(e.a),t.b=e.b),t}function Sn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function In(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function kn(e){var t=e.a.F.a;if(null!=t)bt(4),t?(bt(10),pr(e.a,e,!1)):(bt(11),pr(e.a,e,!0));else{e.b=new xt(e,void 0,void 0),e.b.h=e.h,t=gr(t=e.a,t.Y()?e.f:null,e.i),bt(4),sn(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&an(t,n,r),Vt(e.b,t,!1,e.f)}}function Cn(){this.a=this.b=null}function An(){this.a=new Ht}function Nn(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[L]||(e[L]=++M)):t.charAt(0)+e}function _n(e,t){this.b=e,this.a=t}function Dn(e){this.g=e||On,e=C.PerformanceNavigationTiming?0<(e=C.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(C.ka&&C.ka.Ea&&C.ka.Ea()&&C.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new An),this.b=null,this.c=[]}(T=vn.prototype).add=function(e,t){gn(this),this.c=null,e=Sn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},T.forEach=function(e,t){gn(this),this.a.forEach((function(n,r){W(n,(function(n){e.call(t,n,r,this)}),this)}),this)},T.K=function(){gn(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},T.C=function(e){gn(this);var t=[];if(A(e))wn(this,e)&&(t=Q(t,this.a.get(Sn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=Q(t,e[n])}return t},T.set=function(e,t){return gn(this),this.c=null,wn(this,e=Sn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},T.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},T.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")},B((function(){}),(function(){})),(T=In.prototype).M=null,T.$=function(e){return this.a.$(e)},T.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},T.Da=function(){return!1},T.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=tr(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=tr(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(e){return(t=this.a).m=this.c,void yr(t,2)}this.f=r[0]}else(t=this.a).m=this.c,yr(t,2)}else 1==this.M&&(this.g?bt(6):"11111"==t?(bt(5),this.g=!0,(!ce||10<=Number(ge))&&(this.c=200,this.b.cancel(),bt(11),pr(this.a,this,!0))):(bt(7),this.g=!1))},T.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,kn(this)):1==this.M&&(this.g?(bt(11),pr(this.a,this,!0)):(bt(10),pr(this.a,this,!1)));else{0==this.M?bt(8):1==this.M&&bt(9);var e=this.a;e.m=this.c,yr(e,2)}},T.Y=function(){return this.a.Y()},T.ma=function(){return this.a.ma()},An.prototype.add=function(e){this.a.set(Nn(e),e)},An.prototype.C=function(){return this.a.C()};var On=10;function xn(e,t){!e.a&&($(t,"spdy")||$(t,"quic")||$(t,"h2"))&&(e.f=e.g,e.a=new An,e.b&&(Mn(e,e.b),e.b=null))}function Pn(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function Rn(e){return e.b?1:e.a?e.a.a.c:0}function Ln(e,t){return e.b?e.b==t:!!e.a&&(t=Nn(t),$t(e.a.a.b,t))}function Mn(e,t){e.a?e.a.add(t):e.b=t}function Vn(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=Nn(t),n=$t(e.a.a.b,n)),n&&Yt(e.a.a,Nn(t)))}function Un(e){if(null!=e.b)return e.c.concat(e.b.j);if(null==e.a||0==e.a.a.c)return G(e.c);var t=e.c;return W(e.a.C(),(function(e){t=t.concat(e.j)})),t}function Fn(){}function jn(){this.a=new Fn}function qn(e,t,n){var r=n||"";try{Gt(e,(function(e,n){var i=e;R(e)&&(i=He(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Bn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}Dn.prototype.cancel=function(){this.c=Un(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(W(this.a.C(),(function(e){e.cancel()})),function(e){e.b={},e.a.length=0,e.c=0}(this.a.a))},Fn.prototype.stringify=function(e){return C.JSON.stringify(e,void 0)},Fn.prototype.parse=function(e){return C.JSON.parse(e,void 0)};var zn=C.JSON.parse;function Kn(e){Qe.call(this),this.headers=new Ht,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Wn,this.D=this.F=!1}B(Kn,Qe);var Wn="",Qn=/^https?$/i,Gn=["POST","PUT"];function Hn(e){return"content-type"==e.toLowerCase()}function Yn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Xn(e),Jn(e)}function Xn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function $n(e){if(e.b&&void 0!==k&&(!e.s[1]||4!=er(e)||2!=e.T()))if(e.l&&4==er(e))st(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==er(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.A).match(Jt)[1]||null;if(!o&&C.self&&C.self.location){var a=C.self.location.protocol;o=a.substr(0,a.length-1)}i=!Qn.test(o?o.toLowerCase():"")}t=i}t?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",Xn(e))}finally{Jn(e)}}}function Jn(e,t){if(e.a){Zn(e);var n=e.a,r=e.s[0]?D:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){}}}function Zn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(C.clearTimeout(e.m),e.m=null)}function er(e){return e.a?e.a.readyState:0}function tr(e,t){return e.a?e.a.getResponseHeader(t):null}function nr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return te(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),A(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if((n=e.indexOf("#"))<0&&(n=e.length),(r=e.indexOf("?"))<0||n<r){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return an(e,t,n),e}function rr(e){this.f=[],this.F=new Cn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!_("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=_("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=_("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=_("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=_("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new Dn(e&&e.concurrentRequestLimit),this.ja=new jn,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function ir(e){if(or(e),3==e.u){var t=e.P++,n=en(e.B);an(n,"SID",e.H),an(n,"RID",t),an(n,"TYPE","terminate"),cr(e,n),(t=new xt(e,t,void 0)).F=2,t.f=un(en(n)),n=!1,C.navigator&&C.navigator.sendBeacon&&(n=C.navigator.sendBeacon(t.f.toString(),"")),!n&&C.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=q(),qt(t)}vr(e)}function or(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(C.clearTimeout(e.l),e.l=null),dr(e),e.b.cancel(),e.h&&(N(e.h)&&C.clearTimeout(e.h),e.h=null)}function ar(e,t){e.f.push(new _n(e.Ra++,t)),3==e.u&&sr(e)}function sr(e){Pn(e.b)||e.h||(e.h=!0,tt(e.Ia,e),e.A=0)}function ur(e,t){var n;n=t?t.W:e.P++;var r=en(e.B);an(r,"SID",e.H),an(r,"RID",n),an(r,"AID",e.O),cr(e,r),e.g&&e.i&&nr(r,e.g,e.i),n=new xt(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=lr(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),Mn(e.b,n),Mt(n,r,t)}function cr(e,t){e.c&&Gt({},(function(e,n){an(t,n,e)}))}function lr(e,t,n){n=Math.min(e.f.length,n);var r=e.c?F(e.c.Ta,e.c,e):null;e:for(var i=e.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{qn(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function hr(e){e.a||e.l||(e.S=1,tt(e.Ha,e),e.v=0)}function fr(e){return!(e.a||e.l||3<=e.v||(e.S++,e.l=Et(F(e.Ha,e),mr(e,e.v)),e.v++,0))}function pr(e,t,n){var r=t.l;r&&xn(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=gr(e,null,e.ha),sr(e)}function dr(e){null!=e.s&&(C.clearTimeout(e.s),e.s=null)}function mr(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function yr(e,t){if(2==t){var n=null;e.c&&(n=null);var r=F(e.fb,e);n||(n=new Zt("//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||tn(n,"https"),un(n)),function(e,t){var n=new dt;if(C.Image){var r=new Image;r.onload=j(Bn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=j(Bn,n,r,"TestLoadImage: error",!1,t),r.onabort=j(Bn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=j(Bn,n,r,"TestLoadImage: timeout",!1,t),C.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else bt(2);e.u=0,e.c&&e.c.ta(t),vr(e),or(e)}function vr(e){e.u=0,e.m=-1,e.c&&(0==Un(e.b).length&&0==e.f.length||(e.b.c.length=0,G(e.f),e.f.length=0),e.c.sa())}function gr(e,t,n){var r=function(e){return e instanceof Zt?en(e):new Zt(e,void 0)}(n);if(""!=r.b)t&&nn(r,t+"."+r.b),rn(r,r.i);else{var i,o=C.location;i=t?t+"."+o.hostname:o.hostname,r=function(e,t,n,r){var i=new Zt(null,void 0);return e&&tn(i,e),t&&nn(i,t),n&&rn(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return e.V&&te(e.V,(function(e,t){an(r,t,e)})),t=e.j,n=e.I,t&&n&&an(r,t,n),an(r,"VER",e.wa),cr(e,r),r}function br(){}function wr(){if(ce&&!(10<=Number(ge)))throw Error("Environmental error: no available transport.")}function Er(e,t){Qe.call(this),this.a=new rr(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=e,n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?t=i:((r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?i:"/"+i)}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!H(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!H(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new Ir(this)}function Tr(e){_t.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Sr(){Dt.call(this),this.status=1}function Ir(e){this.a=e}(T=Kn.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?kt(this.H):kt(At),this.a.onreadystatechange=F(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(e){return void Yn(this,e)}e=n||"";var i=new Ht(this.headers);r&&Gt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Hn,n=e.length,r=A(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:A(e)?e.charAt(t):e[t]}(i.K()),n=C.FormData&&e instanceof C.FormData,0<=K(Gn,t)&&!r&&!n&&i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Zn(this),0<this.o&&((this.D=function(e){return ce&&we(9)&&N(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=F(this.Ca,this)):this.m=st(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Yn(this,e)}},T.Ca=function(){void 0!==k&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},T.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Jn(this))},T.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Jn(this,!0)),Kn.N.G.call(this)},T.Fa=function(){this.j||(this.w||this.l||this.g?$n(this):this.$a())},T.$a=function(){$n(this)},T.T=function(){try{return 2<er(this)?this.a.status:-1}catch(e){return-1}},T.za=function(){try{return 2<er(this)?this.a.statusText:""}catch(e){return""}},T.aa=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},T.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),zn(t)}},T.ya=function(){return this.h},T.Ya=function(){return A(this.f)?this.f:String(this.f)},(T=rr.prototype).wa=8,T.u=1,T.Da=function(){return 0==this.u},T.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new xt(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?ie(r=ne(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var i=t=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&A(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=lr(this,n,t),an(i=en(this.B),"RID",e),an(i,"CVER",22),this.o&&this.j&&an(i,"X-HTTP-Session-Id",this.j),cr(this,i),this.g&&r&&nr(i,this.g,r),Mn(this.b,n),this.W?(an(i,"$req",t),an(i,"SID","null"),n.S=!0,Mt(n,i,null)):Mt(n,i,t),this.u=2}}else 3==this.u&&(e?ur(this,e):0==this.f.length||Pn(this.b)||ur(this))},T.Ha=function(){this.l=null,this.a=new xt(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=en(this.pa);an(e,"RID","rpc"),an(e,"SID",this.H),an(e,"CI",this.ia?"0":"1"),an(e,"AID",this.O),cr(this,e),an(e,"TYPE","xmlhttp"),this.g&&this.i&&nr(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),Vt(this.a,e,!0,this.ga)},T.Ga=function(e,t){if(0!=this.u&&(this.a==e||Ln(this.b,e)))if(this.m=e.o,!e.s&&Ln(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(e){n=null}if(x(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;dr(this),this.a.cancel(),this.a=null}fr(this),bt(18)}}else this.ra=t[1],0<this.ra-this.O&&t[2]<37500&&this.ia&&0==this.v&&!this.s&&(this.s=Et(F(this.Za,this),6e3));if(Rn(this.b)<=1&&this.fa){try{this.fa()}catch(e){}this.fa=void 0}}else yr(this,11)}else if(!e.s&&this.a!=e||dr(this),!H(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&N(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((i=tr(r,"X-Client-Wire-Protocol"))&&xn(this.b,i),this.j&&(r=tr(r,"X-HTTP-Session-Id")))&&(this.I=r,an(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=gr(this,this.Y()?this.ga:null,this.ha),r.s?(Vn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(zt(r),qt(r)),this.a=r):hr(this),0<this.f.length&&sr(this)}else"stop"!=r[0]&&"close"!=r[0]||yr(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?yr(this,7):ir(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},T.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,fr(this),bt(19))},T.na=function(e){var t=null;if(this.a==e){dr(this),this.a=null;var n=2}else{if(!Ln(this.b,e))return;t=e.j,Vn(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=q()-e.v,mt.dispatchEvent(new wt(mt,e.l?e.l.length:0,t,this.A)),sr(this)):hr(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&function(e,t){return!(Rn(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.f=t.j.concat(e.f),0):1==e.u||2==e.u||e.A>=(e.Pa?0:e.Qa)||(e.h=Et(F(e.Ia,e,t),mr(e,e.A)),e.A++,0)))}(this,e)||2==n&&fr(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:yr(this,5);break;case 4:yr(this,10);break;case 3:yr(this,6);break;default:yr(this,2)}}},T.fb=function(e){bt(e?2:1)},T.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kn(this.La)).F=this.R,e},T.ma=function(){return!!this.c&&!0},T.Y=function(){return this.R},(T=br.prototype).va=function(){},T.ua=function(){},T.ta=function(){},T.sa=function(){},T.Ta=function(){},wr.prototype.a=function(e,t){return new Er(e,t)},B(Er,Qe),(T=Er.prototype).addEventListener=function(e,t,n,r){Er.N.addEventListener.call(this,e,t,n,r)},T.removeEventListener=function(e,t,n,r){Er.N.removeEventListener.call(this,e,t,n,r)},T.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;bt(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new In(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=nr(t,e.g,e.i)),(e=e.w).i=n,t=gr(e.a,null,e.i),bt(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,kn(e)):(sn(t,"MODE","init"),!e.a.o&&e.a.j&&sn(t,"X-HTTP-Session-Id",e.a.j),e.b=new xt(e,void 0,void 0),e.b.h=e.h,Vt(e.b,t,!1,null),e.M=0)},T.close=function(){ir(this.a)},T.Xa=function(e){if(A(e)){var t={};t.__data__=e,ar(this.a,t)}else this.h?((t={}).__data__=He(e),ar(this.a,t)):ar(this.a,e)},T.G=function(){this.a.c=null,delete this.f,ir(this.a),delete this.a,Er.N.G.call(this)},B(Tr,_t),B(Sr,Dt),B(Ir,br),Ir.prototype.va=function(){this.a.dispatchEvent("a")},Ir.prototype.ua=function(e){this.a.dispatchEvent(new Tr(e))},Ir.prototype.ta=function(e){this.a.dispatchEvent(new Sr(e))},Ir.prototype.sa=function(){this.a.dispatchEvent("b")};var kr=j((function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r}),wr);wr.prototype.createWebChannel=wr.prototype.a,Er.prototype.send=Er.prototype.Xa,Er.prototype.open=Er.prototype.Wa,Er.prototype.close=Er.prototype.close,Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,St.COMPLETE="complete",(Ct.EventType=Nt).OPEN="a",Nt.CLOSE="b",Nt.ERROR="c",Nt.MESSAGE="d",Qe.prototype.listen=Qe.prototype.Aa,Kn.prototype.listenOnce=Kn.prototype.Ba,Kn.prototype.getLastError=Kn.prototype.Ya,Kn.prototype.getLastErrorCode=Kn.prototype.ya,Kn.prototype.getStatus=Kn.prototype.T,Kn.prototype.getStatusText=Kn.prototype.za,Kn.prototype.getResponseJson=Kn.prototype.Va,Kn.prototype.getResponseText=Kn.prototype.aa,Kn.prototype.send=Kn.prototype.ca;var Cr,Ar,Nr={createWebChannelTransport:kr,ErrorCode:Tt,EventType:St,WebChannel:Ct,XhrIo:Kn},_r=Nr.createWebChannelTransport,Dr=Nr.ErrorCode,Or=Nr.EventType,xr=Nr.WebChannel,Pr=Nr.XhrIo,Rr=n.SDK_VERSION,Lr=new d("@firebase/firestore");function Mr(){return Lr.logLevel===o.DEBUG?Cr.DEBUG:Lr.logLevel===o.SILENT?Cr.SILENT:Cr.ERROR}function Vr(e){switch(e){case Cr.DEBUG:Lr.logLevel=o.DEBUG;break;case Cr.ERROR:Lr.logLevel=o.ERROR;break;case Cr.SILENT:Lr.logLevel=o.SILENT;break;default:Lr.error("Firestore ("+Rr+"): Invalid value passed to `setLogLevel`")}}function Ur(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Lr.logLevel<=o.DEBUG){var i=n.map(jr);Lr.debug.apply(Lr,l(["Firestore ("+Rr+") ["+e+"]: "+t],i))}}function Fr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Lr.logLevel<=o.ERROR){var r=t.map(jr);Lr.error.apply(Lr,l(["Firestore ("+Rr+"): "+e],r))}}function jr(e){if("string"==typeof e)return e;var t=zr.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}function qr(e){var t="FIRESTORE ("+Rr+") INTERNAL ASSERTION FAILED: "+e;throw Fr(t),new Error(t)}function Br(e,t){e||qr(t)}(Ar=Cr=Cr||{})[Ar.DEBUG=0]="DEBUG",Ar[Ar.ERROR=1]="ERROR",Ar[Ar.SILENT=2]="SILENT";var zr=(Kr.setPlatform=function(e){Kr.platform&&qr("Platform already defined"),Kr.platform=e},Kr.getPlatform=function(){return Kr.platform||qr("Platform not set"),Kr.platform},Kr);function Kr(){}function Wr(){return zr.getPlatform().emptyByteString}var Qr,Gr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hr=(i(Yr,Qr=Error),Yr);function Yr(e,t){var n=Qr.call(this,t)||this;return n.code=e,n.message=t,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Xr(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new Hr(Gr.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function $r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Jr(e,t){return void 0!==e?e:t}function Zr(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function ei(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ti(e){for(var t in Br(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ni(e,t){if(0!==t.length)throw new Hr(Gr.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+gi(t.length,"argument")+".")}function ri(e,t,n){if(t.length!==n)throw new Hr(Gr.INVALID_ARGUMENT,"Function "+e+"() requires "+gi(n,"argument")+", but was called with "+gi(t.length,"argument")+".")}function ii(e,t,n){if(t.length<n)throw new Hr(Gr.INVALID_ARGUMENT,"Function "+e+"() requires at least "+gi(n,"argument")+", but was called with "+gi(t.length,"argument")+".")}function oi(e,t,n,r){if(t.length<n||t.length>r)throw new Hr(Gr.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+gi(t.length,"argument")+".")}function ai(e,t,n,r){hi(e,t,vi(n)+" argument",r)}function si(e,t,n,r){void 0!==r&&ai(e,t,n,r)}function ui(e,t,n,r){hi(e,t,n+" option",r)}function ci(e,t,n,r){void 0!==r&&ui(e,t,n,r)}function li(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(pi(u))}var c=pi(r);throw new Hr(Gr.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function hi(e,t,n,r){if(!("object"===t?fi(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=pi(r);throw new Hr(Gr.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function fi(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function pi(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":qr("Unknown wrong type: "+typeof e);if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}function di(e,t,n){if(void 0===n)throw new Hr(Gr.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+vi(t)+" argument, but it was undefined.")}function mi(e,t,n){ei(t,(function(t,r){if(n.indexOf(t)<0)throw new Hr(Gr.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function yi(e,t,n,r){var i=pi(r);return new Hr(Gr.INVALID_ARGUMENT,"Function "+e+"() requires its "+vi(n)+" argument to be a "+t+", but it was: "+i)}function vi(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function gi(e,t){return e+" "+t+(1===e?"":"s")}var bi=(wi.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return Br(20===t.length,"Invalid auto ID: "+t),t},wi);function wi(){}function Ei(e,t){return e<t?-1:t<e?1:0}function Ti(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function Si(e){return e+"\0"}function Ii(){if("undefined"==typeof Uint8Array)throw new Hr(Gr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ki(){if(!zr.getPlatform().base64Available)throw new Hr(Gr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ci=(Ai.fromBase64String=function(e){ri("Blob.fromBase64String",arguments,1),ai("Blob.fromBase64String","string",1,e),ki();try{return new Ai(zr.getPlatform().atob(e))}catch(e){throw new Hr(Gr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},Ai.fromUint8Array=function(e){if(ri("Blob.fromUint8Array",arguments,1),Ii(),!(e instanceof Uint8Array))throw yi("Blob.fromUint8Array","Uint8Array",1,e);return new Ai(Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join(""))},Ai.prototype.toBase64=function(){return ri("Blob.toBase64",arguments,0),ki(),zr.getPlatform().btoa(this._binaryString)},Ai.prototype.toUint8Array=function(){ri("Blob.toUint8Array",arguments,0),Ii();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},Ai.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Ai.prototype.isEqual=function(e){return this._binaryString===e._binaryString},Ai.prototype._compareTo=function(e){return Ei(this._binaryString,e._binaryString)},Ai);function Ai(e){ki(),this._binaryString=e}var Ni=Xr(Ci,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),_i=function(e,t,n,r,i){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i},Di="(default)",Oi=(Object.defineProperty(xi.prototype,"isDefaultDatabase",{get:function(){return this.database===Di},enumerable:!0,configurable:!0}),xi.prototype.isEqual=function(e){return e instanceof xi&&e.projectId===this.projectId&&e.database===this.database},xi.prototype.compareTo=function(e){return Ei(this.projectId,e.projectId)||Ei(this.database,e.database)},xi);function xi(e,t){this.projectId=e,this.database=t||Di}var Pi=(Ri.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},Ri.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},Ri.INVALID=-1,Ri);function Ri(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}var Li="__name__",Mi=(Object.defineProperty(Vi.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),Vi.prototype.isEqual=function(e){return 0===Vi.comparator(this,e)},Vi.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((function(e){t.push(e)})):t.push(e),this.construct(t)},Vi.prototype.limit=function(){return this.offset+this.length},Vi.prototype.popFirst=function(e){return e=void 0===e?1:e,Br(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},Vi.prototype.popLast=function(){return Br(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},Vi.prototype.firstSegment=function(){return Br(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},Vi.prototype.lastSegment=function(){return this.get(this.length-1)},Vi.prototype.get=function(e){return Br(e<this.length,"Index out of range"),this.segments[this.offset+e]},Vi.prototype.isEmpty=function(){return 0===this.length},Vi.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Vi.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Vi.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},Vi.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},Vi.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(o<i)return 1}return e.length<t.length?-1:e.length>t.length?1:0},Vi);function Vi(e,t,n){void 0===t?t=0:t>e.length&&qr("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&qr("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}var Ui,Fi=(i(ji,Ui=Mi),ji.prototype.construct=function(e,t,n){return new ji(e,t,n)},ji.prototype.canonicalString=function(){return this.toArray().join("/")},ji.prototype.toString=function(){return this.canonicalString()},ji.fromString=function(e){if(0<=e.indexOf("//"))throw new Hr(Gr.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new ji(e.split("/").filter((function(e){return 0<e.length})))},ji.EMPTY_PATH=new ji([]),ji);function ji(){return null!==Ui&&Ui.apply(this,arguments)||this}var qi,Bi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zi=(i(Ki,qi=Mi),Ki.prototype.construct=function(e,t,n){return new Ki(e,t,n)},Ki.isValidIdentifier=function(e){return Bi.test(e)},Ki.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),Ki.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},Ki.prototype.toString=function(){return this.canonicalString()},Ki.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===Li},Ki.keyField=function(){return new Ki([Li])},Ki.fromServerFormat=function(e){for(var t=[],n="",r=0,i=function(){if(0===n.length)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(n),n=""},o=!1;r<e.length;){var a=e[r];if("\\"===a){if(r+1===e.length)throw new Hr(Gr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Hr(Gr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new Hr(Gr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ki(t)},Ki.EMPTY_PATH=new Ki([]),Ki);function Ki(){return null!==qi&&qi.apply(this,arguments)||this}var Wi=(Qi.prototype.hasCollectionId=function(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e},Qi.prototype.isEqual=function(e){return null!==e&&0===Fi.comparator(this.path,e.path)},Qi.prototype.toString=function(){return this.path.toString()},Qi.comparator=function(e,t){return Fi.comparator(e.path,t.path)},Qi.isDocumentKey=function(e){return e.length%2==0},Qi.fromSegments=function(e){return new Qi(new Fi(e.slice()))},Qi.fromPathString=function(e){return new Qi(Fi.fromString(e))},Qi.EMPTY=new Qi(new Fi([])),Qi);function Qi(e){this.path=e,Br(Qi.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}var Gi,Hi,Yi=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};(Hi=Gi=Gi||{}).All="all",Hi.ListenStreamIdle="listen_stream_idle",Hi.ListenStreamConnectionBackoff="listen_stream_connection_backoff",Hi.WriteStreamIdle="write_stream_idle",Hi.WriteStreamConnectionBackoff="write_stream_connection_backoff",Hi.OnlineStateTimeout="online_state_timeout",Hi.ClientMetadataRefresh="client_metadata_refresh",Hi.LruGarbageCollection="lru_garbage_collection",Hi.RetryTransaction="retry_transaction";var Xi=($i.createAndSchedule=function(e,t,n,r,i){var o=new $i(e,t,Date.now()+n,r,i);return o.start(n),o},$i.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},$i.prototype.skipDelay=function(){return this.handleDelayElapsed()},$i.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hr(Gr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},$i.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},$i.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},$i);function $i(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}var Ji=(Object.defineProperty(Zi.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),Zi.prototype.enqueueAndForget=function(e){this.enqueue(e)},Zi.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},Zi.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},Zi.prototype.enqueueAndInitiateShutdown=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},Zi.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(e){})):this.enqueueInternal(e)},Zi.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw Fr("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(e){return t.operationInProgress=!1,e}))}));return this.tail=n},Zi.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),Br(0<=t,"Attempted to schedule an operation with a negative delay of "+t),-1<this.timerIdsToSkip.indexOf(e)&&(t=0);var i=Xi.createAndSchedule(this,e,t,n,(function(e){return r.removeDelayedOperation(e)}));return this.delayedOperations.push(i),i},Zi.prototype.verifyNotFailed=function(){this.failure&&qr("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},Zi.prototype.verifyOperationInProgress=function(){Br(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},Zi.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},Zi.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},Zi.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then((function(){Br(e===Gi.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==Gi.All&&i.timerId===e)break}return t.drain()}))},Zi.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},Zi.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);Br(0<=t,"Delayed operation not found."),this.delayedOperations.splice(t,1)},Zi);function Zi(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}var eo="",to="",no="",ro="";function io(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=ao(t)),t=oo(e.get(n),t);return ao(t)}function oo(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+=eo+no;break;case eo:n+=eo+ro;break;default:n+=o}}return n}function ao(e){return e+eo+to}function so(e){var t=e.length;if(Br(2<=t,"Invalid path "+e),2===t)return Br(e.charAt(0)===eo&&e.charAt(1)===to,"Non-empty path "+e+" had length 2"),Fi.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf(eo,o);switch((a<0||n<a)&&qr('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case to:var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case no:i+=e.substring(o,a),i+="\0";break;case ro:i+=e.substring(o,a+1);break;default:qr('Invalid encoded resource path: "'+e+'"')}o=a+2}return new Fi(r)}var uo=(co.now=function(){return co.fromMillis(Date.now())},co.fromDate=function(e){return co.fromMillis(e.getTime())},co.fromMillis=function(e){var t=Math.floor(e/1e3);return new co(t,1e6*(e-1e3*t))},co.prototype.toDate=function(){return new Date(this.toMillis())},co.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},co.prototype._compareTo=function(e){return this.seconds===e.seconds?Ei(this.nanoseconds,e.nanoseconds):Ei(this.seconds,e.seconds)},co.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},co.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},co);function co(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new Hr(Gr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new Hr(Gr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Hr(Gr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new Hr(Gr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}var lo=(ho.fromMicroseconds=function(e){var t=Math.floor(e/1e6);return new ho(new uo(t,e%1e6*1e3))},ho.fromTimestamp=function(e){return new ho(e)},ho.forDeletedDoc=function(){return ho.MIN},ho.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},ho.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},ho.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},ho.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},ho.prototype.toTimestamp=function(){return this.timestamp},ho.MIN=new ho(new uo(0,0)),ho);function ho(e){this.timestamp=e}var fo=(po.prototype.insert=function(e,t){return new po(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vo.BLACK,null,null))},po.prototype.remove=function(e){return new po(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vo.BLACK,null,null))},po.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null},po.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1},po.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(po.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),po.prototype.minKey=function(){return this.root.minKey()},po.prototype.maxKey=function(){return this.root.maxKey()},po.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},po.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},po.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},po.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},po.prototype.getIterator=function(){return new mo(this.root,null,this.comparator,!1)},po.prototype.getIteratorFrom=function(e){return new mo(this.root,e,this.comparator,!1)},po.prototype.getReverseIterator=function(){return new mo(this.root,null,this.comparator,!0)},po.prototype.getReverseIteratorFrom=function(e){return new mo(this.root,e,this.comparator,!0)},po);function po(e,t){this.comparator=e,this.root=t||vo.EMPTY}var mo=(yo.prototype.getNext=function(){Br(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},yo.prototype.hasNext=function(){return 0<this.nodeStack.length},yo.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},yo);function yo(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}var vo=(go.prototype.copy=function(e,t,n,r,i){return new go(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},go.prototype.isEmpty=function(){return!1},go.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},go.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},go.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},go.prototype.minKey=function(){return this.min().key},go.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},go.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},go.prototype.removeMin=function(){if(this.left.isEmpty())return go.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},go.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return go.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()},go.prototype.isRed=function(){return this.color},go.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},go.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},go.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},go.prototype.rotateLeft=function(){var e=this.copy(null,null,go.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},go.prototype.rotateRight=function(){var e=this.copy(null,null,go.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},go.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},go.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},go.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw qr("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw qr("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw qr("Black depths differ");return e+(this.isRed()?0:1)},go.EMPTY=null,go.RED=!0,go.BLACK=!1,go);function go(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:go.RED,this.left=null!=r?r:go.EMPTY,this.right=null!=i?i:go.EMPTY,this.size=this.left.size+1+this.right.size}var bo=(Object.defineProperty(wo.prototype,"key",{get:function(){throw qr("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(wo.prototype,"value",{get:function(){throw qr("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(wo.prototype,"color",{get:function(){throw qr("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(wo.prototype,"left",{get:function(){throw qr("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(wo.prototype,"right",{get:function(){throw qr("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),wo.prototype.copy=function(e,t,n,r,i){return this},wo.prototype.insert=function(e,t,n){return new vo(e,t)},wo.prototype.remove=function(e,t){return this},wo.prototype.isEmpty=function(){return!0},wo.prototype.inorderTraversal=function(e){return!1},wo.prototype.reverseTraversal=function(e){return!1},wo.prototype.minKey=function(){return null},wo.prototype.maxKey=function(){return null},wo.prototype.isRed=function(){return!1},wo.prototype.checkMaxDepth=function(){return!0},wo.prototype.check=function(){return 0},wo);function wo(){this.size=0}vo.EMPTY=new bo;var Eo=(To.fromMapKeys=function(e){var t=new To(e.comparator);return e.forEach((function(e){t=t.add(e)})),t},To.prototype.has=function(e){return null!==this.data.get(e)},To.prototype.first=function(){return this.data.minKey()},To.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(To.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),To.prototype.indexOf=function(e){return this.data.indexOf(e)},To.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},To.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}},To.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},To.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},To.prototype.getIterator=function(){return new So(this.data.getIterator())},To.prototype.getIteratorFrom=function(e){return new So(this.data.getIteratorFrom(e))},To.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},To.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},To.prototype.isEmpty=function(){return this.data.isEmpty()},To.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},To.prototype.isEqual=function(e){if(!(e instanceof To))return!1;if(this.size!==e.size)return!1;for(var t=this.data.getIterator(),n=e.data.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},To.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},To.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},To.prototype.copy=function(e){var t=new To(this.comparator);return t.data=e,t},To);function To(e){this.comparator=e,this.data=new fo(this.comparator)}var So=(Io.prototype.getNext=function(){return this.iter.getNext().key},Io.prototype.hasNext=function(){return this.iter.hasNext()},Io);function Io(e){this.iter=e}var ko=new fo(Wi.comparator);function Co(){return ko}function Ao(){return Co()}var No=new fo(Wi.comparator);function _o(){return No}var Do=new fo(Wi.comparator);function Oo(){return Do}var xo=new Eo(Wi.comparator);function Po(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=xo,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ro=new Eo(Ei);function Lo(){return Ro}var Mo=(Vo.prototype.applyToRemoteDocument=function(e,t,n){t&&Br(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;Br(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(e)){var a=r[i];t=o.applyToRemoteDocument(t,a)}}return t},Vo.prototype.applyToLocalView=function(e,t){t&&Br(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(e)&&(t=s.applyToLocalView(t,t,this.localWriteTime));for(var i=t,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(e)&&(t=s.applyToLocalView(t,i,this.localWriteTime))}return t},Vo.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},Vo.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Po())},Vo.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ti(this.mutations,e.mutations)&&Ti(this.baseMutations,e.baseMutations)},Vo);function Vo(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,Br(0<(this.mutations=r).length,"Cannot create an empty mutation batch")}var Uo=(Fo.from=function(e,t,n,r){Br(e.mutations.length===n.length,"Mutations sent "+e.mutations.length+" must equal results received "+n.length);for(var i=Oo(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,n[a].version);return new Fo(e,t,n,r,i)},Fo);function Fo(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}var jo=(qo.prototype.catch=function(e){return this.next(void 0,e)},qo.prototype.next=function(e,t){var n=this;return this.callbackAttached&&qr("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qo((function(r,i){n.nextCallback=function(t){n.wrapSuccess(e,t).next(r,i)},n.catchCallback=function(e){n.wrapFailure(t,e).next(r,i)}}))},qo.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},qo.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof qo?t:qo.resolve(t)}catch(e){return qo.reject(e)}},qo.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):qo.resolve(t)},qo.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):qo.reject(t)},qo.resolve=function(e){return new qo((function(t,n){t(e)}))},qo.reject=function(e){return new qo((function(t,n){n(e)}))},qo.waitFor=function(e){return new qo((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(e){return n(e)}))})),o=!0,i===r&&t()}))},qo.or=function(e){for(var t=qo.resolve(!1),n=function(e){t=t.next((function(t){return t?qo.resolve(t):e()}))},r=0,i=e;r<i.length;r++)n(i[r]);return t},qo.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},qo);function qo(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}var Bo="SimpleDb",zo=(Ko.openOrCreate=function(e,t,n){return Br(Ko.isAvailable(),"IndexedDB not supported in current environment."),Ur(Bo,"Opening database:",e),new jo((function(r,i){var o=window.indexedDB.open(e,t);o.onsuccess=function(e){var t=e.target.result;r(new Ko(t))},o.onblocked=function(){i(new Hr(Gr.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(e){var t=e.target.error;"VersionError"===t.name?i(new Hr(Gr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i(t)},o.onupgradeneeded=function(t){Ur(Bo,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var r=t.target.result;n.createOrUpgrade(r,o.transaction,t.oldVersion,uu).next((function(){Ur(Bo,"Database upgrade to version "+uu+" complete")}))}})).toPromise()},Ko.delete=function(e){return Ur(Bo,"Removing database:",e),$o(window.indexedDB.deleteDatabase(e)).toPromise()},Ko.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(Ko.isMockPersistence())return!0;if(void 0===window.navigator)return!1;var e=y(),t=Ko.getIOSVersion(e),n=0<t&&t<10,r=Ko.getAndroidVersion(e),i=0<r&&r<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||n||i)},Ko.isMockPersistence=function(){return void 0!==t&&"YES"===t.env.USE_MOCK_PERSISTENCE},Ko.getStore=function(e,t){return e.store(t)},Ko.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},Ko.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},Ko.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},Ko.prototype.runTransaction=function(e,t,n){return u(this,void 0,void 0,(function(){var r,i,o,a,s,u;return c(this,(function(l){switch(l.label){case 0:r=e.startsWith("readonly"),i=e.endsWith("idempotent"),o=0,a=function(){var e,a,u,l;return c(this,(function(c){switch(c.label){case 0:++o,e=Go.open(s.db,r?"readonly":"readwrite",t),c.label=1;case 1:return c.trys.push([1,3,,4]),(a=n(e).catch((function(t){return e.abort(t),jo.reject(t)})).toPromise()).catch((function(){})),[4,e.completionPromise];case 2:return c.sent(),[2,{value:a}];case 3:return u=c.sent(),l=i&&"FirebaseError"!==u.name&&o<3,Ur(Bo,"Transaction failed with error: %s. Retrying: %s.",u.message,l),l?[3,4]:[2,{value:Promise.reject(u)}];case 4:return[2]}}))},s=this,l.label=1;case 1:return[5,a()];case 2:return"object"==typeof(u=l.sent())?[2,u.value]:[3,1];case 3:return[2]}}))}))},Ko.prototype.close=function(){this.db.close()},Ko);function Ko(e){this.db=e,12.2===Ko.getIOSVersion(y())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}var Wo=(Object.defineProperty(Qo.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(Qo.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(Qo.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),Qo.prototype.done=function(){this.shouldStop=!0},Qo.prototype.skip=function(e){this.nextKey=e},Qo.prototype.delete=function(){return $o(this.dbCursor.delete())},Qo);function Qo(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}var Go=(Ho.open=function(e,t,n){return new Ho(e.transaction(n,t))},Object.defineProperty(Ho.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),Ho.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(Ur(Bo,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},Ho.prototype.store=function(e){var t=this.transaction.objectStore(e);return Br(!!t,"Object store not part of transaction: "+e),new Yo(t)},Ho);function Ho(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new Yi,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=Zo(e.target.error);t.completionDeferred.reject(n)}}var Yo=(Xo.prototype.put=function(e,t){return $o(void 0!==t?(Ur(Bo,"PUT",this.store.name,e,t),this.store.put(t,e)):(Ur(Bo,"PUT",this.store.name,"<auto-key>",e),this.store.put(e)))},Xo.prototype.add=function(e){return Ur(Bo,"ADD",this.store.name,e,e),$o(this.store.add(e))},Xo.prototype.get=function(e){var t=this;return $o(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ur(Bo,"GET",t.store.name,e,n),n}))},Xo.prototype.delete=function(e){return Ur(Bo,"DELETE",this.store.name,e),$o(this.store.delete(e))},Xo.prototype.count=function(){return Ur(Bo,"COUNT",this.store.name),$o(this.store.count())},Xo.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,(function(e,t){r.push(t)})).next((function(){return r}))},Xo.prototype.deleteAll=function(e,t){Ur(Bo,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(e,t,n){return n.delete()}))},Xo.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},Xo.prototype.iterateSerial=function(e){var t=this.cursor({});return new jo((function(n,r){t.onerror=function(e){var t=Zo(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},Xo.prototype.iterateCursor=function(e,t){var n=[];return new jo((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Wo(i),a=t(i.primaryKey,i.value,o);if(a instanceof jo){var s=a.catch((function(e){return o.done(),jo.reject(e)}));n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}})).next((function(){return jo.waitFor(n)}))},Xo.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(Br(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},Xo.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},Xo);function Xo(e){this.store=e}function $o(e){return new jo((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Zo(e.target.error);n(t)}}))}var Jo=!1;function Zo(e){var t=zo.getIOSVersion(y());if(12.2<=t&&t<13){var n="An internal error was encountered in the Indexed Database server";if(0<=e.message.indexOf(n)){var r=new Hr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Jo||(Jo=!0,setTimeout((function(){throw r}),0)),r}}return e}var ea,ta,na=(ra.forUser=function(e,t,n,r){return Br(""!==e.uid,"UserID must not be an empty string."),new ra(e.isAuthenticated()?e.uid:"",t,n,r)},ra.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sa(e).iterate({index:yu.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},ra.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next((function(t){return t.lastStreamToken=aa(n),ca(e).put(t)}))},ra.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next((function(e){return e.lastStreamToken}))},ra.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next((function(n){return n.lastStreamToken=aa(t),ca(e).put(n)}))},ra.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=ua(e),a=sa(e);return a.add({}).next((function(s){Br("number"==typeof s,"Auto-generated key is not a number");for(var u=new Mo(s,t,n,r),c=i.serializer.toDbMutationBatch(i.userId,u),l=[],h=new Eo((function(e,t){return Ei(e.canonicalString(),t.canonicalString())})),f=0,p=r;f<p.length;f++){var d=p[f],m=gu.key(i.userId,d.key.path,s);h=h.add(d.key.path.popLast()),l.push(a.put(c)),l.push(o.put(m,gu.PLACEHOLDER))}return h.forEach((function(t){l.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.documentKeysByBatchId[s]=u.keys()})),jo.waitFor(l).next((function(){return u}))}))},ra.prototype.lookupMutationBatch=function(e,t){var n=this;return sa(e).get(t).next((function(e){return e?(Br(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null}))},ra.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?jo.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r}return null}))},ra.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return sa(e).iterate({index:yu.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Br(t.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(t)),i.done()})).next((function(){return o}))},ra.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sa(e).iterate({index:yu.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},ra.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sa(e).loadAll(yu.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},ra.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=gu.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ua(e).iterate({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=so(u);if(s===n.userId&&t.path.isEqual(l))return sa(e).get(c).next((function(e){if(!e)throw qr("Dangling document-mutation reference found: "+r+" which points to "+c);Br(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(e))}));a.done()})).next((function(){return o}))},ra.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Eo(Ei),i=[];return t.forEach((function(t){var o=gu.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=ua(e).iterate({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=so(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),jo.waitFor(i).next((function(){return n.lookupMutationBatches(e,r)}))},ra.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;Br(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),Br(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,i=r.length+1,o=gu.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Eo(Ei);return ua(e).iterate({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=so(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.lookupMutationBatches(e,s)}))},ra.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(sa(e).get(t).next((function(e){if(null===e)throw qr("Dangling document-mutation reference found, which points to "+t);Br(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))})))})),jo.waitFor(i).next((function(){return r}))},ra.prototype.removeMutationBatch=function(e,t){var n=this;return oa(e.simpleDbTransaction,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.removeCachedMutationKeys(t.batchId)})),jo.forEach(r,(function(t){return n.referenceDelegate.removeMutationReference(e,t)}))}))},ra.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},ra.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return jo.resolve();var r=IDBKeyRange.lowerBound(gu.prefixForUser(t.userId)),i=[];return ua(e).iterate({range:r},(function(e,n,r){if(e[0]===t.userId){var o=so(e[1]);i.push(o)}else r.done()})).next((function(){Br(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(e){return e.canonicalString()})))}))}))},ra.prototype.containsKey=function(e,t){return ia(e,this.userId,t)},ra.prototype.getMutationQueueMetadata=function(e){var t=this;return ca(e).get(this.userId).next((function(e){return e||new du(t.userId,-1,"")}))},ra);function ra(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}function ia(e,t,n){var r=gu.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ua(e).iterate({range:o,keysOnly:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function oa(e,t,n){var r=e.store(yu.store),i=e.store(gu.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Br(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=gu.key(t,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return jo.waitFor(o).next((function(){return c}))}function aa(e){return e instanceof Uint8Array?(Br(zo.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function sa(e){return hc.getStore(e,yu.store)}function ua(e){return hc.getStore(e,gu.store)}function ca(e){return hc.getStore(e,du.store)}(ta=ea=ea||{})[ta.QueryCache=0]="QueryCache",ta[ta.SyncEngine=1]="SyncEngine";var la=(ha.prototype.next=function(){var e=this.nextId;return this.nextId+=2,e},ha.prototype.after=function(e){return this.seek(e+2),this.next()},ha.prototype.seek=function(e){Br((1&e)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},ha.forQueryCache=function(){return new ha(ea.QueryCache,2)},ha.forSyncEngine=function(){return new ha(ea.SyncEngine)},ha);function ha(e,t){Br((1&(this.generatorId=e))===e,"Generator ID "+e+" contains more than 1 reserved bits"),this.seek(void 0!==t?t:this.generatorId)}var fa=(pa.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next((function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next((function(){return n.highestTargetId}))}))},pa.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next((function(e){return lo.fromTimestamp(new uo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},pa.prototype.getHighestSequenceNumber=function(e){return ya(e.simpleDbTransaction)},pa.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)}))},pa.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next((function(){return n.retrieveMetadata(e).next((function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)}))}))},pa.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},pa.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return da(e).delete(t.targetId)})).next((function(){return n.retrieveMetadata(e)})).next((function(t){return Br(0<t.targetCount,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)}))},pa.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return da(e).iterate((function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeQueryData(e,u)))})).next((function(){return jo.waitFor(o)})).next((function(){return i}))},pa.prototype.forEachTarget=function(e,t){var n=this;return da(e).iterate((function(e,r){var i=n.serializer.fromDbTarget(r);t(i)}))},pa.prototype.retrieveMetadata=function(e){return ma(e.simpleDbTransaction)},pa.prototype.saveMetadata=function(e,t){return function(e){return hc.getStore(e,Du.store)}(e).put(Du.key,t)},pa.prototype.saveQueryData=function(e,t){return da(e).put(this.serializer.toDbTarget(t))},pa.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},pa.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next((function(e){return e.targetCount}))},pa.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return da(e).iterate({range:i,index:Cu.queryTargetsIndexName},(function(e,r,i){var a=n.serializer.fromDbTarget(r);t.isEqual(a.query)&&(o=a,i.done())})).next((function(){return o}))},pa.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=va(e);return t.forEach((function(t){var a=io(t.path);i.push(o.put(new Nu(n,a))),i.push(r.referenceDelegate.addReference(e,t))})),jo.waitFor(i)},pa.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=va(e);return jo.forEach(t,(function(t){var o=io(t.path);return jo.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,t)])}))},pa.prototype.removeMatchingKeysForTargetId=function(e,t){var n=va(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},pa.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=va(e),i=Po();return r.iterate({range:n,keysOnly:!0},(function(e,t,n){var r=so(e[1]),o=new Wi(r);i=i.add(o)})).next((function(){return i}))},pa.prototype.containsKey=function(e,t){var n=io(t.path),r=IDBKeyRange.bound([n],[Si(n)],!1,!0),i=0;return va(e).iterate({index:Nu.documentTargetsIndex,keysOnly:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return 0<i}))},pa.prototype.getQueryDataForTarget=function(e,t){var n=this;return da(e).get(t).next((function(e){return e?n.serializer.fromDbTarget(e):null}))},pa);function pa(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=la.forQueryCache()}function da(e){return hc.getStore(e,Cu.store)}function ma(e){return zo.getStore(e,Du.store).get(Du.key).next((function(e){return Br(null!==e,"Missing metadata row."),e}))}function ya(e){return ma(e).next((function(e){return e.highestListenSequenceNumber}))}function va(e){return hc.getStore(e,Nu.store)}var ga=(ba.fromSet=function(e){return new ba(e)},ba.fromArray=function(e){var t=new Eo(zi.comparator);return e.forEach((function(e){return t=t.add(e)})),new ba(t)},ba.prototype.covers=function(e){var t=!1;return this.fields.forEach((function(n){n.isPrefixOf(e)&&(t=!0)})),t},ba.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},ba);function ba(e){this.fields=e}var wa=(Ea.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},Ea);function Ea(e,t){this.field=e,this.transform=t}var Ta,Sa,Ia=function(e,t){this.version=e,this.transformResults=t};(Sa=Ta=Ta||{})[Sa.Set=0]="Set",Sa[Sa.Patch=1]="Patch",Sa[Sa.Transform=2]="Transform",Sa[Sa.Delete=3]="Delete";var ka=(Ca.exists=function(e){return new Ca(void 0,e)},Ca.updateTime=function(e){return new Ca(e)},Object.defineProperty(Ca.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),Ca.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof Us&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof Us:(Br(this.isNone,"Precondition should be empty"),!0)},Ca.prototype.isEqual=function(e){return function(e,t){return null!=e?!(!t||!e.isEqual(t)):e===t}(this.updateTime,e.updateTime)&&this.exists===e.exists},Ca.NONE=new Ca,Ca);function Ca(e,t){this.updateTime=e,this.exists=t,Br(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}var Aa=(Na.prototype.verifyKeyMatches=function(e){null!=e&&Br(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},Na.getPostMutationVersion=function(e){return e instanceof Us?e.version:lo.MIN},Na);function Na(){}var _a,Da=(i(Oa,_a=Aa),Oa.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),Br(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new Us(this.key,n,{hasCommittedMutations:!0},this.value)},Oa.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Aa.getPostMutationVersion(e);return new Us(this.key,r,{hasLocalMutations:!0},this.value)},Oa.prototype.extractBaseValue=function(e){return null},Oa.prototype.isEqual=function(e){return e instanceof Oa&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},Oa);function Oa(e,t,n){var r=_a.call(this)||this;return r.key=e,r.value=t,r.precondition=n,r.type=Ta.Set,r}var xa,Pa=(i(Ra,xa=Aa),Ra.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),Br(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new Ks(this.key,t.version);var n=this.patchDocument(e);return new Us(this.key,t.version,{hasCommittedMutations:!0},n)},Ra.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Aa.getPostMutationVersion(e),i=this.patchDocument(e);return new Us(this.key,r,{hasLocalMutations:!0},i)},Ra.prototype.extractBaseValue=function(e){return null},Ra.prototype.isEqual=function(e){return e instanceof Ra&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},Ra.prototype.patchDocument=function(e){var t;return t=e instanceof Us?e.data():Ds.EMPTY,this.patchObject(t)},Ra.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}})),e},Ra);function Ra(e,t,n,r){var i=xa.call(this)||this;return i.key=e,i.data=t,i.fieldMask=n,i.precondition=r,i.type=Ta.Patch,i}var La,Ma=(i(Va,La=Aa),Va.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),Br(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new Ks(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,o=this.transformObject(n.data(),r);return new Us(this.key,i,{hasCommittedMutations:!0},o)},Va.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,e,t),o=this.transformObject(r.data(),i);return new Us(this.key,r.version,{hasLocalMutations:!0},o)},Va.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=e instanceof Us?e.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(t=null==t?Ds.EMPTY.set(i.field,a):t.set(i.field,a))}return t},Va.prototype.isEqual=function(e){return e instanceof Va&&this.key.isEqual(e.key)&&Ti(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},Va.prototype.requireDocument=function(e){Br(e instanceof Us,"Unknown MaybeDocument type "+e);var t=e;return Br(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},Va.prototype.serverTransformResults=function(e,t){var n=[];Br(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;e instanceof Us&&(a=e.field(i.field)),n.push(o.applyToRemoteDocument(a,t[r]))}return n},Va.prototype.localTransformResults=function(e,t,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;t instanceof Us&&(u=t.field(a.field)),null===u&&n instanceof Us&&(u=n.field(a.field)),r.push(s.applyToLocalView(u,e))}return r},Va.prototype.transformObject=function(e,t){Br(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;e=e.set(r,t[n])}return e},Va);function Va(e,t){var n=La.call(this)||this;return n.key=e,n.fieldTransforms=t,n.type=Ta.Transform,n.precondition=ka.exists(!0),n}var Ua,Fa,ja,qa,Ba,za=(i(Ka,Ua=Aa),Ka.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),Br(null==t.transformResults,"Transform results received by DeleteMutation."),new qs(this.key,t.version,{hasCommittedMutations:!0})},Ka.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&Br(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new qs(this.key,lo.forDeletedDoc())):e},Ka.prototype.extractBaseValue=function(e){return null},Ka.prototype.isEqual=function(e){return e instanceof Ka&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},Ka);function Ka(e,t){var n=Ua.call(this)||this;return n.key=e,n.precondition=t,n.type=Ta.Delete,n}(ja=Fa=Fa||{})[ja.NullValue=0]="NullValue",ja[ja.BooleanValue=1]="BooleanValue",ja[ja.NumberValue=2]="NumberValue",ja[ja.TimestampValue=3]="TimestampValue",ja[ja.StringValue=4]="StringValue",ja[ja.BlobValue=5]="BlobValue",ja[ja.RefValue=6]="RefValue",ja[ja.GeoPointValue=7]="GeoPointValue",ja[ja.ArrayValue=8]="ArrayValue",ja[ja.ObjectValue=9]="ObjectValue",(Ba=qa=qa||{})[Ba.Default=0]="Default",Ba[Ba.Estimate=1]="Estimate",Ba[Ba.Previous=2]="Previous";var Wa=(Qa.fromSnapshotOptions=function(e,t){switch(e.serverTimestamps){case"estimate":return new Qa(qa.Estimate,t);case"previous":return new Qa(qa.Previous,t);case"none":case void 0:return new Qa(qa.Default,t);default:return qr("fromSnapshotOptions() called with invalid options.")}},Qa);function Qa(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}var Ga=(Ha.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},Ha.prototype.defaultCompareTo=function(e){return Br(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),Ei(this.typeOrder,e.typeOrder)},Ha);function Ha(){}var Ya,Xa=(i($a,Ya=Ga),$a.prototype.value=function(e){return null},$a.prototype.isEqual=function(e){return e instanceof $a},$a.prototype.compareTo=function(e){return e instanceof $a?0:this.defaultCompareTo(e)},$a.INSTANCE=new $a,$a);function $a(){var e=Ya.call(this)||this;return e.typeOrder=Fa.NullValue,e.internalValue=null,e}var Ja,Za=(i(es,Ja=Ga),es.prototype.value=function(e){return this.internalValue},es.prototype.isEqual=function(e){return e instanceof es&&this.internalValue===e.internalValue},es.prototype.compareTo=function(e){return e instanceof es?Ei(this,e):this.defaultCompareTo(e)},es.of=function(e){return e?es.TRUE:es.FALSE},es.TRUE=new es(!0),es.FALSE=new es(!1),es);function es(e){var t=Ja.call(this)||this;return t.internalValue=e,t.typeOrder=Fa.BooleanValue,t}var ts,ns=(i(rs,ts=Ga),rs.prototype.value=function(e){return this.internalValue},rs.prototype.compareTo=function(e){return e instanceof rs?function(e,t){return e<t?-1:t<e?1:e===t?0:isNaN(e)?isNaN(t)?0:-1:1}(this.internalValue,e.internalValue):this.defaultCompareTo(e)},rs);function rs(e){var t=ts.call(this)||this;return t.internalValue=e,t.typeOrder=Fa.NumberValue,t}function is(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var os,as=(i(ss,os=ns),ss.prototype.isEqual=function(e){return e instanceof ss&&is(this.internalValue,e.internalValue)},ss);function ss(){return null!==os&&os.apply(this,arguments)||this}var us,cs=(i(ls,us=ns),ls.prototype.isEqual=function(e){return e instanceof ls&&is(this.internalValue,e.internalValue)},ls.NAN=new ls(NaN),ls.POSITIVE_INFINITY=new ls(1/0),ls.NEGATIVE_INFINITY=new ls(-1/0),ls);function ls(){return null!==us&&us.apply(this,arguments)||this}var hs,fs=(i(ps,hs=Ga),ps.prototype.value=function(e){return this.internalValue},ps.prototype.isEqual=function(e){return e instanceof ps&&this.internalValue===e.internalValue},ps.prototype.compareTo=function(e){return e instanceof ps?Ei(this.internalValue,e.internalValue):this.defaultCompareTo(e)},ps);function ps(e){var t=hs.call(this)||this;return t.internalValue=e,t.typeOrder=Fa.StringValue,t}var ds,ms=(i(ys,ds=Ga),ys.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},ys.prototype.isEqual=function(e){return e instanceof ys&&this.internalValue.isEqual(e.internalValue)},ys.prototype.compareTo=function(e){return e instanceof ys?this.internalValue._compareTo(e.internalValue):e instanceof gs?-1:this.defaultCompareTo(e)},ys);function ys(e){var t=ds.call(this)||this;return t.internalValue=e,t.typeOrder=Fa.TimestampValue,t}var vs,gs=(i(bs,vs=Ga),bs.prototype.value=function(e){return e&&e.serverTimestampBehavior===qa.Estimate?new ms(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===qa.Previous&&this.previousValue?this.previousValue.value(e):null},bs.prototype.isEqual=function(e){return e instanceof bs&&this.localWriteTime.isEqual(e.localWriteTime)},bs.prototype.compareTo=function(e){return e instanceof bs?this.localWriteTime._compareTo(e.localWriteTime):e instanceof ms?1:this.defaultCompareTo(e)},bs.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},bs);function bs(e,t){var n=vs.call(this)||this;return n.localWriteTime=e,n.previousValue=t,n.typeOrder=Fa.TimestampValue,n}var ws,Es=(i(Ts,ws=Ga),Ts.prototype.value=function(e){return this.internalValue},Ts.prototype.isEqual=function(e){return e instanceof Ts&&this.internalValue.isEqual(e.internalValue)},Ts.prototype.compareTo=function(e){return e instanceof Ts?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},Ts);function Ts(e){var t=ws.call(this)||this;return t.internalValue=e,t.typeOrder=Fa.BlobValue,t}var Ss,Is=(i(ks,Ss=Ga),ks.prototype.value=function(e){return this.key},ks.prototype.isEqual=function(e){return e instanceof ks&&this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId)},ks.prototype.compareTo=function(e){if(e instanceof ks){var t=this.databaseId.compareTo(e.databaseId);return 0!==t?t:Wi.comparator(this.key,e.key)}return this.defaultCompareTo(e)},ks);function ks(e,t){var n=Ss.call(this)||this;return n.databaseId=e,n.key=t,n.typeOrder=Fa.RefValue,n}var Cs,As=(i(Ns,Cs=Ga),Ns.prototype.value=function(e){return this.internalValue},Ns.prototype.isEqual=function(e){return e instanceof Ns&&this.internalValue.isEqual(e.internalValue)},Ns.prototype.compareTo=function(e){return e instanceof Ns?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},Ns);function Ns(e){var t=Cs.call(this)||this;return t.internalValue=e,t.typeOrder=Fa.GeoPointValue,t}var _s,Ds=(i(Os,_s=Ga),Os.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal((function(n,r){t[n]=r.value(e)})),t},Os.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},Os.prototype.isEqual=function(e){if(e instanceof Os){for(var t=this.internalValue.getIterator(),n=e.internalValue.getIterator();t.hasNext()&&n.hasNext();){var r=t.getNext(),i=n.getNext();if(r.key!==i.key||!r.value.isEqual(i.value))return!1}return!t.hasNext()&&!n.hasNext()}return!1},Os.prototype.compareTo=function(e){if(e instanceof Os){for(var t=this.internalValue.getIterator(),n=e.internalValue.getIterator();t.hasNext()&&n.hasNext();){var r=t.getNext(),i=n.getNext(),o=Ei(r.key,i.key)||r.value.compareTo(i.value);if(o)return o}return Ei(t.hasNext(),n.hasNext())}return this.defaultCompareTo(e)},Os.prototype.set=function(e,t){if(Br(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),t);var n=this.child(e.firstSegment());n instanceof Os||(n=Os.EMPTY);var r=n.set(e.popFirst(),t);return this.setChild(e.firstSegment(),r)},Os.prototype.delete=function(e){if(Br(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new Os(this.internalValue.remove(e.firstSegment()));var t=this.child(e.firstSegment());if(t instanceof Os){var n=t.delete(e.popFirst());return new Os(this.internalValue.insert(e.firstSegment(),n))}return this},Os.prototype.contains=function(e){return null!==this.field(e)},Os.prototype.field=function(e){Br(!e.isEmpty(),"Can't get field of empty path");var t=this;return e.forEach((function(e){t=t instanceof Os?t.internalValue.get(e):null})),t},Os.prototype.fieldMask=function(){var e=new Eo(zi.comparator);return this.internalValue.forEach((function(t,n){var r=new zi([t]);if(n instanceof Os){var i=n.fieldMask().fields;i.isEmpty()?e=e.add(r):i.forEach((function(t){e=e.add(r.child(t))}))}else e=e.add(r)})),ga.fromSet(e)},Os.prototype.toString=function(){return this.internalValue.toString()},Os.prototype.child=function(e){return this.internalValue.get(e)||void 0},Os.prototype.setChild=function(e,t){return new Os(this.internalValue.insert(e,t))},Os.EMPTY=new Os(new fo(Ei)),Os);function Os(e){var t=_s.call(this)||this;return t.internalValue=e,t.typeOrder=Fa.ObjectValue,t}var xs,Ps=(i(Rs,xs=Ga),Rs.prototype.value=function(e){return this.internalValue.map((function(t){return t.value(e)}))},Rs.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++)if(n[t].isEqual(e))return!0;return!1},Rs.prototype.forEach=function(e){this.internalValue.forEach(e)},Rs.prototype.isEqual=function(e){if(e instanceof Rs){if(this.internalValue.length!==e.internalValue.length)return!1;for(var t=0;t<this.internalValue.length;t++)if(!this.internalValue[t].isEqual(e.internalValue[t]))return!1;return!0}return!1},Rs.prototype.compareTo=function(e){if(e instanceof Rs){for(var t=Math.min(this.internalValue.length,e.internalValue.length),n=0;n<t;n++){var r=this.internalValue[n].compareTo(e.internalValue[n]);if(r)return r}return Ei(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},Rs.prototype.toString=function(){return"["+this.internalValue.map((function(e){return e.toString()})).join(",")+"]"},Rs);function Rs(e){var t=xs.call(this)||this;return t.internalValue=e,t.typeOrder=Fa.ArrayValue,t}var Ls=(Ms.compareByKey=function(e,t){return Wi.comparator(e.key,t.key)},Ms);function Ms(e,t){this.key=e,this.version=t}var Vs,Us=(i(Fs,Vs=Ls),Fs.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var r=this.getProtoField(e);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(t,n)}return n},Fs.prototype.data=function(){var e=this;if(!this.objectValue){var t=Ds.EMPTY;ei(this.proto.fields||{},(function(n,r){t=t.set(new zi([n]),e.converter(r))})),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},Fs.prototype.value=function(){return this.data().value()},Fs.prototype.isEqual=function(e){return e instanceof Fs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},Fs.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(Fs.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),Fs.prototype.getProtoField=function(e){Br(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields?this.proto.fields[e.firstSegment()]:void 0,n=1;n<e.length;++n){if(!t||!t.mapValue||!t.mapValue.fields)return;t=t.mapValue.fields[e.get(n)]}return t},Fs.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?r.compareTo(i):qr("Trying to compare documents on fields that don't exist")},Fs);function Fs(e,t,n,r,i,o){var a=Vs.call(this,e,t)||this;return a.objectValue=r,a.proto=i,a.converter=o,Br(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!n.hasLocalMutations,a.hasCommittedMutations=!!n.hasCommittedMutations,a}var js,qs=(i(Bs,js=Ls),Bs.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Bs.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),Bs.prototype.isEqual=function(e){return e instanceof Bs&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},Bs);function Bs(e,t,n){var r=js.call(this,e,t)||this;return r.hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}var zs,Ks=(i(Ws,zs=Ls),Ws.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(Ws.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),Ws.prototype.isEqual=function(e){return e instanceof Ws&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},Ws);function Ws(){return null!==zs&&zs.apply(this,arguments)||this}var Qs=(Gs.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(e))return s}},Gs.prototype.has=function(e){return void 0!==this.get(e)},Gs.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},Gs.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},Gs.prototype.forEach=function(e){ei(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},Gs.prototype.isEmpty=function(){return ti(this.inner)},Gs);function Gs(e){this.mapKeyFn=e,this.inner={}}var Hs=(Object.defineProperty(Ys.prototype,"readTime",{get:function(){return Br(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(e){Br(void 0===this._readTime||this._readTime.isEqual(e),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=e},enumerable:!0,configurable:!0}),Ys.prototype.addEntry=function(e,t){this.assertNotApplied(),this.readTime=t,this.changes.set(e.key,e)},Ys.prototype.removeEntry=function(e,t){this.assertNotApplied(),t&&(this.readTime=t),this.changes.set(e,null)},Ys.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?jo.resolve(n):this.getFromCache(e,t)},Ys.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},Ys.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},Ys.prototype.assertNotApplied=function(){Br(!this.changesApplied,"Changes have already been applied.")},Ys);function Ys(){this.changes=new Qs((function(e){return e.toString()})),this.changesApplied=!1}var Xs,$s=(Js.prototype.addEntry=function(e,t,n){return tu(e).put(nu(t),n)},Js.prototype.removeEntry=function(e,t){var n=tu(e),r=nu(t);return n.delete(r)},Js.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.setMetadata(e,r)}))},Js.prototype.getEntry=function(e,t){var n=this;return tu(e).get(nu(t)).next((function(e){return n.maybeDecodeDocument(e)}))},Js.prototype.getSizedEntry=function(e,t){var n=this;return tu(e).get(nu(t)).next((function(e){var t=n.maybeDecodeDocument(e);return t?{maybeDocument:t,size:ru(e)}:null}))},Js.prototype.getEntries=function(e,t){var n=this,r=Ao();return this.forEachDbEntry(e,t,(function(e,t){var i=n.maybeDecodeDocument(t);r=r.insert(e,i)})).next((function(){return r}))},Js.prototype.getSizedEntries=function(e,t){var n=this,r=Ao(),i=new fo(Wi.comparator);return this.forEachDbEntry(e,t,(function(e,t){var o=n.maybeDecodeDocument(t);i=o?(r=r.insert(e,o),i.insert(e,ru(t))):(r=r.insert(e,null),i.insert(e,0))})).next((function(){return{maybeDocuments:r,sizeMap:i}}))},Js.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return jo.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return tu(e).iterate({range:r},(function(e,t,r){for(var a=Wi.fromSegments(e);o&&Wi.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},Js.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this;Br(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=_o(),o=t.path.length+1,a={};if(n.isEqual(lo.MIN)){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=this.serializer.toDbTimestampKey(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Tu.collectionReadTimeIndex}return tu(e).iterate(a,(function(e,n,a){if(e.length===o){var s=r.serializer.fromDbRemoteDocument(n);t.path.isPrefixOf(s.key.path)?s instanceof Us&&t.matches(s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},Js.prototype.getNewDocumentChanges=function(e,t){var n=this,r=Co(),i=this.serializer.toDbTimestampKey(t),o=tu(e),a=IDBKeyRange.lowerBound(i,!0);return o.iterate({index:Tu.readTimeIndex,range:a},(function(e,t){var o=n.serializer.fromDbRemoteDocument(t);r=r.insert(o.key,o),i=t.readTime})).next((function(){return{changedDocs:r,readTime:n.serializer.fromDbTimestampKey(i)}}))},Js.prototype.getLastDocumentChange=function(e){var t,n=this,r=tu(e),i=lo.MIN;return r.iterate({index:Tu.readTimeIndex,reverse:!0},(function(e,r,o){t=n.serializer.fromDbRemoteDocument(r),r.readTime&&(i=n.serializer.fromDbTimestampKey(r.readTime)),o.done()})).next((function(){return{changedDoc:t,readTime:i}}))},Js.prototype.newChangeBuffer=function(e){return new Js.RemoteDocumentChangeBuffer(this,!!e&&e.trackRemovals)},Js.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},Js.prototype.getMetadata=function(e){return eu(e).get(Iu.key).next((function(e){return Br(!!e,"Missing document cache metadata"),e}))},Js.prototype.setMetadata=function(e,t){return eu(e).put(Iu.key,t)},Js.prototype.maybeDecodeDocument=function(e){if(e){var t=this.serializer.fromDbRemoteDocument(e);return t instanceof qs&&t.version.isEqual(lo.forDeletedDoc())?null:t}return null},Js.RemoteDocumentChangeBuffer=(i(Zs,Xs=Hs),Zs.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Eo((function(e,t){return Ei(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.documentSizes.get(o);if(Br(void 0!==s,"Cannot modify a document that wasn't read (for "+o+")"),a){Br(!t.readTime.isEqual(lo.MIN),"Cannot add a document with a read time of zero");var u=t.documentCache.serializer.toDbRemoteDocument(a,t.readTime);i=i.add(o.path.popLast());var c=ru(u);r+=c-s,n.push(t.documentCache.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=t.documentCache.serializer.toDbRemoteDocument(new qs(o,lo.forDeletedDoc()),t.readTime);n.push(t.documentCache.addEntry(e,o,l))}else n.push(t.documentCache.removeEntry(e,o))})),i.forEach((function(r){n.push(t.documentCache.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.documentCache.updateMetadata(e,r)),jo.waitFor(n)},Zs.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next((function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)}))},Zs.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next((function(e){var t=e.maybeDocuments;return e.sizeMap.forEach((function(e,t){n.documentSizes.set(e,t)})),t}))},Zs),Js);function Js(e,t){this.serializer=e,this.indexManager=t}function Zs(e,t){var n=Xs.call(this)||this;return n.documentCache=e,n.trackRemovals=t,n.documentSizes=new Qs((function(e){return e.toString()})),n}function eu(e){return hc.getStore(e,Iu.store)}function tu(e){return hc.getStore(e,Tu.store)}function nu(e){return e.path.toArray()}function ru(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qr("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var iu=(ou.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),jo.resolve()},ou.prototype.getCollectionParents=function(e,t){return jo.resolve(this.collectionParentIndex.getEntries(t))},ou);function ou(){this.collectionParentIndex=new au}var au=(su.prototype.add=function(e){Br(e.length%2==1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Eo(Fi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},su.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},su.prototype.getEntries=function(e){return(this.index[e]||new Eo(Fi.comparator)).toArray()},su);function su(){this.index={}}var uu=9,cu=(lu.prototype.createOrUpgrade=function(e,t,n,r){var i=this;Br(n<r&&0<=n&&r<=uu,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new Go(t);n<1&&1<=r&&(function(e){e.createObjectStore(fu.store)}(e),function(e){e.createObjectStore(du.store,{keyPath:du.keyPath}),e.createObjectStore(yu.store,{keyPath:yu.keyPath,autoIncrement:!0}).createIndex(yu.userMutationsIndex,yu.userMutationsKeyPath,{unique:!0}),e.createObjectStore(gu.store)}(e),Ru(e),function(e){e.createObjectStore(Tu.store)}(e));var a=jo.resolve();return n<3&&3<=r&&(0!==n&&(function(e){e.deleteObjectStore(Nu.store),e.deleteObjectStore(Cu.store),e.deleteObjectStore(Du.store)}(e),Ru(e)),a=a.next((function(){return function(e){var t=e.store(Du.store),n=new Du(0,0,lo.MIN.toTimestamp(),0);return t.put(Du.key,n)}(o)}))),n<4&&4<=r&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(yu.store).loadAll().next((function(n){e.deleteObjectStore(yu.store),e.createObjectStore(yu.store,{keyPath:yu.keyPath,autoIncrement:!0}).createIndex(yu.userMutationsIndex,yu.userMutationsKeyPath,{unique:!0});var r=t.store(yu.store),i=n.map((function(e){return r.put(e)}));return jo.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Lu.store,{keyPath:Lu.keyPath})}(e)}))),n<5&&5<=r&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&6<=r&&(a=a.next((function(){return function(e){e.createObjectStore(Iu.store)}(e),i.addDocumentGlobal(o)}))),n<7&&7<=r&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&8<=r&&(a=a.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&9<=r&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Tu.store);t.createIndex(Tu.readTimeIndex,Tu.readTimeIndexPath,{unique:!1}),t.createIndex(Tu.collectionReadTimeIndex,Tu.collectionReadTimeIndexPath,{unique:!1})}(t)}))),a},lu.prototype.addDocumentGlobal=function(e){var t=0;return e.store(Tu.store).iterate((function(e,n){t+=ru(n)})).next((function(){var n=new Iu(t);return e.store(Iu.store).put(Iu.key,n)}))},lu.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(du.store),r=e.store(yu.store);return n.loadAll().next((function(n){return jo.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(yu.userMutationsIndex,i).next((function(r){return jo.forEach(r,(function(r){Br(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return oa(e,n.userId,i).next((function(){}))}))}))}))}))},lu.prototype.ensureSequenceNumbers=function(e){var t=e.store(Nu.store),n=e.store(Tu.store);return ya(e).next((function(e){var r=[];return n.iterate((function(n,i){var o=new Fi(n),a=function(e){return[0,io(e)]}(o);r.push(t.get(a).next((function(n){return n?jo.resolve():function(n){return t.put(new Nu(0,io(n),e))}(o)})))})).next((function(){return jo.waitFor(r)}))}))},lu.prototype.createCollectionParentIndex=function(e,t){function n(e){if(i.add(e)){var t=e.lastSegment(),n=e.popLast();return r.put({collectionId:t,parent:io(n)})}}e.createObjectStore(xu.store,{keyPath:xu.keyPath});var r=t.store(xu.store),i=new au;return t.store(Tu.store).iterate({keysOnly:!0},(function(e,t){return n(new Fi(e).popLast())})).next((function(){return t.store(gu.store).iterate({keysOnly:!0},(function(e,t){e[0];var r=e[1];return n((e[2],so(r)).popLast())}))}))},lu);function lu(e){this.serializer=e}var hu=function(e,t){this.seconds=e,this.nanoseconds=t},fu=(pu.store="owner",pu.key="owner",pu);function pu(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}var du=(mu.store="mutationQueues",mu.keyPath="userId",mu);function mu(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}var yu=(vu.store="mutations",vu.keyPath="batchId",vu.userMutationsIndex="userMutationsIndex",vu.userMutationsKeyPath=["userId","batchId"],vu);function vu(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}var gu=(bu.prefixForUser=function(e){return[e]},bu.prefixForPath=function(e,t){return[e,io(t)]},bu.key=function(e,t,n){return[e,io(t),n]},bu.store="documentMutations",bu.PLACEHOLDER=new bu,bu);function bu(){}var wu=function(e,t){this.path=e,this.readTime=t},Eu=function(e,t){this.path=e,this.version=t},Tu=(Su.store="remoteDocuments",Su.readTimeIndex="readTimeIndex",Su.readTimeIndexPath="readTime",Su.collectionReadTimeIndex="collectionReadTimeIndex",Su.collectionReadTimeIndexPath=["parentPath","readTime"],Su);function Su(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}var Iu=(ku.store="remoteDocumentGlobal",ku.key="remoteDocumentGlobalKey",ku);function ku(e){this.byteSize=e}var Cu=(Au.store="targets",Au.keyPath="targetId",Au.queryTargetsIndexName="queryTargetsIndex",Au.queryTargetsKeyPath=["canonicalId","targetId"],Au);function Au(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}var Nu=(_u.store="targetDocuments",_u.keyPath=["targetId","path"],_u.documentTargetsIndex="documentTargetsIndex",_u.documentTargetsKeyPath=["path","targetId"],_u);function _u(e,t,n){this.targetId=e,this.path=t,Br(0===e==(void 0!==(this.sequenceNumber=n)),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}var Du=(Ou.key="targetGlobalKey",Ou.store="targetGlobal",Ou);function Ou(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}var xu=(Pu.store="collectionParents",Pu.keyPath=["collectionId","parent"],Pu);function Pu(e,t){this.collectionId=e,this.parent=t}function Ru(e){e.createObjectStore(Nu.store,{keyPath:Nu.keyPath}).createIndex(Nu.documentTargetsIndex,Nu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Cu.store,{keyPath:Cu.keyPath}).createIndex(Cu.queryTargetsIndexName,Cu.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Du.store)}var Lu=(Mu.store="clientMetadata",Mu.keyPath="clientId",Mu);function Mu(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}var Vu,Uu,Fu=l(l(l([du.store,yu.store,gu.store,Tu.store,Cu.store,fu.store,Du.store,Nu.store],[Lu.store]),[Iu.store]),[xu.store]),ju=(qu.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(Br(t.length%2==1,"Expected a collection path."),this.collectionParentsCache.has(t))return jo.resolve();var r=t.lastSegment(),i=t.popLast();return e.addOnCommittedListener((function(){n.collectionParentsCache.add(t)})),Bu(e).put({collectionId:r,parent:io(i)})},qu.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Si(t),""],!1,!0);return Bu(e).loadAll(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(so(o.parent))}return n}))},qu);function qu(){this.collectionParentsCache=new au}function Bu(e){return hc.getStore(e,xu.store)}(Uu=Vu=Vu||{})[Uu.Listen=0]="Listen",Uu[Uu.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",Uu[Uu.LimboResolution=2]="LimboResolution";var zu=(Ku.prototype.withSequenceNumber=function(e){return new Ku(this.query,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Ku.prototype.withResumeToken=function(e,t){return new Ku(this.query,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},Ku.prototype.withLastLimboFreeSnapshotVersion=function(e){return new Ku(this.query,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},Ku.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(e.lastLimboFreeSnapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},Ku);function Ku(e,t,n,r,i,o,a){void 0===i&&(i=lo.MIN),void 0===o&&(o=lo.MIN),void 0===a&&(a=Wr()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}var Wu=(Qu.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=Wi.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new qs(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(t=Wi.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version),new Ks(t,n)):qr("Unexpected DbRemoteDocument")},Qu.prototype.toDbRemoteDocument=function(e,t){var n=this.toDbTimestampKey(t),r=e.key.path.popLast().toArray();if(e instanceof Us){var i=e.proto?e.proto:this.remoteSerializer.toDocument(e),o=e.hasCommittedMutations;return new Tu(null,null,i,o,n,r)}if(e instanceof qs){var a=e.key.path.toArray(),s=this.toDbTimestamp(e.version);return o=e.hasCommittedMutations,new Tu(null,new wu(a,s),null,o,n,r)}if(e instanceof Ks){a=e.key.path.toArray();var u=this.toDbTimestamp(e.version);return new Tu(new Eu(a,u),null,null,!0,n,r)}return qr("Unexpected MaybeDocument")},Qu.prototype.toDbTimestampKey=function(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]},Qu.prototype.fromDbTimestampKey=function(e){var t=new uo(e[0],e[1]);return lo.fromTimestamp(t)},Qu.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new hu(t.seconds,t.nanoseconds)},Qu.prototype.fromDbTimestamp=function(e){var t=new uo(e.seconds,e.nanoseconds);return lo.fromTimestamp(t)},Qu.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map((function(e){return n.remoteSerializer.toMutation(e)})),i=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new yu(e,t.batchId,t.localWriteTime.toMillis(),r,i)},Qu.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.remoteSerializer.fromMutation(e)})),r=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),i=uo.fromMillis(e.localWriteTimeMs);return new Mo(e.batchId,i,n,r)},Qu.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach((function(e){t.push(io(e.path))})),t},Qu.prototype.fromDbResourcePaths=function(e){for(var t=Po(),n=0,r=e;n<r.length;n++){var i=r[n];t=t.add(new Wi(so(i)))}return t},Qu.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(e.lastLimboFreeSnapshotVersion):lo.MIN,i=e.resumeToken;return t=function(e){return void 0!==e.documents}(e.query)?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new zu(t,e.targetId,Vu.Listen,e.lastListenSequenceNumber,n,r,i)},Qu.prototype.toDbTarget=function(e){Br(Vu.Listen===e.purpose,"Only queries with purpose "+Vu.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion),i=this.toDbTimestamp(e.lastLimboFreeSnapshotVersion);return t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),n=e.resumeToken instanceof Uint8Array?(Br(zo.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence ."),e.resumeToken.toString()):e.resumeToken,new Cu(e.targetId,e.query.canonicalId(),r,n,e.sequenceNumber,i,t)},Qu);function Qu(e){this.remoteSerializer=e}function Gu(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Ei(n,i);return 0===a?Ei(r,o):a}var Hu=(Yu.prototype.nextIndex=function(){return++this.previousIndex},Yu.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Gu(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(Yu.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),Yu);function Yu(e){this.maxElements=e,this.buffer=new Eo(Gu),this.previousIndex=0}var Xu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$u=(Ju.withCacheSize=function(e){return new Ju(e,Ju.DEFAULT_COLLECTION_PERCENTILE,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},Ju.COLLECTION_DISABLED=-1,Ju.MINIMUM_CACHE_SIZE_BYTES=1048576,Ju.DEFAULT=new Ju(Ju.DEFAULT_CACHE_SIZE_BYTES=41943040,Ju.DEFAULT_COLLECTION_PERCENTILE=10,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),Ju.DISABLED=new Ju(Ju.COLLECTION_DISABLED,0,0),Ju);function Ju(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}var Zu=(ec.prototype.start=function(){Br(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==$u.COLLECTION_DISABLED&&this.scheduleGC()},ec.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(ec.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),ec.prototype.scheduleGC=function(){var e=this;Br(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;Ur("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(Gi.LruGarbageCollection,t,(function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then((function(){return e.scheduleGC()})).catch(pc)}))},ec);function ec(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}var tc=(nc.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next((function(e){return Math.floor(t/100*e)}))},nc.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return jo.resolve(Pi.INVALID);var r=new Hu(t);return this.delegate.forEachTarget(e,(function(e){return r.addElement(e.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,(function(e){return r.addElement(e)}))})).next((function(){return r.maxValue}))},nc.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},nc.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},nc.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===$u.COLLECTION_DISABLED?(Ur("LruGarbageCollector","Garbage collection skipped; disabled"),jo.resolve(Xu)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ur("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Xu):n.runGarbageCollection(e,t)}))},nc.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},nc.prototype.runGarbageCollection=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return r=t>c.params.maximumSequenceNumbersToCollect?(Ur("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),c.params.maximumSequenceNumbersToCollect):t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Mr()<=Cr.DEBUG&&Ur("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),jo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},nc);function nc(e,t){this.delegate=e,this.params=t}var rc=(ic.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},ic.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},ic);function ic(){this.onCommittedListeners=[]}var oc,ac="IndexedDbPersistence",sc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uc="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",cc=(i(lc,oc=rc),lc);function lc(e,t){var n=oc.call(this)||this;return n.simpleDbTransaction=e,n.currentSequenceNumber=t,n}var hc=(fc.getStore=function(e,t){if(e instanceof cc)return zo.getStore(e.simpleDbTransaction,t);throw qr("IndexedDbPersistence must use instances of IndexedDbTransaction")},fc.createIndexedDbPersistence=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:if(!fc.isAvailable())throw new Hr(Gr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(t=new fc(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return n.sent(),[2,t]}}))}))},fc.prototype.start=function(){var e=this;return Br(!this.started,"IndexedDbPersistence double-started!"),Br(null!==this.window,"Expected 'window' to be defined"),zo.openOrCreate(this.dbName,uu,new cu(this.serializer)).then((function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()})).then((function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.simpleDb.runTransaction("readonly-idempotent",[Du.store],(function(e){return ya(e)}))})).then((function(t){e.listenSequence=new Pi(t,e.sequenceNumberSyncer)})).then((function(){e._started=!0})).catch((function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)}))},fc.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return u(t,void 0,void 0,(function(){return c(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},fc.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener((function(n){return u(t,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},fc.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget((function(){return u(t,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},fc.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",Fu,(function(t){return mc(t).put(new Lu(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next((function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget((function(){return e.primaryStateListener(!1)})))}))})).next((function(){return e.canActAsPrimary(t)})).next((function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget((function(){return e.primaryStateListener(e.isPrimary)})),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0}))}))},fc.prototype.verifyPrimaryLease=function(e){var t=this;return dc(e).get(fu.key).next((function(e){return jo.resolve(t.isLocalClient(e))}))},fc.prototype.removeClientMetadata=function(e){return mc(e).delete(this.clientId)},fc.prototype.maybeGarbageCollectMultiClientState=function(){return u(this,void 0,void 0,(function(){var e=this;return c(this,(function(t){switch(t.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(t){var n=fc.getStore(t,Lu.store);return n.loadAll().next((function(t){var r=e.filterActiveClients(t,18e5),i=t.filter((function(e){return-1===r.indexOf(e)}));return jo.forEach(i,(function(e){return n.delete(e.clientId)})).next((function(){return i}))}))}))]);case 1:t.sent().forEach((function(t){e.window.localStorage.removeItem(e.zombiedClientLocalStorageKey(t.clientId))})),t.label=2;case 2:return[2]}}))}))},fc.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(Gi.ClientMetadataRefresh,4e3,(function(){return e.updateClientMetadataAndTryBecomePrimary().then((function(){return e.maybeGarbageCollectMultiClientState()})).then((function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},fc.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},fc.prototype.canActAsPrimary=function(e){var t=this;return dc(e).get(fu.key).next((function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new Hr(Gr.FAILED_PRECONDITION,uc);return!1}}return!(!t.networkEnabled||!t.inForeground)||mc(e).loadAll().next((function(e){return void 0===t.filterActiveClients(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ur(ac,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},fc.prototype.shutdown=function(){return u(this,void 0,void 0,(function(){var e=this;return c(this,(function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[fu.store,Lu.store],(function(t){return e.releasePrimaryLeaseIfHeld(t).next((function(){return e.removeClientMetadata(t)}))}))];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},fc.prototype.filterActiveClients=function(e,t){var n=this;return e.filter((function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)}))},fc.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly-idempotent",[Lu.store],(function(t){return mc(t).loadAll().next((function(t){return e.filterActiveClients(t,18e5).map((function(e){return e.clientId}))}))}))},fc.clearPersistence=function(e){return u(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return fc.isAvailable()?(t=e+fc.MAIN_DATABASE,[4,zo.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(fc.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),fc.prototype.getMutationQueue=function(e){return Br(this.started,"Cannot initialize MutationQueue before persistence is started."),na.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},fc.prototype.getQueryCache=function(){return Br(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},fc.prototype.getRemoteDocumentCache=function(){return Br(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},fc.prototype.getIndexManager=function(){return Br(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},fc.prototype.runTransaction=function(e,t,n){var r=this;Ur(ac,"Starting transaction:",e);var i,o=t.endsWith("idempotent"),a=t.startsWith("readonly")?o?"readonly-idempotent":"readonly":o?"readwrite-idempotent":"readwrite";return this.simpleDb.runTransaction(a,Fu,(function(o){return i=new cc(o,r.listenSequence.next()),"readwrite-primary"===t||"readwrite-primary-idempotent"===t?r.verifyPrimaryLease(o).next((function(t){if(!t)throw Fr("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new Hr(Gr.FAILED_PRECONDITION,sc);return n(i)})).next((function(e){return r.acquireOrExtendPrimaryLease(o).next((function(){return e}))})):r.verifyAllowTabSynchronization(o).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},fc.prototype.verifyAllowTabSynchronization=function(e){var t=this;return dc(e).get(fu.key).next((function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new Hr(Gr.FAILED_PRECONDITION,uc)}))},fc.prototype.acquireOrExtendPrimaryLease=function(e){var t=new fu(this.clientId,this.allowTabSynchronization,Date.now());return dc(e).put(fu.key,t)},fc.isAvailable=function(){return zo.isAvailable()},fc.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},fc.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=dc(e);return n.get(fu.key).next((function(e){return t.isLocalClient(e)?(Ur(ac,"Releasing primary lease."),n.delete(fu.key)):jo.resolve()}))},fc.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t||n<e&&(Fr("Detected an update time that is in the future: "+e+" > "+n),1))},fc.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},fc.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(Br(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},fc.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},fc.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(Br("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},fc.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return Ur(ac,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return Fr(ac,"Failed to get zombied client id.",e),!1}},fc.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){Fr("Failed to set zombie client id.",e)}},fc.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},fc.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},fc.MAIN_DATABASE="main",fc);function fc(e,t,n,r,i,o,a,s){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.queue=o,this.sequenceNumberSyncer=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new yc(this,i),this.dbName=t+fc.MAIN_DATABASE,this.serializer=new Wu(a),this.document=r.document,this.queryCache=new fa(this.referenceDelegate,this.serializer),this.indexManager=new ju,this.remoteDocumentCache=new $s(this.serializer,this.indexManager),!r.window||!r.window.localStorage)throw new Hr(Gr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}function pc(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){if(!function(e){return e.code===Gr.FAILED_PRECONDITION&&e.message===sc}(e))throw e;return Ur(ac,"Unexpectedly lost primary lease"),[2]}))}))}function dc(e){return e.store(fu.store)}function mc(e){return e.store(Lu.store)}var yc=(vc.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getQueryCache().getQueryCount(e).next((function(e){return t.next((function(t){return e+t}))}))},vc.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},vc.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},vc.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,(function(e,n){return t(n)}))},vc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},vc.prototype.addReference=function(e,t){return gc(e,t)},vc.prototype.removeReference=function(e,t){return gc(e,t)},vc.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},vc.prototype.removeMutationReference=function(e,t){return gc(e,t)},vc.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?jo.resolve(!0):function(e,t){var n=!1;return ca(e).iterateSerial((function(r){return ia(e,r,t).next((function(e){return e&&(n=!0),jo.resolve(!e)}))})).next((function(){return n}))}(e,t)},vc.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(e,(function(a,s){if(s<=t){var u=n.isPinned(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),va(e).delete(function(e){return[0,io(e.path)]}(a))}))}));i.push(u)}})).next((function(){return jo.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},vc.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(e,n)},vc.prototype.updateLimboDocument=function(e,t){return gc(e,t)},vc.prototype.forEachOrphanedDocument=function(e,t){var n,r=va(e),i=Pi.INVALID;return r.iterate({index:Nu.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==Pi.INVALID&&t(new Wi(so(n)),i),i=s,n=a):i=Pi.INVALID})).next((function(){i!==Pi.INVALID&&t(new Wi(so(n)),i)}))},vc.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},vc);function vc(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new tc(this,t)}function gc(e,t){return va(e).put(function(e,t){return new Nu(0,io(e.path),t)}(t,e.currentSequenceNumber))}var bc=(wc.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.getDocumentInternal(e,t,r)}))},wc.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].applyToLocalView(t,e);return e}))},wc.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=Ao();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].applyToLocalView(e,t);r=r.insert(e,t)})),r},wc.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t)}))},wc.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var i=n.applyLocalMutationsToDocuments(e,t,r),o=Co();return i.forEach((function(e,t){t=t||new qs(e,lo.forDeletedDoc()),o=o.insert(e,t)})),o}))},wc.prototype.getDocumentsMatchingQuery=function(e,t,n){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)},wc.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new Wi(t)).next((function(e){var t=_o();return e instanceof Us&&(t=t.insert(e.key,e)),t}))},wc.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t,n){var r=this;Br(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var i=t.collectionGroup,o=_o();return this.indexManager.getCollectionParents(e,i).next((function(a){return jo.forEach(a,(function(a){var s=t.asCollectionQueryAtPath(a.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},wc.prototype.getDocumentsMatchingCollectionQuery=function(e,t,n){var r,i,o=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.addMissingBaseDocuments(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=u.applyToLocalView(l,l,o.localWriteTime);r=h instanceof Us?r.insert(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){t.matches(n)||(r=r.remove(e))})),r}))},wc.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=Po(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Pa&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Us&&(c=c.insert(e,t))})),c}))},wc);function wc(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}var Ec=(Tc.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},Tc.prototype.addReference=function(e,t){var n=new Sc(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},Tc.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},Tc.prototype.removeReference=function(e,t){this.removeRef(new Sc(e,t))},Tc.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},Tc.prototype.removeReferencesForId=function(e){var t=this,n=Wi.EMPTY,r=new Sc(n,e),i=new Sc(n,e+1),o=[];return this.refsByTarget.forEachInRange([r,i],(function(e){t.removeRef(e),o.push(e.key)})),o},Tc.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},Tc.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},Tc.prototype.referencesForId=function(e){var t=Wi.EMPTY,n=new Sc(t,e),r=new Sc(t,e+1),i=Po();return this.refsByTarget.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},Tc.prototype.containsKey=function(e){var t=new Sc(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},Tc);function Tc(){this.refsByKey=new Eo(Sc.compareByKey),this.refsByTarget=new Eo(Sc.compareByTargetId)}var Sc=(Ic.compareByKey=function(e,t){return Wi.comparator(e.key,t.key)||Ei(e.targetOrBatchId,t.targetOrBatchId)},Ic.compareByTargetId=function(e,t){return Ei(e.targetOrBatchId,t.targetOrBatchId)||Wi.comparator(e.key,t.key)},Ic);function Ic(e,t){this.key=e,this.targetOrBatchId=t}var kc="LocalStore",Cc=(Ac.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},Ac.prototype.handleUserChange=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i=this;return c(this,(function(o){switch(o.label){case 0:return t=this.mutationQueue,n=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(r){var o;return i.mutationQueue.getAllMutationBatches(r).next((function(a){return o=a,t=i.persistence.getMutationQueue(e),n=new bc(i.remoteDocuments,t,i.persistence.getIndexManager()),t.getAllMutationBatches(r)})).next((function(e){for(var t=[],i=[],a=Po(),s=0,u=o;s<u.length;s++){var c=u[s];t.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){c=d[p],i.push(c.batchId);for(var m=0,y=c.mutations;m<y.length;m++)f=y[m],a=a.add(f.key)}return n.getDocuments(r,a).next((function(e){return{affectedDocuments:e,removedBatchIds:t,addedBatchIds:i}}))}))}))];case 1:return r=o.sent(),this.mutationQueue=t,this.localDocuments=n,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,r]}}))}))},Ac.prototype.localWrite=function(e){var t,n=this,r=uo.now(),i=e.reduce((function(e,t){return e.add(t.key)}),Po());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(o){return n.localDocuments.getDocuments(o,i).next((function(i){t=i;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=c.extractBaseValue(t.get(c.key));null!=l&&a.push(new Pa(c.key,l,l.fieldMask(),ka.exists(!0)))}return n.mutationQueue.addMutationBatch(o,r,a,e)}))})).then((function(e){var n=e.applyToLocalDocumentSet(t);return{batchId:e.batchId,changes:n}}))},Ac.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return t.mutationQueue.lookupMutationKeys(n,e).next((function(e){return e?t.localDocuments.getDocuments(n,e):jo.resolve(null)}))}))},Ac.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){return t.applyWriteToRemoteDocuments(n,e,i)})).next((function(){return i.apply(n)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},Ac.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next((function(e){return Br(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},Ac.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)}))},Ac.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},Ac.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},Ac.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)}))},Ac.prototype.applyRemoteEvent=function(e){var t=this,n=e.snapshotVersion,r=this.queryDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(i){var o=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});r=t.queryDataByTarget;var a=[];Zr(e.targetChanges,(function(e,o){var s=r.get(e);if(s){a.push(t.queryCache.removeMatchingKeys(i,o.removedDocuments,e).next((function(){return t.queryCache.addMatchingKeys(i,o.addedDocuments,e)})));var u=o.resumeToken;if(0<u.length){var c=s.withResumeToken(u,n).withSequenceNumber(i.currentSequenceNumber);r=r.insert(e,c),Ac.shouldPersistQueryData(s,c,o)&&a.push(t.queryCache.updateQueryData(i,c))}}}));var s=Co(),u=Po();if(e.documentUpdates.forEach((function(e,t){u=u.add(e)})),a.push(o.getEntries(i,u).next((function(r){e.documentUpdates.forEach((function(u,c){var l=r.get(u);c instanceof qs&&c.version.isEqual(lo.MIN)?(o.removeEntry(u,n),s=s.insert(u,c)):null==l||0<c.version.compareTo(l.version)||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(lo.MIN.isEqual(n)&&Fr(kc,"Cannot add a document when the remote version is zero"),o.addEntry(c,n),s=s.insert(u,c)):Ur(kc,"Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(i,u))}))}))),!n.isEqual(lo.MIN)){var c=t.queryCache.getLastRemoteSnapshotVersion(i).next((function(e){return Br(0<=n.compareTo(e),"Watch stream reverted to previous snapshot?? "+n+" < "+e),t.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,n)}));a.push(c)}return jo.waitFor(a).next((function(){return o.apply(i)})).next((function(){return t.localDocuments.getLocalViewOfDocuments(i,s)}))})).then((function(e){return t.queryDataByTarget=r,e}))},Ac.shouldPersistQueryData=function(e,t,n){return Br(0<t.resumeToken.length,"Attempted to persist query data with no resume token"),0===e.resumeToken.length||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||0<n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size},Ac.prototype.notifyLocalViewChanges=function(e){for(var t=this,n=0,r=e;n<r.length;n++){var i=r[n],o=i.targetId;if(this.localViewReferences.addReferences(i.addedKeys,o),this.localViewReferences.removeReferences(i.removedKeys,o),!i.fromCache){var a=this.queryDataByTarget.get(o);Br(null!==a,"Can't set limbo-free snapshot version for unknown target: "+o);var s=a.snapshotVersion,u=a.withLastLimboFreeSnapshotVersion(s);this.queryDataByTarget=this.queryDataByTarget.insert(o,u)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return jo.forEach(e,(function(e){return jo.forEach(e.removedKeys,(function(e){return t.persistence.referenceDelegate.removeReference(n,e)}))}))}))},Ac.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},Ac.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return t.localDocuments.getDocument(n,e)}))},Ac.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite-idempotent",(function(n){var r;return t.queryCache.getQueryData(n,e).next((function(i){return i?(r=i,jo.resolve(r)):t.queryCache.allocateTargetId(n).next((function(i){return r=new zu(e,i,Vu.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r).next((function(){return r}))}))}))})).then((function(n){return Br(null===t.queryDataByTarget.get(n.targetId),"Tried to allocate an already allocated query: "+e),t.queryDataByTarget=t.queryDataByTarget.insert(n.targetId,n),t.targetIdByQuery.set(e,n.targetId),n}))},Ac.prototype.getQueryData=function(e,t){var n=this.targetIdByQuery.get(t);return void 0!==n?jo.resolve(this.queryDataByTarget.get(n)):this.queryCache.getQueryData(e,t)},Ac.prototype.releaseQuery=function(e,t){var n,r=this,i=t?"readwrite-idempotent":"readwrite-primary-idempotent";return this.persistence.runTransaction("Release query",i,(function(i){var o=r.targetIdByQuery.get(e);Br(void 0!==o,"Tried to release nonexistent query: "+e),n=o;var a=r.queryDataByTarget.get(n),s=r.localViewReferences.removeReferencesForId(n);return t?jo.resolve():jo.forEach(s,(function(e){return r.persistence.referenceDelegate.removeReference(i,e)})).next((function(){r.persistence.referenceDelegate.removeTarget(i,a)}))})).then((function(){r.queryDataByTarget=r.queryDataByTarget.remove(n),r.targetIdByQuery.delete(e)}))},Ac.prototype.executeQuery=function(e,t){var n=this,r=lo.MIN,i=Po();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(o){return n.getQueryData(o,e).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,n.queryCache.getMatchingKeysForTargetId(o,e.targetId).next((function(e){i=e}))})).next((function(){return n.queryEngine.getDocumentsMatchingQuery(o,e,t?r:lo.MIN,t?i:Po())})).next((function(e){return{documents:e,remoteKeys:i}}))}))},Ac.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)}))},Ac.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},Ac.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},Ac.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},Ac.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,o=i.keys(),a=jo.resolve();return o.forEach((function(r){a=a.next((function(){return n.getEntry(e,r)})).next((function(e){var o=e,a=t.docVersions.get(r);Br(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,t))?n.addEntry(o,t.commitVersion):Br(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))}))})),a.next((function(){return r.mutationQueue.removeMutationBatch(e,i)}))},Ac.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return e.collect(n,t.queryDataByTarget)}))},Ac.prototype.getQueryForTarget=function(e){var t=this,n=this.queryDataByTarget.get(e);return n?Promise.resolve(n.query):this.persistence.runTransaction("Get query data","readonly-idempotent",(function(n){return t.queryCache.getQueryDataForTarget(n,e).next((function(e){return e?e.query:null}))}))},Ac.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(t){return e.remoteDocuments.getNewDocumentChanges(t,e.lastDocumentChangeReadTime)})).then((function(t){var n=t.changedDocs,r=t.readTime;return e.lastDocumentChangeReadTime=r,n}))},Ac.prototype.synchronizeLastDocumentChangeReadTime=function(){return u(this,void 0,void 0,(function(){var e,t=this;return c(this,(function(n){return this.remoteDocuments instanceof $s?(e=this.remoteDocuments,[2,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(t){return e.getLastDocumentChange(t)})).then((function(e){var n=e.readTime;t.lastDocumentChangeReadTime=n}))]):[2]}))}))},Ac.RESUME_TOKEN_MAX_AGE_MICROS=3e8,Ac);function Ac(e,t,n){this.persistence=e,this.queryEngine=t,this.localViewReferences=new Ec,this.queryDataByTarget=new fo(Ei),this.targetIdByQuery=new Qs((function(e){return e.canonicalId()})),this.lastDocumentChangeReadTime=lo.MIN,Br(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(n),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new bc(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}var Nc=(_c.prototype.checkEmpty=function(e){return jo.resolve(0===this.mutationQueue.length)},_c.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");Br(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return Br(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,jo.resolve()},_c.prototype.getLastStreamToken=function(e){return jo.resolve(this.lastStreamToken)},_c.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,jo.resolve()},_c.prototype.addMutationBatch=function(e,t,n,r){Br(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,0<this.mutationQueue.length&&Br(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Mo(i,t,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Sc(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return jo.resolve(o)},_c.prototype.lookupMutationBatch=function(e,t){return jo.resolve(this.findMutationBatch(t))},_c.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return Br(null!=n,"Failed to find local mutation batch."),jo.resolve(n.keys())},_c.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),i=r<0?0:r;return jo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},_c.prototype.getHighestUnacknowledgedBatchId=function(){return jo.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},_c.prototype.getAllMutationBatches=function(e){return jo.resolve(this.mutationQueue.slice())},_c.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Sc(t,0),i=new Sc(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],(function(e){Br(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);Br(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),jo.resolve(o)},_c.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Eo(Ei);return t.forEach((function(e){var t=new Sc(e,0),i=new Sc(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],(function(t){Br(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)}))})),jo.resolve(this.findMutationBatches(r))},_c.prototype.getAllMutationBatchesAffectingQuery=function(e,t){Br(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,i=n;Wi.isDocumentKey(i)||(i=i.child(""));var o=new Sc(new Wi(i),0),a=new Eo(Ei);return this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.targetOrBatchId)),!0)}),o),jo.resolve(this.findMutationBatches(a))},_c.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)})),n},_c.prototype.removeMutationBatch=function(e,t){var n=this;Br(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return jo.forEach(t.mutations,(function(i){var o=new Sc(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(e,i.key)})).next((function(){n.batchesByDocumentKey=r}))},_c.prototype.removeCachedMutationKeys=function(e){},_c.prototype.containsKey=function(e,t){var n=new Sc(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return jo.resolve(t.isEqual(r&&r.key))},_c.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&Br(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),jo.resolve()},_c.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return Br(0<=n&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},_c.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},_c.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return Br(n.batchId===e,"If found batch must match"),n},_c);function _c(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=Wr(),this.batchesByDocumentKey=new Eo(Sc.compareByKey)}var Dc=(Oc.prototype.getTargetCount=function(e){return jo.resolve(this.targetCount)},Oc.prototype.forEachTarget=function(e,t){return this.queries.forEach((function(e,n){return t(n)})),jo.resolve()},Oc.prototype.getLastRemoteSnapshotVersion=function(e){return jo.resolve(this.lastRemoteSnapshotVersion)},Oc.prototype.getHighestSequenceNumber=function(e){return jo.resolve(this.highestSequenceNumber)},Oc.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,jo.resolve(t)},Oc.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),jo.resolve()},Oc.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},Oc.prototype.addQueryData=function(e,t){return Br(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,jo.resolve()},Oc.prototype.updateQueryData=function(e,t){return Br(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),jo.resolve()},Oc.prototype.removeQueryData=function(e,t){return Br(0<this.targetCount,"Removing a target from an empty cache"),Br(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,jo.resolve()},Oc.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.queries.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),jo.waitFor(o).next((function(){return i}))},Oc.prototype.getQueryCount=function(e){return jo.resolve(this.targetCount)},Oc.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return jo.resolve(n)},Oc.prototype.getQueryDataForTarget=function(e,t){return qr("Not yet implemented.")},Oc.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.addReference(e,t))})),jo.waitFor(i)},Oc.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.removeReference(e,t))})),jo.waitFor(i)},Oc.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),jo.resolve()},Oc.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return jo.resolve(n)},Oc.prototype.containsKey=function(e,t){return jo.resolve(this.references.containsKey(t))},Oc);function Oc(e){this.persistence=e,this.queries=new Qs((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=lo.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Ec,this.targetCount=0,this.targetIdGenerator=la.forQueryCache()}var xc,Pc=(Rc.prototype.addEntry=function(e,t,n){Br(!n.isEqual(lo.MIN),"Cannot add a document with a read time of zero");var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.sizer(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:a,readTime:n}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())},Rc.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},Rc.prototype.getEntry=function(e,t){var n=this.docs.get(t);return jo.resolve(n?n.maybeDocument:null)},Rc.prototype.getEntries=function(e,t){var n=this,r=Ao();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),jo.resolve(r)},Rc.prototype.getDocumentsMatchingQuery=function(e,t,n){Br(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=_o(),i=new Wi(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.maybeDocument,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||c instanceof Us&&t.matches(c)&&(r=r.insert(c.key,c))}return jo.resolve(r)},Rc.prototype.forEachDocumentKey=function(e,t){return jo.forEach(this.docs,(function(e){return t(e)}))},Rc.prototype.getNewDocumentChanges=function(e,t){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},Rc.prototype.newChangeBuffer=function(e){return new Rc.RemoteDocumentChangeBuffer(this)},Rc.prototype.getSize=function(e){return jo.resolve(this.size)},Rc.RemoteDocumentChangeBuffer=(i(Lc,xc=Hs),Lc.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i?n.push(t.documentCache.addEntry(e,i,t.readTime)):t.documentCache.removeEntry(r)})),jo.waitFor(n)},Lc.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},Lc.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},Lc),Rc);function Rc(e,t){this.indexManager=e,this.sizer=t,this.docs=new fo(Wi.comparator),this.size=0}function Lc(e){var t=xc.call(this)||this;return t.documentCache=e,t}var Mc=(Vc.createLruPersistence=function(e,t,n){return new Vc(e,(function(e){return new zc(e,new Wu(t),n)}))},Vc.createEagerPersistence=function(e){return new Vc(e,(function(e){return new qc(e)}))},Vc.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(Vc.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),Vc.prototype.getActiveClients=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return[2,[this.clientId]]}))}))},Vc.prototype.setPrimaryStateListener=function(e){return e(!0)},Vc.prototype.setDatabaseDeletedListener=function(){},Vc.prototype.setNetworkEnabled=function(e){},Vc.prototype.getIndexManager=function(){return this.indexManager},Vc.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new Nc(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},Vc.prototype.getQueryCache=function(){return this.queryCache},Vc.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},Vc.prototype.runTransaction=function(e,t,n){var r=this;Ur("MemoryPersistence","Starting transaction:",e);var i=new Fc(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next((function(e){return r.referenceDelegate.onTransactionCommitted(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},Vc.prototype.mutationQueuesContainKey=function(e,t){return jo.or(function(e){var t=[];return ei(e,(function(e,n){return t.push(n)})),t}(this.mutationQueues).map((function(n){return function(){return n.containsKey(e,t)}})))},Vc);function Vc(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new Pi(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new Dc(this),this.indexManager=new iu,this.remoteDocumentCache=new Pc(this.indexManager,(function(e){return n.referenceDelegate.documentSize(e)}))}var Uc,Fc=(i(jc,Uc=rc),jc);function jc(e){var t=Uc.call(this)||this;return t.currentSequenceNumber=e,t}var qc=(Object.defineProperty(Bc.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw qr("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),Bc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},Bc.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),jo.resolve()},Bc.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),jo.resolve()},Bc.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),jo.resolve()},Bc.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.orphanedDocuments.add(e)}))})).next((function(){return r.removeQueryData(e,t)}))},Bc.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},Bc.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jo.forEach(this.orphanedDocuments,(function(r){return t.isReferenced(e,r).next((function(e){e||n.removeEntry(r)}))})).next((function(){return t._orphanedDocuments=null,n.apply(e)}))},Bc.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next((function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)}))},Bc.prototype.documentSize=function(e){return 0},Bc.prototype.isReferenced=function(e,t){var n=this;return jo.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return jo.resolve(n.inMemoryPins.containsKey(t))}])},Bc);function Bc(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}var zc=(Kc.prototype.onTransactionStarted=function(){},Kc.prototype.onTransactionCommitted=function(e){return jo.resolve()},Kc.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},Kc.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getQueryCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},Kc.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},Kc.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return jo.forEach(this.orphanedSequenceNumbers,(function(r,i){return n.isPinned(e,r,i).next((function(e){return e?jo.resolve():t(i)}))}))},Kc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},Kc.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},Kc.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(e,(function(i){return n.isPinned(e,i,t).next((function(e){e||(r++,o.removeEntry(i))}))})).next((function(){return o.apply(e)})).next((function(){return r}))},Kc.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),jo.resolve()},Kc.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(e,n)},Kc.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),jo.resolve()},Kc.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),jo.resolve()},Kc.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),jo.resolve()},Kc.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e,e.version);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw qr("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},Kc.prototype.isPinned=function(e,t,n){var r=this;return jo.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return jo.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return jo.resolve(void 0!==e&&n<e)}])},Kc.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},Kc);function Kc(e,t,n){this.persistence=e,this.serializer=t,this.inMemoryPins=null,this.orphanedSequenceNumbers=new Qs((function(e){return io(e.path)})),this.garbageCollector=new tc(this,n)}var Wc=(Qc.prototype.setLocalDocumentsView=function(e){this.localDocumentsView=e},Qc.prototype.getDocumentsMatchingQuery=function(e,t,n,r){return Br(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),this.localDocumentsView.getDocumentsMatchingQuery(e,t,lo.MIN)},Qc);function Qc(){}var Gc=Number,Hc=Gc.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Yc=Gc.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Xc=Gc.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function $c(e){return null==e}function Jc(e){return Xc(e)&&e<=Yc&&Hc<=e}var Zc=(el.prototype.reset=function(){this.currentBaseMs=0},el.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},el.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);0<this.currentBaseMs&&Ur("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,(function(){return t.lastAttemptTime=Date.now(),e()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},el.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},el.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},el);function el(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}var tl,nl,rl="PersistentStream";(nl=tl=tl||{})[nl.Initial=0]="Initial",nl[nl.Starting=1]="Starting",nl[nl.Open=2]="Open",nl[nl.Error=3]="Error",nl[nl.Backoff=4]="Backoff";var il=(ol.prototype.isStarted=function(){return this.state===tl.Starting||this.state===tl.Open||this.state===tl.Backoff},ol.prototype.isOpen=function(){return this.state===tl.Open},ol.prototype.start=function(){this.state!==tl.Error?(Br(this.state===tl.Initial,"Already started"),this.auth()):this.performBackoff()},ol.prototype.stop=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(tl.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},ol.prototype.inhibitBackoff=function(){Br(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=tl.Initial,this.backoff.reset()},ol.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return e.handleIdleCloseTimer()})))},ol.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},ol.prototype.handleIdleCloseTimer=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return this.isOpen()?[2,this.close(tl.Initial)]:[2]}))}))},ol.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},ol.prototype.close=function(e,t){return u(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return Br(this.isStarted(),"Only started streams should be closed."),Br(e===tl.Error||$c(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==tl.Error?this.backoff.reset():t&&t.code===Gr.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===Gr.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}}))}))},ol.prototype.tearDown=function(){},ol.prototype.auth=function(){var e=this;Br(this.state===tl.Initial,"Must be in initial state to auth"),this.state=tl.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(t){e.closeCount===n&&e.startStream(t)}),(function(n){t((function(){var t=new Hr(Gr.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)}))}))},ol.prototype.startStream=function(e){var t=this;Br(this.state===tl.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen((function(){n((function(){return Br(t.state===tl.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=tl.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n((function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},ol.prototype.performBackoff=function(){var e=this;Br(this.state===tl.Error,"Should only perform backoff when in Error state"),this.state=tl.Backoff,this.backoff.backoffAndRun((function(){return u(e,void 0,void 0,(function(){return c(this,(function(e){return Br(this.state===tl.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=tl.Initial,this.start(),Br(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},ol.prototype.handleStreamClose=function(e){return Br(this.isStarted(),"Can't handle server close on non-started stream"),Ur(rl,"close with error: "+e),this.stream=null,this.close(tl.Error,e)},ol.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget((function(){return t.closeCount===e?n():(Ur(rl,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},ol);function ol(e,t,n,r,i,o){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=tl.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Zc(e,t)}var al,sl=(i(ul,al=il),ul.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},ul.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},ul.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},ul.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},ul);function ul(e,t,n,r,i){var o=al.call(this,e,Gi.ListenStreamConnectionBackoff,Gi.ListenStreamIdle,t,n,i)||this;return o.serializer=r,o}var cl,ll=(i(hl,cl=il),Object.defineProperty(hl.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),hl.prototype.start=function(){this.handshakeComplete_=!1,cl.prototype.start.call(this)},hl.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},hl.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},hl.prototype.onMessage=function(e){if(Br(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return Br(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},hl.prototype.writeHandshake=function(){Br(this.isOpen(),"Writing handshake requires an opened stream"),Br(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},hl.prototype.writeMutations=function(e){var t=this;Br(this.isOpen(),"Writing mutations requires an opened stream"),Br(this.handshakeComplete_,"Handshake must be complete before writing mutations"),Br(0<this.lastStreamToken.length,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},hl);function hl(e,t,n,r,i){var o=cl.call(this,e,Gi.WriteStreamConnectionBackoff,Gi.WriteStreamIdle,t,n,i)||this;return o.serializer=r,o.handshakeComplete_=!1,o.lastStreamToken=Wr(),o}var fl=(pl.prototype.newPersistentWriteStream=function(e){return new ll(this.queue,this.connection,this.credentials,this.serializer,e)},pl.prototype.newPersistentWatchStream=function(e){return new sl(this.queue,this.connection,this.credentials,this.serializer,e)},pl.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)}))},pl.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=Co();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)}));var i=[];return e.forEach((function(e){var t=r.get(e);Br(!!t,"Missing entity in write response for "+e),i.push(t)})),i}))},pl.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(e,t,r)})).catch((function(e){throw e.code===Gr.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},pl.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(e,t,r)})).catch((function(e){throw e.code===Gr.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},pl);function pl(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}var dl,ml,yl,vl,gl=(bl.prototype.lookup=function(e){return u(this,void 0,void 0,(function(){var t,n=this;return c(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Hr(Gr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=r.sent()).forEach((function(e){e instanceof qs||e instanceof Us?n.recordVersion(e):qr("Document in a transaction was a "+e.constructor.name)})),[2,t]}}))}))},bl.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},bl.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e)},bl.prototype.delete=function(e){this.write([new za(e,this.precondition(e))]),this.writtenDocs.add(e)},bl.prototype.commit=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach((function(t){e=e.remove(t.key)})),!e.isEmpty())throw new Hr(Gr.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}}))}))},bl.prototype.recordVersion=function(e){var t;if(e instanceof Us)t=e.version;else{if(!(e instanceof qs))throw qr("Document in a transaction was a "+e.constructor.name);t=lo.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new Hr(Gr.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},bl.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?ka.updateTime(t):ka.NONE},bl.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(this.writtenDocs.has(e)||!t)return ka.exists(!0);if(t.isEqual(lo.forDeletedDoc()))throw new Hr(Gr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ka.updateTime(t)},bl.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},bl.prototype.ensureCommitNotCalled=function(){Br(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},bl);function bl(e){this.datastore=e,this.readVersions=Oo(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}(ml=dl=dl||{})[ml.Unknown=0]="Unknown",ml[ml.Online=1]="Online",ml[ml.Offline=2]="Offline",(vl=yl=yl||{})[vl.RemoteStore=0]="RemoteStore",vl[vl.SharedClientState=1]="SharedClientState";var wl,El,Tl=(Sl.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(dl.Unknown),Br(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(Gi.OnlineStateTimeout,1e4,(function(){return e.onlineStateTimer=null,Br(e.state===dl.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(dl.Offline),Promise.resolve()})))},Sl.prototype.handleWatchStreamFailure=function(e){this.state===dl.Online?(this.setAndBroadcast(dl.Unknown),Br(0===this.watchStreamFailures,"watchStreamFailures must be 0"),Br(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,1<=this.watchStreamFailures&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(dl.Offline)))},Sl.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===dl.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},Sl.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},Sl.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(Fr(t),this.shouldWarnClientIsOffline=!1):Ur("OnlineStateTracker",t)},Sl.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},Sl);function Sl(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=dl.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}function Il(e){switch(e){case Gr.OK:return qr("Treated status OK as error");case Gr.CANCELLED:case Gr.UNKNOWN:case Gr.DEADLINE_EXCEEDED:case Gr.RESOURCE_EXHAUSTED:case Gr.INTERNAL:case Gr.UNAVAILABLE:case Gr.UNAUTHENTICATED:return!1;case Gr.INVALID_ARGUMENT:case Gr.NOT_FOUND:case Gr.ALREADY_EXISTS:case Gr.PERMISSION_DENIED:case Gr.FAILED_PRECONDITION:case Gr.ABORTED:case Gr.OUT_OF_RANGE:case Gr.UNIMPLEMENTED:case Gr.DATA_LOSS:return!0;default:return qr("Unknown status code: "+e)}}function kl(e){if(void 0===e)return Fr("GRPC error has no .code"),Gr.UNKNOWN;switch(e){case wl.OK:return Gr.OK;case wl.CANCELLED:return Gr.CANCELLED;case wl.UNKNOWN:return Gr.UNKNOWN;case wl.DEADLINE_EXCEEDED:return Gr.DEADLINE_EXCEEDED;case wl.RESOURCE_EXHAUSTED:return Gr.RESOURCE_EXHAUSTED;case wl.INTERNAL:return Gr.INTERNAL;case wl.UNAVAILABLE:return Gr.UNAVAILABLE;case wl.UNAUTHENTICATED:return Gr.UNAUTHENTICATED;case wl.INVALID_ARGUMENT:return Gr.INVALID_ARGUMENT;case wl.NOT_FOUND:return Gr.NOT_FOUND;case wl.ALREADY_EXISTS:return Gr.ALREADY_EXISTS;case wl.PERMISSION_DENIED:return Gr.PERMISSION_DENIED;case wl.FAILED_PRECONDITION:return Gr.FAILED_PRECONDITION;case wl.ABORTED:return Gr.ABORTED;case wl.OUT_OF_RANGE:return Gr.OUT_OF_RANGE;case wl.UNIMPLEMENTED:return Gr.UNIMPLEMENTED;case wl.DATA_LOSS:return Gr.DATA_LOSS;default:return qr("Unknown status code: "+e)}}(El=wl=wl||{})[El.OK=0]="OK",El[El.CANCELLED=1]="CANCELLED",El[El.UNKNOWN=2]="UNKNOWN",El[El.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",El[El.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",El[El.NOT_FOUND=5]="NOT_FOUND",El[El.ALREADY_EXISTS=6]="ALREADY_EXISTS",El[El.PERMISSION_DENIED=7]="PERMISSION_DENIED",El[El.UNAUTHENTICATED=16]="UNAUTHENTICATED",El[El.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",El[El.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",El[El.ABORTED=10]="ABORTED",El[El.OUT_OF_RANGE=11]="OUT_OF_RANGE",El[El.UNIMPLEMENTED=12]="UNIMPLEMENTED",El[El.INTERNAL=13]="INTERNAL",El[El.UNAVAILABLE=14]="UNAVAILABLE",El[El.DATA_LOSS=15]="DATA_LOSS";var Cl,Al,Nl,_l,Dl=(Ol.emptySet=function(e){return new Ol(e.comparator)},Ol.prototype.has=function(e){return null!=this.keyedMap.get(e)},Ol.prototype.get=function(e){return this.keyedMap.get(e)},Ol.prototype.first=function(){return this.sortedSet.minKey()},Ol.prototype.last=function(){return this.sortedSet.maxKey()},Ol.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},Ol.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(Ol.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),Ol.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},Ol.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},Ol.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},Ol.prototype.isEqual=function(e){if(!(e instanceof Ol))return!1;if(this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},Ol.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},Ol.prototype.copy=function(e,t){var n=new Ol;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n},Ol);function Ol(e){this.comparator=e?function(t,n){return e(t,n)||Wi.comparator(t.key,n.key)}:function(e,t){return Wi.comparator(e.key,t.key)},this.keyedMap=_o(),this.sortedSet=new fo(this.comparator)}(Al=Cl=Cl||{})[Al.Added=0]="Added",Al[Al.Removed=1]="Removed",Al[Al.Modified=2]="Modified",Al[Al.Metadata=3]="Metadata",(_l=Nl=Nl||{})[_l.Local=0]="Local",_l[_l.Synced=1]="Synced";var xl=(Pl.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==Cl.Added&&n.type===Cl.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Cl.Metadata&&n.type!==Cl.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Cl.Modified&&n.type===Cl.Modified?this.changeMap=this.changeMap.insert(t,{type:Cl.Modified,doc:e.doc}):e.type===Cl.Modified&&n.type===Cl.Added?this.changeMap=this.changeMap.insert(t,{type:Cl.Added,doc:e.doc}):e.type===Cl.Removed&&n.type===Cl.Added?this.changeMap=this.changeMap.remove(t):e.type===Cl.Removed&&n.type===Cl.Modified?this.changeMap=this.changeMap.insert(t,{type:Cl.Removed,doc:n.doc}):e.type===Cl.Added&&n.type===Cl.Removed?this.changeMap=this.changeMap.insert(t,{type:Cl.Modified,doc:e.doc}):qr("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},Pl.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},Pl);function Pl(){this.changeMap=new fo(Wi.comparator)}var Rl=(Ll.fromInitialDocuments=function(e,t,n,r){var i=[];return t.forEach((function(e){i.push({type:Cl.Added,doc:e})})),new Ll(e,t,Dl.emptySet(t),i,n,r,!0,!1)},Object.defineProperty(Ll.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),Ll.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},Ll);function Ll(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}var Ml=(Vl.createSynthesizedRemoteEventForCurrentChange=function(e,t){var n,r=((n={})[e]=Ul.createSynthesizedTargetChangeForCurrentChange(e,t),n);return new Vl(lo.MIN,r,Lo(),Co(),Po())},Vl);function Vl(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}var Ul=(Fl.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new Fl(Wr(),t,Po(),Po(),Po())},Fl);function Fl(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}var jl,ql,Bl=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},zl=function(e,t){this.targetId=e,this.existenceFilter=t};(ql=jl=jl||{})[ql.NoChange=0]="NoChange",ql[ql.Added=1]="Added",ql[ql.Removed=2]="Removed",ql[ql.Current=3]="Current",ql[ql.Reset=4]="Reset";var Kl=function(e,t,n,r){void 0===n&&(n=Wr()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Wl=(Object.defineProperty(Ql.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(Ql.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(Ql.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(Ql.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),Ql.prototype.updateResumeToken=function(e){0<e.length&&(this._hasPendingChanges=!0,this._resumeToken=e)},Ql.prototype.toTargetChange=function(){var e=Po(),t=Po(),n=Po();return this.documentChanges.forEach((function(r,i){switch(i){case Cl.Added:e=e.add(r);break;case Cl.Modified:t=t.add(r);break;case Cl.Removed:n=n.add(r);break;default:qr("Encountered invalid change type: "+i)}})),new Ul(this._resumeToken,this._current,e,t,n)},Ql.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Xl()},Ql.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},Ql.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},Ql.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},Ql.prototype.recordTargetResponse=function(){this.pendingResponses-=1},Ql.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},Ql);function Ql(){this.pendingResponses=0,this.documentChanges=Xl(),this._resumeToken=Wr(),this._current=!1,this._hasPendingChanges=!0}var Gl=(Hl.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof Us?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof qs&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.removeDocumentFromTarget(r,e.key,e.newDoc)},Hl.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ensureTargetState(n);switch(e.state){case jl.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case jl.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case jl.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),Br(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case jl.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case jl.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:qr("Unknown target watch change state: "+e.state)}}))},Hl.prototype.forEachTarget=function(e,t){0<e.targetIds.length?e.targetIds.forEach(t):Zr(this.targetStates,t)},Hl.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new Wi(i.path);this.removeDocumentFromTarget(t,o,new qs(o,lo.forDeletedDoc()))}else Br(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},Hl.prototype.createRemoteEvent=function(e){var t=this,n={};Zr(this.targetStates,(function(r,i){var o=t.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new Wi(o.query.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(r,a)||t.removeDocumentFromTarget(r,a,new qs(a,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}}));var r=Po();this.pendingDocumentTargetMapping.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===Vu.LimboResolution||(i=!1)})),i&&(r=r.add(e))}));var i=new Ml(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Co(),this.pendingDocumentTargetMapping=Yl(),this.pendingTargetResets=new Eo(Ei),i},Hl.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Cl.Modified:Cl.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},Hl.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,Cl.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},Hl.prototype.removeTarget=function(e){delete this.targetStates[e]},Hl.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},Hl.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},Hl.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new Wl),this.targetStates[e]},Hl.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new Eo(Ei),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},Hl.prototype.isActiveTarget=function(e){var t=null!==this.queryDataForActiveTarget(e);return t||Ur("WatchChangeAggregator","Detected inactive target",e),t},Hl.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},Hl.prototype.resetTarget=function(e){var t=this;Br(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Wl,this.metadataProvider.getRemoteKeysForTarget(e).forEach((function(n){t.removeDocumentFromTarget(e,n,null)}))},Hl.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},Hl);function Hl(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=Co(),this.pendingDocumentTargetMapping=Yl(),this.pendingTargetResets=new Eo(Ei)}function Yl(){return new fo(Wi.comparator)}function Xl(){return new fo(Wi.comparator)}var $l="RemoteStore",Jl=(Zl.prototype.start=function(){return this.enableNetwork()},Zl.prototype.enableNetwork=function(){return u(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(dl.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},Zl.prototype.disableNetwork=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(dl.Offline),[2]}}))}))},Zl.prototype.disableNetworkInternal=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),0<this.writePipeline.length&&(Ur($l,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},Zl.prototype.shutdown=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return Ur($l,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(dl.Unknown),[2]}}))}))},Zl.prototype.listen=function(e){Br(!$r(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},Zl.prototype.unlisten=function(e){Br($r(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),ti(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(dl.Unknown))},Zl.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},Zl.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},Zl.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},Zl.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},Zl.prototype.startWatchStream=function(){Br(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Gl(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},Zl.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!ti(this.listenTargets)},Zl.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},Zl.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},Zl.prototype.onWatchStreamOpen=function(){return u(this,void 0,void 0,(function(){var e=this;return c(this,(function(t){return Zr(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),[2]}))}))},Zl.prototype.onWatchStreamClose=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){return void 0===e&&Br(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(dl.Unknown),[2]}))}))},Zl.prototype.onWatchStreamChange=function(e,t){return u(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(dl.Online),e instanceof Kl&&e.state===jl.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Bl?this.watchChangeAggregator.handleDocumentChange(e):e instanceof zl?this.watchChangeAggregator.handleExistenceFilter(e):(Br(e instanceof Kl,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(lo.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),0<=t.compareTo(n)?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},Zl.prototype.raiseWatchSnapshot=function(e){var t=this;Br(!e.isEqual(lo.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return Zr(n.targetChanges,(function(n,r){if(0<r.resumeToken.length){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.withResumeToken(r.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(Wr(),n.snapshotVersion),t.sendUnwatchRequest(e);var r=new zu(n.query,e,Vu.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},Zl.prototype.handleTargetError=function(e){var t=this;Br(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach((function(e){r=r.then((function(){return u(t,void 0,void 0,(function(){return c(this,(function(t){return $r(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]}))}))}))})),r},Zl.prototype.fillWritePipeline=function(){return u(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=0<this.writePipeline.length?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},Zl.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},Zl.prototype.outstandingWrites=function(){return this.writePipeline.length},Zl.prototype.addToWritePipeline=function(e){Br(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},Zl.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&0<this.writePipeline.length},Zl.prototype.startWriteStream=function(){Br(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},Zl.prototype.onWriteStreamOpen=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return this.writeStream.writeHandshake(),[2]}))}))},Zl.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}})).catch(pc)},Zl.prototype.onMutationResult=function(e,t){var n=this;Br(0<this.writePipeline.length,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Uo.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then((function(){return n.fillWritePipeline()}))},Zl.prototype.onWriteStreamClose=function(e){return u(this,void 0,void 0,(function(){var t=this;return c(this,(function(n){return void 0===e&&Br(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&0<this.writePipeline.length?[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))]:[2]}))}))},Zl.prototype.handleHandshakeError=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){return Il(e.code)?(Ur($l,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=Wr(),[2,this.localStore.setLastStreamToken(Wr()).catch(pc)]):[2]}))}))},Zl.prototype.handleWriteError=function(e){return u(this,void 0,void 0,(function(){var t,n=this;return c(this,(function(r){return function(e){return Il(e)&&e!==Gr.ABORTED}(e.code)?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then((function(){return n.fillWritePipeline()}))]):[2]}))}))},Zl.prototype.createTransaction=function(){return new gl(this.datastore)},Zl.prototype.restartNetwork=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(dl.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},Zl.prototype.handleCredentialChange=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(Ur($l,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},Zl.prototype.applyPrimaryState=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return(this.isPrimary=e)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(dl.Unknown),t.label=4;case 4:return[2]}}))}))},Zl);function Zl(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback((function(e){n.enqueueAndForget((function(){return u(o,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(Ur($l,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new Tl(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}var eh=(Object.defineProperty(th.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(th.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),th.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},th.prototype._compareTo=function(e){return Ei(this._lat,e._lat)||Ei(this._long,e._long)},th);function th(e,t){if(ri("GeoPoint",arguments,2),ai("GeoPoint","number",1,e),ai("GeoPoint","number",2,t),!isFinite(e)||e<-90||90<e)throw new Hr(Gr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new Hr(Gr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}var nh=(rh.atPath=function(e){return new rh(e)},Object.defineProperty(rh.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[Dh]:this.memoizedOrderBy=[new Nh(e),Dh];else{Br(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field.");for(var n=!(this.memoizedOrderBy=[]),r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Ih.ASCENDING;this.memoizedOrderBy.push(a===Ih.ASCENDING?Dh:Oh)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),rh.prototype.addFilter=function(e){Br(null==this.getInequalityFilterField()||!(e instanceof sh)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),Br(!this.isDocumentQuery(),"No filtering allowed for document query");var t=this.filters.concat([e]);return new rh(this.path,this.collectionGroup,this.explicitOrderBy.slice(),t,this.limit,this.startAt,this.endAt)},rh.prototype.addOrderBy=function(e){Br(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var t=this.explicitOrderBy.concat([e]);return new rh(this.path,this.collectionGroup,t,this.filters.slice(),this.limit,this.startAt,this.endAt)},rh.prototype.withLimit=function(e){return new rh(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},rh.prototype.withStartAt=function(e){return new rh(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},rh.prototype.withEndAt=function(e){return new rh(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},rh.prototype.asCollectionQueryAtPath=function(e){return new rh(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},rh.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},rh.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();this.isCollectionGroupQuery()&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++)e+=n[t].canonicalId(),e+=",";e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)e+=i[r].canonicalId(),e+=",";$c(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},rh.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(e+=" collectionGroup="+this.collectionGroup),0<this.filters.length&&(e+=", filters: ["+this.filters.join(", ")+"]"),$c(this.limit)||(e+=", limit: "+this.limit),0<this.explicitOrderBy.length&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},rh.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&!!this.path.isEqual(e.path)&&!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)},rh.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return Br(n,"orderBy used that doesn't compare on key field"),0},rh.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},rh.prototype.hasLimit=function(){return!$c(this.limit)},rh.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null},rh.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof sh&&n.isInequality())return n.field}return null},rh.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof sh&&0<=e.indexOf(r.op))return r.op}return null},rh.prototype.isDocumentQuery=function(){return Wi.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},rh.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},rh.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):Wi.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},rh.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},rh.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},rh.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,e))},rh.prototype.assertValidBound=function(e){Br(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},rh);function rh(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}var ih=(oh.fromString=function(e){switch(e){case"<":return oh.LESS_THAN;case"<=":return oh.LESS_THAN_OR_EQUAL;case"==":return oh.EQUAL;case">=":return oh.GREATER_THAN_OR_EQUAL;case">":return oh.GREATER_THAN;case"array-contains":return oh.ARRAY_CONTAINS;case"in":return oh.IN;case"array-contains-any":return oh.ARRAY_CONTAINS_ANY;default:return qr("Unknown FieldFilter operator: "+e)}},oh.prototype.toString=function(){return this.name},oh.prototype.isEqual=function(e){return this.name===e.name},oh.LESS_THAN=new oh("<"),oh.LESS_THAN_OR_EQUAL=new oh("<="),oh.EQUAL=new oh("=="),oh.GREATER_THAN=new oh(">"),oh.GREATER_THAN_OR_EQUAL=new oh(">="),oh.ARRAY_CONTAINS=new oh("array-contains"),oh.IN=new oh("in"),oh.ARRAY_CONTAINS_ANY=new oh("array-contains-any"),oh);function oh(e){this.name=e}var ah,sh=(i(uh,ah=function(){}),uh.create=function(e,t,n){if(e.isKeyField())return t===ih.IN?(Br(n instanceof Ps,"Comparing on key with IN, but filter value not an ArrayValue"),Br(n.internalValue.every((function(e){return e instanceof Is})),"Comparing on key with IN, but an array value was not a RefValue"),new ph(e,n)):(Br(n instanceof Is,"Comparing on key, but filter value not a RefValue"),Br(t!==ih.ARRAY_CONTAINS&&t!==ih.ARRAY_CONTAINS_ANY,"'"+t.toString()+"' queries don't make sense on document keys."),new lh(e,t,n));if(n.isEqual(Xa.INSTANCE)){if(t!==ih.EQUAL)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new uh(e,t,n)}if(n.isEqual(cs.NAN)){if(t!==ih.EQUAL)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new uh(e,t,n)}return t===ih.ARRAY_CONTAINS?new yh(e,n):t===ih.IN?(Br(n instanceof Ps,"IN filter has invalid value: "+n.toString()),new bh(e,n)):t===ih.ARRAY_CONTAINS_ANY?(Br(n instanceof Ps,"ARRAY_CONTAINS_ANY filter has invalid value: "+n.toString()),new Th(e,n)):new uh(e,t,n)},uh.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},uh.prototype.matchesComparison=function(e){switch(this.op){case ih.LESS_THAN:return e<0;case ih.LESS_THAN_OR_EQUAL:return e<=0;case ih.EQUAL:return 0===e;case ih.GREATER_THAN:return 0<e;case ih.GREATER_THAN_OR_EQUAL:return 0<=e;default:return qr("Unknown FieldFilter operator: "+this.op)}},uh.prototype.isInequality=function(){return 0<=[ih.LESS_THAN,ih.LESS_THAN_OR_EQUAL,ih.GREATER_THAN,ih.GREATER_THAN_OR_EQUAL].indexOf(this.op)},uh.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},uh.prototype.isEqual=function(e){return e instanceof uh&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},uh.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},uh);function uh(e,t,n){var r=ah.call(this)||this;return r.field=e,r.op=t,r.value=n,r}var ch,lh=(i(hh,ch=sh),hh.prototype.matches=function(e){var t=this.value,n=Wi.comparator(e.key,t.key);return this.matchesComparison(n)},hh);function hh(){return null!==ch&&ch.apply(this,arguments)||this}var fh,ph=(i(dh,fh=sh),dh.prototype.matches=function(e){return this.value.internalValue.some((function(t){return e.key.isEqual(t.key)}))},dh);function dh(e,t){var n=fh.call(this,e,ih.IN,t)||this;return n.value=t,n}var mh,yh=(i(vh,mh=sh),vh.prototype.matches=function(e){var t=e.field(this.field);return t instanceof Ps&&t.contains(this.value)},vh);function vh(e,t){return mh.call(this,e,ih.ARRAY_CONTAINS,t)||this}var gh,bh=(i(wh,gh=sh),wh.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},wh);function wh(e,t){var n=gh.call(this,e,ih.IN,t)||this;return n.value=t,n}var Eh,Th=(i(Sh,Eh=sh),Sh.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof Ps&&n.internalValue.some((function(e){return t.value.contains(e)}))},Sh);function Sh(e,t){var n=Eh.call(this,e,ih.ARRAY_CONTAINS_ANY,t)||this;return n.value=t,n}var Ih=(kh.prototype.toString=function(){return this.name},kh.ASCENDING=new kh("asc"),kh.DESCENDING=new kh("desc"),kh);function kh(e){this.name=e}var Ch=(Ah.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++)e+=n[t].toString();return e},Ah.prototype.sortsBeforeDocument=function(e,t){Br(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())Br(o instanceof Is,"Bound has a non-key value where the key path is being used."),n=Wi.comparator(o.key,t.key);else{var a=t.field(i.field);Br(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Ih.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},Ah.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];if(!n.isEqual(r))return!1}return!0},Ah);function Ah(e,t){this.position=e,this.before=t}var Nh=(_h.prototype.compare=function(e,t){var n=this.isKeyOrderBy?Us.compareByKey(e,t):Us.compareByField(this.field,e,t);switch(this.dir){case Ih.ASCENDING:return n;case Ih.DESCENDING:return-1*n;default:return qr("Unknown direction: "+this.dir)}},_h.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},_h.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},_h.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},_h);function _h(e,t){this.field=e,void 0===t&&(t=Ih.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}var Dh=new Nh(zi.keyField(),Ih.ASCENDING),Oh=new Nh(zi.keyField(),Ih.DESCENDING),xh=(Ph.prototype.applyToLocalView=function(e,t){return new gs(t,e)},Ph.prototype.applyToRemoteDocument=function(e,t){return t},Ph.prototype.computeBaseValue=function(e){return null},Ph.prototype.isEqual=function(e){return e instanceof Ph},Ph.instance=new Ph,Ph);function Ph(){}var Rh=(Lh.prototype.applyToLocalView=function(e,t){return this.apply(e)},Lh.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},Lh.prototype.apply=function(e){for(var t=jh(e),n=function(e){t.find((function(t){return t.isEqual(e)}))||t.push(e)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Ps(t)},Lh.prototype.computeBaseValue=function(e){return null},Lh.prototype.isEqual=function(e){return e instanceof Lh&&Ti(e.elements,this.elements)},Lh);function Lh(e){this.elements=e}var Mh=(Vh.prototype.applyToLocalView=function(e,t){return this.apply(e)},Vh.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},Vh.prototype.apply=function(e){for(var t=jh(e),n=function(e){t=t.filter((function(t){return!t.isEqual(e)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Ps(t)},Vh.prototype.computeBaseValue=function(e){return null},Vh.prototype.isEqual=function(e){return e instanceof Vh&&Ti(e.elements,this.elements)},Vh);function Vh(e){this.elements=e}var Uh=(Fh.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof as&&this.operand instanceof as){var r=n.internalValue+this.operand.internalValue;return new as(r)}return r=n.internalValue+this.operand.internalValue,new cs(r)},Fh.prototype.applyToRemoteDocument=function(e,t){return Br(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},Fh.prototype.computeBaseValue=function(e){return e instanceof ns?e:new as(0)},Fh.prototype.isEqual=function(e){return e instanceof Fh&&this.operand.isEqual(e.operand)},Fh);function Fh(e){this.operand=e}function jh(e){return e instanceof Ps?e.internalValue.slice():[]}var qh=(Bh.prototype.isEqual=function(e){return e&&e.count===this.count},Bh);function Bh(e){this.count=e}var zh,Kh,Wh=((zh={})[Ih.ASCENDING.name]="ASCENDING",zh[Ih.DESCENDING.name]="DESCENDING",zh),Qh=((Kh={})[ih.LESS_THAN.name]="LESS_THAN",Kh[ih.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Kh[ih.GREATER_THAN.name]="GREATER_THAN",Kh[ih.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Kh[ih.EQUAL.name]="EQUAL",Kh[ih.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Kh[ih.IN.name]="IN",Kh[ih.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",Kh),Gh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hh(e,t){Br(!$c(e),t+" is missing")}function Yh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):qr("can't parse "+e)}var Xh=($h.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},$h.prototype.unsafeCastProtoByteString=function(e){return e},$h.prototype.fromRpcStatus=function(e){var t=void 0===e.code?Gr.UNKNOWN:kl(e.code);return new Hr(t,e.message||"")},$h.prototype.toInt32Value=function(e){return this.options.useProto3Json||$c(e)?e:{value:e}},$h.prototype.fromInt32Value=function(e){var t;return $c(t="object"==typeof e?e.value:e)?null:t},$h.prototype.toTimestamp=function(e){return this.options.useProto3Json?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}},$h.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);Br(!!e,"Cannot deserialize null or undefined timestamp.");var t=Yh(e.seconds||"0"),n=e.nanos||0;return new uo(t,n)},$h.prototype.fromIso8601String=function(e){var t=0,n=Gh.exec(e);if(Br(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),o=Math.floor(i.getTime()/1e3);return new uo(o,t)},$h.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},$h.prototype.fromBlob=function(e){return"string"==typeof e?(Br(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Ci.fromBase64String(e)):(Br(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Ci.fromUint8Array(e))},$h.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},$h.prototype.fromVersion=function(e){return Br(!!e,"Trying to deserialize version that isn't set"),lo.fromTimestamp(this.fromTimestamp(e))},$h.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},$h.prototype.fromResourceName=function(e){var t=Fi.fromString(e);return Br(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},$h.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},$h.prototype.fromName=function(e){var t=this.fromResourceName(e);return Br(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),Br(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new Wi(this.extractLocalPathFromResourceName(t))},$h.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},$h.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?Fi.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty($h.prototype,"encodedDatabaseId",{get:function(){return new Fi(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),$h.prototype.fullyQualifiedPrefixPath=function(e){return new Fi(["projects",e.projectId,"databases",e.database])},$h.prototype.extractLocalPathFromResourceName=function(e){return Br(4<e.length&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},$h.prototype.isValidResourceName=function(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)},$h.prototype.toValue=function(e){if(e instanceof Xa)return{nullValue:"NULL_VALUE"};if(e instanceof Za)return{booleanValue:e.value()};if(e instanceof as)return{integerValue:""+e.value()};if(e instanceof cs){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof fs?{stringValue:e.value()}:e instanceof Ds?{mapValue:this.toMapValue(e)}:e instanceof Ps?{arrayValue:this.toArrayValue(e)}:e instanceof ms?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof As?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Es?{bytesValue:this.toBytes(e.value())}:e instanceof Is?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:qr("Unknown FieldValue "+JSON.stringify(e))},$h.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return Xa.INSTANCE;if("booleanValue"in e)return Za.of(e.booleanValue);if("integerValue"in e)return new as(Yh(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return cs.NAN;if("Infinity"===e.doubleValue)return cs.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return cs.NEGATIVE_INFINITY}return new cs(e.doubleValue)}if("stringValue"in e)return new fs(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){Hh(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new Ps(n.map((function(e){return t.fromValue(e)})))}if("timestampValue"in e)return Hh(e.timestampValue,"timestampValue"),new ms(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){Hh(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,i=e.geoPointValue.longitude||0;return new As(new eh(r,i))}if("bytesValue"in e){Hh(e.bytesValue,"bytesValue");var o=this.fromBlob(e.bytesValue);return new Es(o)}if("referenceValue"in e){Hh(e.referenceValue,"referenceValue");var a=this.fromResourceName(e.referenceValue),s=new Oi(a.get(1),a.get(3)),u=new Wi(this.extractLocalPathFromResourceName(a));return new Is(s,u)}return qr("Unknown Value proto "+JSON.stringify(e))},$h.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},$h.prototype.toDocument=function(e){return Br(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},$h.prototype.fromDocument=function(e,t){var n=this,r=this.fromName(e.name),i=this.fromVersion(e.updateTime);return new Us(r,i,{hasCommittedMutations:!!t},void 0,e,(function(e){return n.fromValue(e)}))},$h.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,r){n[e]=t.toValue(r)})),n},$h.prototype.fromFields=function(e){var t=this,n=e,r=Ds.EMPTY;return ei(n,(function(e,n){r=r.set(new zi([e]),t.fromValue(n))})),r},$h.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},$h.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},$h.prototype.fromFound=function(e){var t=this;Br(!!e.found,"Tried to deserialize a found document from a missing document."),Hh(e.found.name,"doc.found.name"),Hh(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),r=this.fromVersion(e.found.updateTime);return new Us(n,r,{},void 0,e.found,(function(e){return t.fromValue(e)}))},$h.prototype.fromMissing=function(e){Br(!!e.missing,"Tried to deserialize a missing document from a found document."),Br(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new qs(t,n)},$h.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):qr("invalid batch get response: "+JSON.stringify(e))},$h.prototype.toWatchTargetChangeState=function(e){switch(e){case jl.Added:return"ADD";case jl.Current:return"CURRENT";case jl.NoChange:return"NO_CHANGE";case jl.Removed:return"REMOVE";case jl.Reset:return"RESET";default:return qr("Unknown WatchTargetChangeState: "+e)}},$h.prototype.toTestWatchChange=function(e){if(e instanceof zl)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Bl){if(e.newDoc instanceof Us){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof qs)return t=e.newDoc,{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}};if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Kl){var n=void 0;return e.cause&&(n={code:function(e){if(void 0===e)return wl.OK;switch(e){case Gr.OK:return wl.OK;case Gr.CANCELLED:return wl.CANCELLED;case Gr.UNKNOWN:return wl.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return wl.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return wl.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return wl.INTERNAL;case Gr.UNAVAILABLE:return wl.UNAVAILABLE;case Gr.UNAUTHENTICATED:return wl.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return wl.INVALID_ARGUMENT;case Gr.NOT_FOUND:return wl.NOT_FOUND;case Gr.ALREADY_EXISTS:return wl.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return wl.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return wl.FAILED_PRECONDITION;case Gr.ABORTED:return wl.ABORTED;case Gr.OUT_OF_RANGE:return wl.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return wl.UNIMPLEMENTED;case Gr.DATA_LOSS:return wl.DATA_LOSS;default:return qr("Unknown status code: "+e)}}(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return qr("Unrecognized watch change: "+JSON.stringify(e))},$h.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){Hh(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new Kl(r,i,o,s||null)}else if("documentChange"in e){Hh(e.documentChange,"documentChange"),Hh(e.documentChange.document,"documentChange.name"),Hh(e.documentChange.document.name,"documentChange.document.name"),Hh(e.documentChange.document.updateTime,"documentChange.document.updateTime");var u=e.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),h=new Us(c,l,{},void 0,u.document,(function(e){return n.fromValue(e)})),f=u.targetIds||[],p=u.removedTargetIds||[];t=new Bl(f,p,h.key,h)}else if("documentDelete"in e){Hh(e.documentDelete,"documentDelete"),Hh(e.documentDelete.document,"documentDelete.document");var d=e.documentDelete;c=this.fromName(d.document),l=d.readTime?this.fromVersion(d.readTime):lo.forDeletedDoc(),h=new qs(c,l),p=d.removedTargetIds||[],t=new Bl([],p,h.key,h)}else if("documentRemove"in e){Hh(e.documentRemove,"documentRemove"),Hh(e.documentRemove.document,"documentRemove");var m=e.documentRemove;c=this.fromName(m.document),p=m.removedTargetIds||[],t=new Bl([],p,c,null)}else{if(!("filter"in e))return qr("Unknown change type "+JSON.stringify(e));Hh(e.filter,"filter"),Hh(e.filter.targetId,"filter.targetId");var y=e.filter,v=y.count||0,g=new qh(v),b=y.targetId;t=new zl(b,g)}return t},$h.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?jl.NoChange:"ADD"===e?jl.Added:"REMOVE"===e?jl.Removed:"CURRENT"===e?jl.Current:"RESET"===e?jl.Reset:qr("Got unexpected TargetChange.state: "+e)},$h.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return lo.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?lo.MIN:t.readTime?this.fromVersion(t.readTime):lo.MIN},$h.prototype.toMutation=function(e){var t,n=this;if(e instanceof Da)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof za)t={delete:this.toName(e.key)};else if(e instanceof Pa)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof Ma))return qr("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},$h.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):ka.NONE;if(e.update){Hh(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new Pa(r,i,o,n)}return new Da(r,i,n)}if(e.delete)return r=this.fromName(e.delete),new za(r,n);if(e.transform){r=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return Br(!0===n.exists,'Transforms only support precondition "exists == true"'),new Ma(r,a)}return qr("unknown mutation proto: "+JSON.stringify(e))},$h.prototype.toPrecondition=function(e){return Br(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:qr("Unknown precondition")},$h.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?ka.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?ka.exists(e.exists):ka.NONE},$h.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t);r.isEqual(lo.MIN)&&(r=this.fromVersion(t));var i=null;return e.transformResults&&0<e.transformResults.length&&(i=e.transformResults.map((function(e){return n.fromValue(e)}))),new Ia(r,i)},$h.prototype.fromWriteResults=function(e,t){var n=this;return e&&0<e.length?(Br(void 0!==t,"Received a write result without a commit time"),e.map((function(e){return n.fromWriteResult(e,t)}))):[]},$h.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof xh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof Mh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof Uh)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw qr("Unknown transform: "+e.transform)},$h.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)Br("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=xh.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Rh(r.map((function(e){return t.fromValue(e)})))}else if("removeAllFromArray"in e)r=e.removeAllFromArray.values||[],n=new Mh(r.map((function(e){return t.fromValue(e)})));else if("increment"in e){var i=this.fromValue(e.increment);Br(i instanceof ns,"NUMERIC_ADD transform requires a NumberValue"),n=new Uh(i)}else qr("Unknown transform proto: "+JSON.stringify(e));var o=zi.fromServerFormat(e.fieldPath);return new wa(o,n)},$h.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},$h.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;Br(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return nh.atPath(this.fromQueryPath(n))},$h.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(Br(n.length%2==0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(Br(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toInt32Value(e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},$h.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(0<r){Br(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new nh(t,i,s,a,u,c,l)},$h.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},$h.prototype.toLabel=function(e){switch(e){case Vu.Listen:return null;case Vu.ExistenceFilterMismatch:return"existence-filter-mismatch";case Vu.LimboResolution:return"limbo-document";default:return qr("Unrecognized query purpose: "+e)}},$h.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,0<e.resumeToken.length&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},$h.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof sh?t.toUnaryOrFieldFilter(e):qr("Unrecognized filter: "+JSON.stringify(e))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},$h.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.fromFilter(e)})).reduce((function(e,t){return e.concat(t)})):qr("Unknown filter: "+JSON.stringify(e)):[]},$h.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},$h.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},$h.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map((function(e){return t.toValue(e)}))}},$h.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map((function(e){return t.fromValue(e)}));return new Ch(r,n)},$h.prototype.toDirection=function(e){return Wh[e.name]},$h.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return Ih.ASCENDING;case"DESCENDING":return Ih.DESCENDING;default:return}},$h.prototype.toOperatorName=function(e){return Qh[e.name]},$h.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return ih.EQUAL;case"GREATER_THAN":return ih.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return ih.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return ih.LESS_THAN;case"LESS_THAN_OR_EQUAL":return ih.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return ih.ARRAY_CONTAINS;case"IN":return ih.IN;case"ARRAY_CONTAINS_ANY":return ih.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return qr("Unspecified operator");default:return qr("Unknown operator")}},$h.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},$h.prototype.fromFieldPathReference=function(e){return zi.fromServerFormat(e.fieldPath)},$h.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},$h.prototype.fromPropertyOrder=function(e){return new Nh(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},$h.prototype.fromFieldFilter=function(e){return sh.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},$h.prototype.toUnaryOrFieldFilter=function(e){if(e.op===ih.EQUAL){if(e.value.isEqual(cs.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(Xa.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},$h.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return sh.create(t,ih.EQUAL,cs.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return sh.create(n,ih.EQUAL,Xa.INSTANCE);case"OPERATOR_UNSPECIFIED":return qr("Unspecified filter");default:return qr("Unknown filter")}},$h.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}},$h.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(e){return zi.fromServerFormat(e)}));return ga.fromArray(t)},$h);function $h(e,t){this.databaseId=e,this.options=t}var Jh=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},Zh=(ef.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new Jh,this.queries.set(t,r)),r.listeners.push(e),Br(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),!r.viewSnap||e.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(t).then((function(e){return r.targetId=e})):Promise.resolve(r.targetId)},ef.prototype.unlisten=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i;return c(this,(function(o){return t=e.query,n=!1,(r=this.queries.get(t))&&0<=(i=r.listeners.indexOf(e))&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]}))}))},ef.prototype.onWatchChange=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n],o=i.query,a=this.queries.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++)u[s].onViewSnapshot(i)&&(t=!0);a.viewSnap=i}}t&&this.raiseSnapshotsInSyncEvent()},ef.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(t);this.queries.delete(e)},ef.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].applyOnlineStateChange(e)&&(t=!0)})),t&&this.raiseSnapshotsInSyncEvent()},ef.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},ef.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},ef.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(e){e.next()}))},ef);function ef(e){this.syncEngine=e,this.queries=new Qs((function(e){return e.canonicalId()})),this.onlineState=dl.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}var tf=(nf.prototype.onViewSnapshot=function(e){if(Br(0<e.docChanges.length||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==Cl.Metadata&&t.push(i)}e=new Rl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),o=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),o=!0),this.snap=e,o},nf.prototype.onError=function(e){this.queryObserver.error(e)},nf.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},nf.prototype.shouldRaiseInitialEvent=function(e,t){if(Br(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==dl.Offline;return this.options.waitForSyncWhenOnline&&n?(Br(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===dl.Offline},nf.prototype.shouldRaiseEvent=function(e){if(0<e.docChanges.length)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},nf.prototype.raiseInitialEvent=function(e){Br(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},nf);function nf(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=dl.Unknown,this.options=n||{}}var rf=(of.fromSnapshot=function(e,t){for(var n=Po(),r=Po(),i=0,o=t.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case Cl.Added:n=n.add(a.doc.key);break;case Cl.Removed:r=r.add(a.doc.key)}}return new of(e,t.fromCache,n,r)},of);function of(e,t,n,r){this.targetId=e,this.fromCache=t,this.addedKeys=n,this.removedKeys=r}var af=function(e){this.key=e},sf=function(e){this.key=e},uf=(Object.defineProperty(cf.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),cf.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new xl,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),l=t instanceof Us?t:null;l&&(Br(e.isEqual(l.key),"Mismatching keys found in document changes: "+e+" != "+l.key),l=n.query.matches(l)?l:null);var h=!!c&&n.mutatedKeys.has(c.key),f=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;c&&l?c.data().isEqual(l.data())?h!==f&&(r.track({type:Cl.Metadata,doc:l}),p=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:Cl.Modified,doc:l}),p=!0,u&&0<n.query.docComparator(l,u)&&(s=!0)):!c&&l?(r.track({type:Cl.Added,doc:l}),p=!0):c&&!l&&(r.track({type:Cl.Removed,doc:c}),p=!0,u&&(s=!0)),p&&(o=l?(a=a.add(l),f?o.add(e):o.delete(e)):(a=a.delete(e),o.delete(e)))})),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:Cl.Removed,doc:c})}return Br(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},cf.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},cf.prototype.applyChanges=function(e,t,n){var r=this;Br(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort((function(e,t){return function(e,t){function n(e){switch(e){case Cl.Added:return 1;case Cl.Modified:case Cl.Metadata:return 2;case Cl.Removed:return 0;default:return qr("Unknown ChangeType: "+e)}}return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)})),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Nl.Synced:Nl.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new Rl(this.query,e.documentSet,i,o,e.mutatedKeys,s===Nl.Local,u,!1),limboChanges:a}:{limboChanges:a}},cf.prototype.applyOnlineStateChange=function(e){return this.current&&e===dl.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new xl,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},cf.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations},cf.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.add(e)})),e.modifiedDocuments.forEach((function(e){return Br(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")})),e.removedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)})),this.current=e.current)},cf.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=Po(),this.documentSet.forEach((function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))}));var n=[];return t.forEach((function(t){e.limboDocuments.has(t)||n.push(new sf(t))})),this.limboDocuments.forEach((function(e){t.has(e)||n.push(new af(e))})),n},cf.prototype.synchronizeWithPersistedState=function(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=Po();var t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)},cf.prototype.computeInitialSnapshot=function(){return Rl.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Nl.Local)},cf);function cf(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Po(),this.mutatedKeys=Po(),this.documentSet=new Dl(e.docComparator.bind(e))}var lf=(hf.prototype.run=function(){this.runWithBackOff()},hf.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun((function(){return u(e,void 0,void 0,(function(){var e,t,n=this;return c(this,(function(r){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.handleTransactionError(e)}))}))})).catch((function(e){n.handleTransactionError(e)})),[2]}))}))}))},hf.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!$c(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},hf.prototype.handleTransactionError=function(e){var t=this;0<this.retries&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return t.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(e)},hf.prototype.isRetryableTransactionError=function(e){if("FirebaseError"!==e.name)return!1;var t=e.code;return"aborted"===t||"failed-precondition"===t||!Il(t)},hf);function hf(e,t,n,r){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=r,this.retries=5,this.backoff=new Zc(this.asyncQueue,Gi.RetryTransaction)}var ff="SyncEngine",pf=function(e,t,n){this.query=e,this.targetId=t,this.view=n},df=function(e){this.key=e,this.receivedDocument=!1},mf=(Object.defineProperty(yf.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),yf.prototype.subscribe=function(e){Br(null!==e,"SyncEngine listener cannot be null"),Br(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},yf.prototype.listen=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i,o;return c(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),t=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}}))}))},yf.prototype.initializeViewAndComputeSnapshot=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return c(this,(function(c){switch(c.label){case 0:return n=e.query,[4,this.localStore.executeQuery(n,!0)];case 1:return r=c.sent(),i=new uf(n,r.remoteKeys),o=i.computeDocChanges(r.documents),a=Ul.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&this.onlineState!==dl.Offline),Br(0===(s=i.applyChanges(o,!0===this.isPrimary,a)).limboChanges.length,"View returned limbo docs before target ack from the server."),Br(!!s.snapshot,"applyChanges for new view should always return a snapshot"),u=new pf(n,e.targetId,i),this.queryViewsByQuery.set(n,u),this.queryViewsByTarget[e.targetId]=u,[2,s.snapshot]}}))}))},yf.prototype.synchronizeViewAndComputeSnapshot=function(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(e.query,!0)];case 1:return t=r.sent(),n=e.view.synchronizeWithPersistedState(t),this.isPrimary&&this.updateTrackedLimbos(e.targetId,n.limboChanges),[2,n]}}))}))},yf.prototype.unlisten=function(e){return u(this,void 0,void 0,(function(){var t,n=this;return c(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),Br(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseQuery(e,!1).then((function(){n.sharedClientState.clearQueryState(t.targetId),n.remoteStore.unlisten(t.targetId),n.removeAndCleanupQuery(t)})).catch(pc)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},yf.prototype.write=function(e,t){return u(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}}))}))},yf.prototype.runTransaction=function(e,t,n){new lf(e,this.remoteStore,t,n).run()},yf.prototype.applyRemoteEvent=function(e){return u(this,void 0,void 0,(function(){var t,n=this;return c(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=r.sent(),ei(e.targetChanges,(function(e,t){var r=n.limboResolutionsByTarget[Number(e)];r&&(Br(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),0<t.addedDocuments.size?r.receivedDocument=!0:0<t.modifiedDocuments.size?Br(r.receivedDocument,"Received change for limbo target document without add."):0<t.removedDocuments.size&&(Br(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,pc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},yf.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===yl.RemoteStore||!this.isPrimary&&t===yl.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(t,r){var i=r.view.applyOnlineStateChange(e);Br(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},yf.prototype.rejectListen=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return c(this,(function(c){switch(c.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=(i=new fo(Wi.comparator)).insert(r,new qs(r,lo.forDeletedDoc())),o=Po().add(r),a=new Ml(lo.MIN,{},new Eo(Ei),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return Br(!!(s=this.queryViewsByTarget[e]),"Unknown targetId: "+e),[4,this.localStore.releaseQuery(s.query,!1).then((function(){return u.removeAndCleanupQuery(s)})).catch(pc)];case 2:c.sent(),this.syncEngineListener.onWatchError(s.query,t),c.label=3;case 3:return[2]}}))}))},yf.prototype.applyBatchState=function(e,t,n){return u(this,void 0,void 0,(function(){var r;return c(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=i.sent())?(Ur(ff,"Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):qr("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}}))}))},yf.prototype.applySuccessfulWrite=function(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,pc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},yf.prototype.rejectFailedWrite=function(e,t){return u(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,pc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},yf.prototype.registerPendingWritesCallback=function(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||Ur(ff,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=r.sent())?e.resolve():((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n)),[2]}}))}))},yf.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach((function(e){e.resolve()})),this.pendingWritesCallbacks.delete(e)},yf.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach((function(t){t.forEach((function(t){t.reject(new Hr(Gr.CANCELLED,e))}))})),this.pendingWritesCallbacks.clear()},yf.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n=(n=n||new fo(Ei)).insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},yf.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(Br(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},yf.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach((function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)}))}},yf.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},yf.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];i instanceof af?(this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i)):i instanceof sf?(Ur(ff,"Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):qr("Unknown limbo change: "+JSON.stringify(i))}},yf.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){Ur(ff,"New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=nh.atPath(t.path);this.limboResolutionsByTarget[n]=new df(t),this.remoteStore.listen(new zu(r,n,Vu.LimboResolution,Pi.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},yf.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},yf.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o=this;return c(this,(function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach((function(a,s){i.push(Promise.resolve().then((function(){var t=s.view.computeDocChanges(e);return t.needsRefill?o.localStore.executeQuery(s.query,!1).then((function(e){var n=e.documents;return s.view.computeDocChanges(n,t)})):t})).then((function(e){var i=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=rf.fromSnapshot(s.targetId,a.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}}))}))},yf.prototype.assertSubscribed=function(e){Br(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},yf.prototype.handleCredentialChange=function(e){return u(this,void 0,void 0,(function(){var t,n;return c(this,(function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},yf.prototype.applyPrimaryState=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u=this;return c(this,(function(c){switch(c.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return c.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=c.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),Zr(this.queryViewsByTarget,(function(e,t){u.sharedClientState.isLocalQueryTarget(e)?a.push(e):s=s.then((function(){return u.unlisten(t.query)})),u.remoteStore.unlisten(t.targetId)})),[4,s]);case 4:return c.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return c.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))},yf.prototype.resetLimboDocuments=function(){var e=this;Zr(this.limboResolutionsByTarget,(function(t){e.remoteStore.unlisten(t)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new fo(Wi.comparator)},yf.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,l;return c(this,(function(c){switch(c.label){case 0:t=[],n=[],r=0,i=e,c.label=1;case 1:return r<i.length?(o=i[r],a=void 0,(s=this.queryViewsByTarget[o])?[4,this.localStore.releaseQuery(s.query,!0)]:[3,5]):[3,11];case 2:return c.sent(),[4,this.localStore.allocateQuery(s.query)];case 3:return a=c.sent(),[4,this.synchronizeViewAndComputeSnapshot(s)];case 4:return(u=c.sent()).snapshot&&n.push(u.snapshot),[3,9];case 5:return Br(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return Br(!!(l=c.sent()),"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(l)];case 7:return a=c.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:c.sent(),c.label=9;case 9:t.push(a),c.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,t]}}))}))},yf.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},yf.prototype.applyTargetState=function(e,t,n){return u(this,void 0,void 0,(function(){var r,i,o;return c(this,(function(a){switch(a.label){case 0:if(this.isPrimary)return Ur(ff,"Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,7];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return r=a.sent(),i=Ml.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return a.sent(),[3,7];case 4:return o=this.queryViewsByTarget[e],this.removeAndCleanupQuery(o),[4,this.localStore.releaseQuery(o.query,!0)];case 5:return a.sent(),this.syncEngineListener.onWatchError(o.query,n),[3,7];case 6:qr("Unexpected target state: "+t),a.label=7;case 7:return[2]}}))}))},yf.prototype.applyActiveTargetsChange=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,h,f=this;return c(this,(function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,p.label=1;case 1:return n<r.length?(h=r[n],Br(!this.queryViewsByTarget[h],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return Br(!!(i=p.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=p.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:p.sent(),this.remoteStore.listen(o),p.label=5;case 5:return n++,[3,1];case 6:a=function(e){var t;return c(this,(function(n){switch(n.label){case 0:return(t=s.queryViewsByTarget[e])?[4,s.localStore.releaseQuery(t.query,!1).then((function(){f.remoteStore.unlisten(e),f.removeAndCleanupQuery(t)})).catch(pc)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))},s=this,u=0,l=t,p.label=7;case 7:return u<l.length?(h=l[u],[5,a(h)]):[3,10];case 8:p.sent(),p.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},yf.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},yf.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},yf.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?Po().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:Po()},yf);function yf(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Qs((function(e){return e.canonicalId()})),this.queryViewsByTarget={},this.limboTargetsByKey=new fo(Wi.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Ec,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=la.forSyncEngine(),this.isPrimary=void 0,this.onlineState=dl.Unknown}var vf=(gf.prototype.isAuthenticated=function(){return null!=this.uid},gf.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},gf.prototype.isEqual=function(e){return e.uid===this.uid},gf.UNAUTHENTICATED=new gf(null),gf.GOOGLE_CREDENTIALS=new gf("google-credentials-uid"),gf.FIRST_PARTY=new gf("first-party-uid"),gf);function gf(e){this.uid=e}var bf="SharedClientState",wf="firestore_clients",Ef="firestore_mutations",Tf="firestore_targets",Sf=(If.fromWebStorageEntry=function(e,t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Hr(r.error.code,r.error.message)),i?new If(e,t,r.state,o):(Fr(bf,"Failed to parse mutation state for ID '"+t+"': "+n),null)},If.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},If);function If(e,t,n,r){this.user=e,this.batchId=t,this.state=n,Br(void 0!==(this.error=r)==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}var kf=(Cf.fromWebStorageEntry=function(e,t){var n=JSON.parse(t),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new Hr(n.error.code,n.error.message)),r?new Cf(e,n.state,i):(Fr(bf,"Failed to parse target state for ID '"+e+"': "+t),null)},Cf.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},Cf);function Cf(e,t,n){this.targetId=e,this.state=t,Br(void 0!==(this.error=n)==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}var Af=(Nf.fromWebStorageEntry=function(e,t){for(var n=JSON.parse(t),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Lo(),o=0;r&&o<n.activeTargetIds.length;++o)r=Jc(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Nf(e,i):(Fr(bf,"Failed to parse client data for instance '"+e+"': "+t),null)},Nf);function Nf(e,t){this.clientId=e,this.activeTargetIds=t}var _f=(Df.fromWebStorageEntry=function(e){var t=JSON.parse(e);return"object"==typeof t&&t.onlineState in dl&&"string"==typeof t.clientId?new Df(t.clientId,dl[t.onlineState]):(Fr(bf,"Failed to parse online state: "+e),null)},Df);function Df(e,t){this.clientId=e,this.onlineState=t}var Of=(xf.prototype.addQueryTarget=function(e){Br(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},xf.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},xf.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},xf);function xf(){this.activeTargetIds=Lo()}var Pf=(Rf.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},Rf.prototype.start=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,l,h,f=this;return c(this,(function(c){switch(c.label){case 0:return Br(!this.started,"WebStorageSharedClientState already started"),Br(null!==this.syncEngine,"syncEngine property must be set before calling start()"),Br(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=c.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Af.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(s=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(s),u=0,l=this.earlyEvents;u<l.length;u++)h=l[u],this.handleWebStorageEvent(h);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},Rf.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},Rf.prototype.getAllActiveQueryTargets=function(){var e=Lo();return ei(this.activeClients,(function(t,n){e=e.unionWith(n.activeTargetIds)})),e},Rf.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},Rf.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},Rf.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},Rf.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=kf.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},Rf.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},Rf.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},Rf.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},Rf.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},Rf.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.removeMutationState(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},Rf.prototype.setOnlineState=function(e){this.persistOnlineState(e)},Rf.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},Rf.prototype.getItem=function(e){var t=this.storage.getItem(e);return Ur(bf,"READ",e,t),t},Rf.prototype.setItem=function(e,t){Ur(bf,"SET",e,t),this.storage.setItem(e,t)},Rf.prototype.removeItem=function(e){Ur(bf,"REMOVE",e),this.storage.removeItem(e)},Rf.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(Ur(bf,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return u(t,void 0,void 0,(function(){var t,n,r,i,o,a;return c(this,(function(s){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(o=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(o)]}else e.key===this.sequenceNumberKey&&(Br(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(e){var t=Pi.INVALID;if(null!=e)try{var n=JSON.parse(e);Br("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(e){Fr(bf,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue))!==Pi.INVALID&&this.sequenceNumberHandler(a));return[2]}))}))}))}},Object.defineProperty(Rf.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),Rf.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},Rf.prototype.persistMutationState=function(e,t,n){var r=new Sf(this.currentUser,e,t,n),i=this.toWebStorageMutationBatchKey(e);this.setItem(i,r.toWebStorageJSON())},Rf.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},Rf.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:dl[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},Rf.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),i=new kf(e,t,n);this.setItem(r,i.toWebStorageJSON())},Rf.prototype.toWebStorageClientStateKey=function(e){return Br(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),wf+"_"+this.persistenceKey+"_"+e},Rf.prototype.toWebStorageQueryTargetMetadataKey=function(e){return Tf+"_"+this.persistenceKey+"_"+e},Rf.prototype.toWebStorageMutationBatchKey=function(e){var t=Ef+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},Rf.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},Rf.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return Br(null!==n,"Cannot parse client state key '"+e+"'"),Af.fromWebStorageEntry(n,t)},Rf.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);Br(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Sf.fromWebStorageEntry(new vf(i),r,t)},Rf.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);Br(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return kf.fromWebStorageEntry(r,t)},Rf.prototype.fromWebStorageOnlineState=function(e){return _f.fromWebStorageEntry(e)},Rf.prototype.handleMutationBatchEvent=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){return e.user.uid!==this.currentUser.uid?(Ur(bf,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]}))}))},Rf.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},Rf.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach((function(e){return u(n,void 0,void 0,(function(){return c(this,(function(t){return r.has(e)||o.push(e),[2]}))}))})),r.forEach((function(e){return u(n,void 0,void 0,(function(){return c(this,(function(t){return i.has(e)||a.push(e),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(o,a)},Rf.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},Rf);function Rf(e,t,n,r,i){if(this.queue=e,this.platform=t,this.persistenceKey=n,this.localClientId=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!Rf.isAvailable(this.platform))throw new Hr(Gr.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey="firestore_sequence_number_"+n,this.activeClients[this.localClientId]=new Of,this.clientStateKeyRe=new RegExp("^"+wf+"_"+o+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Ef+"_"+o+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Tf+"_"+o+"_(\\d+)$"),this.onlineStateKey="firestore_online_state_"+n,this.platform.window.addEventListener("storage",this.storageListener)}var Lf=(Mf.prototype.addPendingMutation=function(e){},Mf.prototype.updateMutationState=function(e,t,n){},Mf.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},Mf.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},Mf.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},Mf.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},Mf.prototype.clearQueryState=function(e){delete this.queryState[e]},Mf.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},Mf.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},Mf.prototype.start=function(){return this.localState=new Of,Promise.resolve()},Mf.prototype.handleUserChange=function(e,t,n){},Mf.prototype.setOnlineState=function(e){},Mf.prototype.shutdown=function(){},Mf.prototype.writeSequenceNumber=function(e){},Mf);function Mf(){this.localState=new Of,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}var Vf="FirestoreClient",Uf=(Ff.prototype.lruParams=function(){return $u.withCacheSize(this.cacheSizeBytes)},Ff);function Ff(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}var jf=function(){},qf=(Bf.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new Yi,r=new Yi,i=!1;return this.credentials.setChangeListener((function(o){i?t.asyncQueue.enqueueAndForget((function(){return t.handleCredentialChange(o)})):(i=!0,t.initializePersistence(e,r,o).then((function(e){return t.initializeRest(o,e)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},Bf.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.enableNetwork()}))},Bf.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof Uf?this.startIndexedDbPersistence(n,e).then((function(e){return t.resolve(),e})).catch((function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()})):(t.resolve(),this.startMemoryPersistence())},Bf.prototype.canFallback=function(e){return e instanceof Hr?e.code===Gr.FAILED_PRECONDITION||e.code===Gr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},Bf.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Hr(Gr.FAILED_PRECONDITION,"The client has already been terminated.")},Bf.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=hc.buildStoragePrefix(this.databaseInfo),i=new Xh(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return u(n,void 0,void 0,(function(){var n,o;return c(this,(function(a){switch(a.label){case 0:if(t.synchronizeTabs&&!Pf.isAvailable(this.platform))throw new Hr(Gr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new Pf(this.asyncQueue,this.platform,r,this.clientId,e):new Lf,[4,hc.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=a.sent(),[2,(this.persistence=o).referenceDelegate.garbageCollector]}}))}))}))},Bf.prototype.startMemoryPersistence=function(){return this.persistence=Mc.createEagerPersistence(this.clientId),this.sharedClientState=new Lf,Promise.resolve(null)},Bf.prototype.initializeRest=function(e,t){var n=this;return Ur(Vf,"Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return u(n,void 0,void 0,(function(){var n,i,o,a,s,l,h=this;return c(this,(function(f){switch(f.label){case 0:return n=new Wc,this.localStore=new Cc(this.persistence,n,e),[4,this.localStore.start()];case 1:return f.sent(),t&&(this.lruScheduler=new Zu(t,this.asyncQueue,this.localStore)),i=this.platform.newConnectivityMonitor(),o=this.platform.newSerializer(this.databaseInfo.databaseId),a=new fl(this.asyncQueue,r,this.credentials,o),s=function(e){return h.syncEngine.applyOnlineStateChange(e,yl.RemoteStore)},l=function(e){return h.syncEngine.applyOnlineStateChange(e,yl.SharedClientState)},this.remoteStore=new Jl(this.localStore,a,this.asyncQueue,s,i),this.syncEngine=new mf(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=l,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Zh(this.syncEngine),[4,this.sharedClientState.start()];case 2:return f.sent(),[4,this.remoteStore.start()];case 3:return f.sent(),[4,this.persistence.setPrimaryStateListener((function(e){return u(h,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}}))}))}))];case 4:return f.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return u(h,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))}))];case 5:return f.sent(),[2]}}))}))}))},Bf.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),Ur(Vf,"Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},Bf.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.disableNetwork()}))},Bf.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return u(e,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},Bf.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new Yi;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.registerPendingWritesCallback(t)})),t.promise},Bf.prototype.listen=function(e,t,n){var r=this;this.verifyNotTerminated();var i=new tf(e,t,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(i)})),i},Bf.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.unlisten(e)}))},Bf.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.readDocument(e)})).then((function(e){if(e instanceof Us)return e;if(e instanceof qs)return null;throw new Hr(Gr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},Bf.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return u(t,void 0,void 0,(function(){var t,n,r;return c(this,(function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return t=i.sent(),n=new uf(e,t.remoteKeys),r=n.computeDocChanges(t.documents),[2,n.applyChanges(r,!1).snapshot]}}))}))}))},Bf.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new Yi;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.write(e,n)})),n.promise},Bf.prototype.databaseId=function(){return this.databaseInfo.databaseId},Bf.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()}))},Bf.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(Bf.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),Bf.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new Yi;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()})),n.promise},Bf);function Bf(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=bi.newId()}var zf=(Kf.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},Kf.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},Kf.prototype.mute=function(){this.muted=!0},Kf.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},Kf);function Kf(e){this.observer=e,this.muted=!1}var Wf=(Qf.documentId=function(){return Qf._DOCUMENT_ID},Qf.prototype.isEqual=function(e){if(!(e instanceof Qf))throw yi("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},Qf._DOCUMENT_ID=new Qf(zi.keyField().canonicalString()),Qf);function Qf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new Hr(Gr.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+gi(1,"element")+".")}(0,e);for(var n=0;n<e.length;++n)if(ai("FieldPath","string",n,e[n]),0===e[n].length)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(e)}var Gf=new RegExp("[~\\*/\\[\\]]"),Hf=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}},Yf=(Xf.prototype.getToken=function(){return Promise.resolve(null)},Xf.prototype.invalidateToken=function(){},Xf.prototype.setChangeListener=function(e){Br(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=e)(vf.UNAUTHENTICATED)},Xf.prototype.removeChangeListener=function(){Br(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},Xf);function Xf(){this.changeListener=null}var $f=(Jf.prototype.getToken=function(){var e=this;Br(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(e.tokenCounter!==t)throw new Hr(Gr.ABORTED,"getToken aborted due to token change.");return n?(Br("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Hf(n.accessToken,e.currentUser)):null}))},Jf.prototype.invalidateToken=function(){this.forceRefresh=!0},Jf.prototype.setChangeListener=function(e){Br(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=e)(this.currentUser)},Jf.prototype.removeChangeListener=function(){Br(null!=this.tokenListener,"removeChangeListener() called twice"),Br(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},Jf.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return Br(null===e||"string"==typeof e,"Received invalid UID: "+e),new vf(e)},Jf);function Jf(e){var t=this;this.app=e,this.tokenListener=null,this.currentUser=vf.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}var Zf=(Object.defineProperty(ep.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),ep);function ep(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=vf.FIRST_PARTY}var tp=(np.prototype.getToken=function(){return Promise.resolve(new Zf(this.gapi,this.sessionIndex))},np.prototype.setChangeListener=function(e){e(vf.FIRST_PARTY)},np.prototype.removeChangeListener=function(){},np.prototype.invalidateToken=function(){},np);function np(e,t){this.gapi=e,this.sessionIndex=t}function rp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var ip=(op.delete=function(){return ni("FieldValue.delete",arguments),sp.instance},op.serverTimestamp=function(){return ni("FieldValue.serverTimestamp",arguments),lp.instance},op.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ii("FieldValue.arrayUnion",arguments,1),new pp(e)},op.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ii("FieldValue.arrayRemove",arguments,1),new yp(e)},op.increment=function(e){return ai("FieldValue.increment","number",1,e),ri("FieldValue.increment",arguments,1),new bp(e)},op.prototype.isEqual=function(e){return this===e},op);function op(e){this._methodName=e}var ap,sp=(i(up,ap=ip),up.instance=new up,up);function up(){return ap.call(this,"FieldValue.delete")||this}var cp,lp=(i(hp,cp=ip),hp.instance=new hp,hp);function hp(){return cp.call(this,"FieldValue.serverTimestamp")||this}var fp,pp=(i(dp,fp=ip),dp);function dp(e){var t=fp.call(this,"FieldValue.arrayUnion")||this;return t._elements=e,t}var mp,yp=(i(vp,mp=ip),vp);function vp(e){var t=mp.call(this,"FieldValue.arrayRemove")||this;return t._elements=e,t}var gp,bp=(i(wp,gp=ip),wp);function wp(e){var t=gp.call(this,"FieldValue.increment")||this;return t._operand=e,t}var Ep=Xr(ip,"Use FieldValue.<field>() instead."),Tp=/^__.*__$/,Sp=(Ip.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new Pa(e,this.data,this.fieldMask,t)):n.push(new Da(e,this.data,t)),0<this.fieldTransforms.length&&n.push(new Ma(e,this.fieldTransforms)),n},Ip);function Ip(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}var kp,Cp,Ap=(Np.prototype.toMutations=function(e,t){var n=[new Pa(e,this.data,this.fieldMask,t)];return 0<this.fieldTransforms.length&&n.push(new Ma(e,this.fieldTransforms)),n},Np);function Np(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function _p(e){switch(e){case kp.Set:case kp.MergeSet:case kp.Update:return!0;case kp.Argument:return!1;default:throw qr("Unexpected case for UserDataSource: "+e)}}(Cp=kp=kp||{})[Cp.Set=0]="Set",Cp[Cp.Update=1]="Update",Cp[Cp.MergeSet=2]="MergeSet",Cp[Cp.Argument=3]="Argument";var Dp=(Op.prototype.childContextForField=function(e){var t=null==this.path?null:this.path.child(e),n=new Op(this.dataSource,this.methodName,t,!1,this.fieldTransforms,this.fieldMask);return n.validatePathSegment(e),n},Op.prototype.childContextForFieldPath=function(e){var t=null==this.path?null:this.path.child(e),n=new Op(this.dataSource,this.methodName,t,!1,this.fieldTransforms,this.fieldMask);return n.validatePath(),n},Op.prototype.childContextForArray=function(e){return new Op(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},Op.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new Hr(Gr.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},Op.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},Op.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},Op.prototype.validatePathSegment=function(e){if(_p(this.dataSource)&&Tp.test(e))throw this.createError("Document fields cannot begin and end with __")},Op);function Op(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}var xp=function(e,t){this.databaseId=e,this.key=t},Pp=(Rp.prototype.parseSetData=function(e,t){var n=new Dp(kp.Set,e,zi.EMPTY_PATH);Mp("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new Sp(r,null,n.fieldTransforms)},Rp.prototype.parseMergeData=function(e,t,n){var r=new Dp(kp.MergeSet,e,zi.EMPTY_PATH);Mp("Data must be an object, but it was:",r,t);var i,o,a=this.parseData(t,r);if(n){for(var s=new Eo(zi.comparator),u=0,c=n;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof Wf)h=l._internalPath;else{if("string"!=typeof l)throw qr("Expected stringOrFieldPath to be a string or a FieldPath");h=Up(e,l)}if(!r.contains(h))throw new Hr(Gr.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}i=ga.fromSet(s),o=r.fieldTransforms.filter((function(e){return i.covers(e.field)}))}else i=ga.fromArray(r.fieldMask),o=r.fieldTransforms;return new Sp(a,i,o)},Rp.prototype.parseUpdateData=function(e,t){var n=this,r=new Dp(kp.Update,e,zi.EMPTY_PATH);Mp("Data must be an object, but it was:",r,t);var i=new Eo(zi.comparator),o=Ds.EMPTY;ei(t,(function(t,a){var s=Up(e,t),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof sp)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}}));var a=ga.fromSet(i);return new Ap(o,a,r.fieldTransforms)},Rp.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new Dp(kp.Update,e,zi.EMPTY_PATH),o=[Vp(e,t)],a=[n];if(r.length%2!=0)throw new Hr(Gr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(Vp(e,r[s])),a.push(r[s+1]);var u=new Eo(zi.comparator),c=Ds.EMPTY;for(s=0;s<o.length;++s){var l=o[s],h=i.childContextForFieldPath(l),f=this.runPreConverter(a[s],h);if(f instanceof sp)u=u.add(l);else{var p=this.parseData(f,h);null!=p&&(u=u.add(l),c=c.set(l,p))}}var d=ga.fromSet(u);return new Ap(c,d,i.fieldTransforms)},Rp.prototype.parseQueryValue=function(e,t){var n=new Dp(kp.Argument,e,zi.EMPTY_PATH),r=this.parseData(t,n);return Br(null!=r,"Parsed data should not be null."),Br(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},Rp.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(e){var n=Fp(e);throw t.createError(n)}},Rp.prototype.parseData=function(e,t){if(Lp(e=this.runPreConverter(e,t)))return Mp("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof ip)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},Rp.prototype.parseObject=function(e,t){var n=this,r=new fo(Ei);return ti(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):ei(e,(function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))})),new Ds(r)},Rp.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=o[i],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=Xa.INSTANCE),n.push(s),r++}return new Ps(n)},Rp.prototype.parseSentinelFieldValue=function(e,t){if(!_p(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof sp){if(t.dataSource!==kp.MergeSet)throw t.dataSource===kp.Update?(Br(0<t.path.length,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof lp)t.fieldTransforms.push(new wa(t.path,xh.instance));else if(e instanceof pp){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new Rh(n);t.fieldTransforms.push(new wa(t.path,r))}else if(e instanceof yp){n=this.parseArrayTransformElements(e._methodName,e._elements);var i=new Mh(n);t.fieldTransforms.push(new wa(t.path,i))}else if(e instanceof bp){var o=this.parseQueryValue("FieldValue.increment",e._operand),a=new Uh(o);t.fieldTransforms.push(new wa(t.path,a))}else qr("Unknown FieldValue type: "+e)},Rp.prototype.parseScalarValue=function(e,t){if(null===e)return Xa.INSTANCE;if("number"==typeof e)return Jc(e)?new as(e):new cs(e);if("boolean"==typeof e)return Za.of(e);if("string"==typeof e)return new fs(e);if(e instanceof Date)return new ms(uo.fromDate(e));if(e instanceof uo)return new ms(new uo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof eh)return new As(e);if(e instanceof Ci)return new Es(e);if(e instanceof xp)return new Is(e.databaseId,e.key);throw t.createError("Unsupported field value: "+pi(e))},Rp.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map((function(t,r){var i=new Dp(kp.Argument,e,zi.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))}))},Rp);function Rp(e){this.preConverter=e}function Lp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof uo||e instanceof eh||e instanceof Ci||e instanceof xp||e instanceof ip)}function Mp(e,t,n){if(!Lp(n)||!fi(n)){var r=pi(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function Vp(e,t){if(t instanceof Wf)return t._internalPath;if("string"==typeof t)return Up(e,t);throw new Hr(Gr.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Up(e,t){try{return function(e){if(0<=e.search(Gf))throw new Hr(Gr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Wf.bind.apply(Wf,l([void 0],e.split("."))))}catch(t){throw new Hr(Gr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(t){var n=Fp(t);throw new Hr(Gr.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function Fp(e){return e instanceof Error?e.message:e.toString()}var jp=$u.COLLECTION_DISABLED,qp=(Bp.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},Bp);function Bp(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Hr(Gr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else ui("settings","non-empty string","host",e.host),this.host=e.host,ci("settings","boolean","ssl",e.ssl),this.ssl=Jr(e.ssl,!0);if(mi("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),ci("settings","object","credentials",e.credentials),this.credentials=e.credentials,ci("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?Fr("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&Fr("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=Jr(e.timestampsInSnapshots,!0),ci("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=$u.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==jp&&e.cacheSizeBytes<$u.MINIMUM_CACHE_SIZE_BYTES)throw new Hr(Gr.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+$u.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}ci("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0!==e.experimentalForceLongPolling&&e.experimentalForceLongPolling}var zp=(Kp.prototype.settings=function(e){if(ri("Firestore.settings",arguments,1),ai("Firestore.settings","object",1,e),$r(e,"persistence"))throw new Hr(Gr.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new qp(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new Hr(Gr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this._settings=t).credentials&&(this._credentials=function(e){if(!e)return new Yf;switch(e.type){case"gapi":var t=e.client;return Br(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new tp(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new Hr(Gr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},Kp.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},Kp.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},Kp.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new Hr(Gr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&Fr("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=Jr(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new Uf(this._settings.cacheSizeBytes,t))},Kp.prototype.clearPersistence=function(){var e=this,t=hc.buildStoragePrefix(this.makeDatabaseInfo()),n=new Yi;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return u(e,void 0,void 0,(function(){var e;return c(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new Hr(Gr.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,hc.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},Kp.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(Kp.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),Kp.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},Kp.prototype.onSnapshotsInSync=function(e){if(this.ensureClientConfigured(),rp(e))return this.onSnapshotsInSyncInternal(e);ai("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.onSnapshotsInSyncInternal(t)},Kp.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new zf({next:function(){e.next&&e.next()},error:function(e){throw qr("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},Kp.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new jf),this._firestoreClient},Kp.prototype.makeDatabaseInfo=function(){return new _i(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},Kp.prototype.configureClient=function(e){Br(!!this._settings.host,"FirestoreSettings.host is not set"),Br(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new qf(zr.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},Kp.prototype.createDataConverter=function(e){return new Pp((function(t){if(t instanceof Yp){var n=e,r=t.firestore._databaseId;if(!r.isEqual(n))throw new Hr(Gr.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new xp(e,t._key)}return t}))},Kp.databaseIdFromApp=function(e){var t=e.options;if(!$r(t,"projectId"))throw new Hr(Gr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new Hr(Gr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Oi(n)},Object.defineProperty(Kp.prototype,"app",{get:function(){if(!this._firebaseApp)throw new Hr(Gr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),Kp.prototype.collection=function(e){return ri("Firestore.collection",arguments,1),ai("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new cd(Fi.fromString(e),this)},Kp.prototype.doc=function(e){return ri("Firestore.doc",arguments,1),ai("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),Yp.forPath(Fi.fromString(e),this)},Kp.prototype.collectionGroup=function(e){if(ri("Firestore.collectionGroup",arguments,1),ai("Firestore.collectionGroup","non-empty string",1,e),0<=e.indexOf("/"))throw new Hr(Gr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new id(new nh(Fi.EMPTY_PATH,e),this)},Kp.prototype.runTransaction=function(e){var t=this;return ri("Firestore.runTransaction",arguments,1),ai("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new Wp(t,n))}))},Kp.prototype.batch=function(){return this.ensureClientConfigured(),new Gp(this)},Object.defineProperty(Kp,"logLevel",{get:function(){switch(Mr()){case Cr.DEBUG:return"debug";case Cr.ERROR:return"error";case Cr.SILENT:return"silent";default:return qr("Unknown log level: "+Mr())}},enumerable:!0,configurable:!0}),Kp.setLogLevel=function(e){switch(ri("Firestore.setLogLevel",arguments,1),ai("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":Vr(Cr.DEBUG);break;case"error":Vr(Cr.ERROR);break;case"silent":Vr(Cr.SILENT);break;default:throw new Hr(Gr.INVALID_ARGUMENT,"Invalid log level: "+e)}},Kp.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},Kp);function Kp(e){var t=this;if(this._firebaseApp=null,this._queue=new Ji,this.INTERNAL={delete:function(){return u(t,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof e.options){var n=e;this._firebaseApp=n,this._databaseId=Kp.databaseIdFromApp(n),this._persistenceKey=n.name,this._credentials=new $f(n)}else{var r=e;if(!r.projectId)throw new Hr(Gr.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new Oi(r.projectId,r.database),this._persistenceKey="[DEFAULT]",this._credentials=new Yf}this._settings=new qp({}),this._dataConverter=this.createDataConverter(this._databaseId)}var Wp=(Qp.prototype.get=function(e){var t=this;ri("Transaction.get",arguments,1);var n=dd("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return qr("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof qs)return new Zp(t._firestore,n._key,null,!1,!1);if(r instanceof Us)return new Zp(t._firestore,n._key,r,!1,!1);throw qr("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},Qp.prototype.set=function(e,t,n){oi("Transaction.set",arguments,2,3);var r=dd("Transaction.set",e,this._firestore),i=(n=hd("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,i),this},Qp.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return i="string"==typeof t||t instanceof Wf?(ii("Transaction.update",arguments,3),r=dd("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(ri("Transaction.update",arguments,2),r=dd("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,i),this},Qp.prototype.delete=function(e){ri("Transaction.delete",arguments,1);var t=dd("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},Qp);function Qp(e,t){this._firestore=e,this._transaction=t}var Gp=(Hp.prototype.set=function(e,t,n){oi("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=dd("WriteBatch.set",e,this._firestore),i=(n=hd("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(i.toMutations(r._key,ka.NONE)),this},Hp.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),i="string"==typeof t||t instanceof Wf?(ii("WriteBatch.update",arguments,3),r=dd("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(ri("WriteBatch.update",arguments,2),r=dd("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(i.toMutations(r._key,ka.exists(!0))),this},Hp.prototype.delete=function(e){ri("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=dd("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new za(t._key,ka.NONE)),this},Hp.prototype.commit=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){return this.verifyNotCommitted(),this._committed=!0,0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},Hp.prototype.verifyNotCommitted=function(){if(this._committed)throw new Hr(Gr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Hp);function Hp(e){this._firestore=e,this._mutations=[],this._committed=!1}var Yp=(Xp.forPath=function(e,t){if(e.length%2!=0)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new Xp(new Wi(e),t)},Object.defineProperty(Xp.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(Xp.prototype,"parent",{get:function(){return new cd(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(Xp.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),Xp.prototype.collection=function(e){if(ri("DocumentReference.collection",arguments,1),ai("DocumentReference.collection","non-empty string",1,e),!e)throw new Hr(Gr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=Fi.fromString(e);return new cd(this._key.path.child(t),this.firestore)},Xp.prototype.isEqual=function(e){if(!(e instanceof Xp))throw yi("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},Xp.prototype.set=function(e,t){oi("DocumentReference.set",arguments,1,2);var n=(t=hd("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,ka.NONE))},Xp.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof e||e instanceof Wf?(ii("DocumentReference.update",arguments,2),this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(ri("DocumentReference.update",arguments,1),this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,ka.exists(!0)))},Xp.prototype.delete=function(){return ri("DocumentReference.delete",arguments,0),this._firestoreClient.write([new za(this._key,ka.NONE)])},Xp.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];oi("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||rp(e[i])||(mi("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),ci("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return n=rp(e[i])?e[i]:(ai("DocumentReference.onSnapshot","function",i,e[i]),si("DocumentReference.onSnapshot","function",i+1,e[i+1]),si("DocumentReference.onSnapshot","function",i+2,e[i+2]),{next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},Xp.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new zf({next:function(e){if(t.next){Br(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new Zp(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(nh.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(o)}},Xp.prototype.get=function(e){var t=this;return oi("DocumentReference.get",arguments,0,1),pd("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then((function(e){n(new Zp(t.firestore,t._key,e,!0,e instanceof Us&&e.hasLocalMutations))}),r):t.getViaSnapshotListener(n,r,e)}))},Xp.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new Hr(Gr.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new Hr(Gr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},Xp);function Xp(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}var $p=(Jp.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},Jp);function Jp(e,t){this.hasPendingWrites=e,this.fromCache=t}var Zp=(ed.prototype.data=function(e){return oi("DocumentSnapshot.data",arguments,0,1),e=fd("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data(),Wa.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},ed.prototype.get=function(e,t){if(oi("DocumentSnapshot.get",arguments,1,2),t=fd("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(Vp("DocumentSnapshot.get",e));if(null!==n)return this.convertValue(n,Wa.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(ed.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(ed.prototype,"ref",{get:function(){return new Yp(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(ed.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(ed.prototype,"metadata",{get:function(){return new $p(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),ed.prototype.isEqual=function(e){if(!(e instanceof ed))throw yi("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},ed.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach((function(e,i){r[e]=n.convertValue(i,t)})),r},ed.prototype.convertValue=function(e,t){if(e instanceof Ds)return this.convertObject(e,t);if(e instanceof Ps)return this.convertArray(e,t);if(e instanceof Is){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||Fr("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Yp(n,this._firestore)}return e.value(t)},ed.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map((function(e){return n.convertValue(e,t)}))},ed);function ed(e,t,n,r,i){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i}var td,nd=(i(rd,td=Zp),rd.prototype.data=function(e){var t=td.prototype.data.call(this,e);return Br("object"==typeof t,"Document in a QueryDocumentSnapshot should exist"),t},rd);function rd(){return null!==td&&td.apply(this,arguments)||this}var id=(od.prototype.where=function(e,t,n){ri("Query.where",arguments,3),di("Query.where",3,n),"in"!==t&&"array-contains-any"!==t&&function(e,t,n,r){if(!t.some((function(e){return e===r})))throw new Hr(Gr.INVALID_ARGUMENT,"Invalid value "+pi(r)+" provided to function Query.where() for its "+vi(2)+" argument. Acceptable values: "+t.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,t);var r,i=Vp("Query.where",e),o=ih.fromString(t);if(i.isKeyField()){if(o===ih.ARRAY_CONTAINS||o===ih.ARRAY_CONTAINS_ANY)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o.toString()+"' queries on FieldPath.documentId().");if(o===ih.IN){this.validateDisjunctiveFilterElements(n,o);for(var a=[],s=0,u=n;s<u.length;s++){var c=u[s];a.push(this.parseDocumentIdValue(c))}r=new Ps(a)}else r=this.parseDocumentIdValue(n)}else o!==ih.IN&&o!==ih.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(n,o),r=this.firestore._dataConverter.parseQueryValue("Query.where",n);var l=sh.create(i,o,r);return this.validateNewFilter(l),new od(this._query.addFilter(l),this.firestore)},od.prototype.orderBy=function(e,t){var n;if(oi("Query.orderBy",arguments,1,2),si("Query.orderBy","non-empty string",2,t),void 0===t||"asc"===t)n=Ih.ASCENDING;else{if("desc"!==t)throw new Hr(Gr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+t+"', expected 'asc' or 'desc'.");n=Ih.DESCENDING}if(null!==this._query.startAt)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=Vp("Query.orderBy",e),i=new Nh(r,n);return this.validateNewOrderBy(i),new od(this._query.addOrderBy(i),this.firestore)},od.prototype.limit=function(e){if(ri("Query.limit",arguments,1),ai("Query.limit","number",1,e),e<=0)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new od(this._query.withLimit(e),this.firestore)},od.prototype.startAt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ii("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",e,t,!0);return new od(this._query.withStartAt(r),this.firestore)},od.prototype.startAfter=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ii("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",e,t,!1);return new od(this._query.withStartAt(r),this.firestore)},od.prototype.endBefore=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ii("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",e,t,!0);return new od(this._query.withEndAt(r),this.firestore)},od.prototype.endAt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ii("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",e,t,!1);return new od(this._query.withEndAt(r),this.firestore)},od.prototype.isEqual=function(e){if(!(e instanceof od))throw yi("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},od.prototype.boundFromDocOrFields=function(e,t,n,r){if(di(e,1,t),t instanceof Zp){if(0<n.length)throw new Hr(Gr.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new Hr(Gr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},od.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Is(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(s instanceof gs)throw new Hr(Gr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new Hr(Gr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Ch(r,n)},od.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new Hr(Gr.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new Hr(Gr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(Fi.fromString(a));if(!Wi.isDocumentKey(s))throw new Hr(Gr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new Wi(s);i.push(new Is(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(e,a);i.push(c)}}return new Ch(i,n)},od.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];oi("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||rp(e[i])||(mi("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),ci("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),n=rp(e[i])?e[i]:(ai("Query.onSnapshot","function",i,e[i]),si("Query.onSnapshot","function",i+1,e[i+1]),si("Query.onSnapshot","function",i+2,e[i+2]),{next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},od.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new zf({next:function(e){t.next&&t.next(new ad(n.firestore,n._query,e))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,e);return function(){i.mute(),o.unlisten(a)}},od.prototype.get=function(e){var t=this;return oi("Query.get",arguments,0,1),pd("Query.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then((function(e){n(new ad(t.firestore,t._query,e))}),r):t.getViaSnapshotListener(n,r,e)}))},od.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new Hr(Gr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},od.prototype.parseDocumentIdValue=function(e){if("string"==typeof e){if(""===e)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new Hr(Gr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(Fi.fromString(e));if(!Wi.isDocumentKey(t))throw new Hr(Gr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new Is(this.firestore._databaseId,new Wi(t))}if(e instanceof Yp){var n=e;return new Is(this.firestore._databaseId,n._key)}throw new Hr(Gr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+pi(e)+".")},od.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(10<e.length)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(0<=e.indexOf(null))throw new Hr(Gr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(0<e.filter((function(e){return Number.isNaN(e)})).length)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},od.prototype.validateNewFilter=function(e){if(e instanceof sh){var t=[ih.ARRAY_CONTAINS,ih.ARRAY_CONTAINS_ANY],n=[ih.IN,ih.ARRAY_CONTAINS_ANY],r=0<=t.indexOf(e.op),i=0<=n.indexOf(e.op);if(e.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(e.field))throw new Hr(Gr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(e.field,a)}else if(i||r){var s=null;if(i&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(t)),null!=s)throw s===e.op?new Hr(Gr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Hr(Gr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},od.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},od.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new Hr(Gr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},od);function od(e,t){this._query=e,this.firestore=t}var ad=(Object.defineProperty(sd.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(sd.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(sd.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),sd.prototype.forEach=function(e,t){var n=this;oi("QuerySnapshot.forEach",arguments,1,2),ai("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(r){e.call(t,n.convertToDocumentImpl(r))}))},Object.defineProperty(sd.prototype,"query",{get:function(){return new id(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),sd.prototype.docChanges=function(e){e&&(mi("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),ci("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new Hr(Gr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map((function(t){var o=new nd(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return Br(t.type===Cl.Added,"Invalid event type for first snapshot"),Br(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.oldDocs;return n.docChanges.filter((function(e){return t||e.type!==Cl.Metadata})).map((function(t){var r=new nd(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),i=-1,a=-1;return t.type!==Cl.Added&&(Br(0<=(i=o.indexOf(t.doc.key)),"Index for document not found"),o=o.delete(t.doc.key)),t.type!==Cl.Removed&&(a=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case Cl.Added:return"added";case Cl.Modified:case Cl.Metadata:return"modified";case Cl.Removed:return"removed";default:return qr("Unknown change type: "+e)}}(t.type),doc:r,oldIndex:i,newIndex:a}}))}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},sd.prototype.isEqual=function(e){if(!(e instanceof sd))throw yi("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},sd.prototype.convertToDocumentImpl=function(e){return new nd(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},sd);function sd(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new $p(n.hasPendingWrites,n.fromCache)}l(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(e){try{Object.defineProperty(ad.prototype.docChanges,e,{get:function(){return function(){throw new Hr(Gr.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}}));var ud,cd=(i(ld,ud=id),Object.defineProperty(ld.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(ld.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new Yp(new Wi(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(ld.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),ld.prototype.doc=function(e){if(oi("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=bi.newId()),ai("CollectionReference.doc","non-empty string",1,e),""===e)throw new Hr(Gr.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=Fi.fromString(e);return Yp.forPath(this._query.path.child(t),this.firestore)},ld.prototype.add=function(e){ri("CollectionReference.add",arguments,1),ai("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then((function(){return t}))},ld);function ld(e,t){var n=ud.call(this,nh.atPath(e),t)||this;if(e.length%2!=1)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return n}function hd(e,t){if(void 0===t)return{merge:!1};if(mi(e,t,["merge","mergeFields"]),ci(e,"boolean","merge",t.merge),function(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new Hr(Gr.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+pi(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new Hr(Gr.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+o+" was: "+pi(r[o]))}(e,t,n,r,i)}(e,"mergeFields","a string or a FieldPath",t.mergeFields,(function(e){return"string"==typeof e||e instanceof Wf})),void 0!==t.mergeFields&&void 0!==t.merge)throw new Hr(Gr.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function fd(e,t){return void 0===t?{}:(mi(e,t,["serverTimestamps"]),li(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function pd(e,t){si(e,"object",1,t),t&&(mi(e,t,["source"]),li(e,0,"source",t.source,["default","server","cache"]))}function dd(e,t,n){if(t instanceof Yp){if(t.firestore!==n)throw new Hr(Gr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw yi(e,"DocumentReference",1,t)}var md=Xr(zp,"Use firebase.firestore() instead."),yd=Xr(Wp,"Use firebase.firestore().runTransaction() instead."),vd=Xr(Gp,"Use firebase.firestore().batch() instead."),gd=Xr(Yp,"Use firebase.firestore().doc() instead."),bd=Xr(Zp),wd=Xr(nd),Ed=Xr(id),Td=Xr(ad),Sd=Xr(cd,"Use firebase.firestore().collection() instead."),Id={Firestore:md,GeoPoint:eh,Timestamp:uo,Blob:Ni,Transaction:yd,WriteBatch:vd,DocumentReference:gd,DocumentSnapshot:bd,Query:Ed,QueryDocumentSnapshot:wd,QuerySnapshot:Td,CollectionReference:Sd,FieldPath:Wf,FieldValue:Ep,setLogLevel:zp.setLogLevel,CACHE_SIZE_UNLIMITED:jp},kd=(Cd.prototype.addCallback=function(e){},Cd.prototype.shutdown=function(){},Cd);function Cd(){}var Ad="ConnectivityMonitor",Nd=(_d.prototype.addCallback=function(e){this.callbacks.push(e)},_d.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},_d.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},_d.prototype.onNetworkAvailable=function(){Ur(Ad,"Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(0)},_d.prototype.onNetworkUnavailable=function(){Ur(Ad,"Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(1)},_d.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},_d);function _d(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}var Dd=(Od.prototype.onOpen=function(e){Br(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},Od.prototype.onClose=function(e){Br(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},Od.prototype.onMessage=function(e){Br(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},Od.prototype.close=function(){this.closeFn()},Od.prototype.send=function(e){this.sendFn(e)},Od.prototype.callOnOpen=function(){Br(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},Od.prototype.callOnClose=function(e){Br(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},Od.prototype.callOnMessage=function(e){Br(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},Od);function Od(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}var xd="Connection",Pd={BatchGetDocuments:"batchGet",Commit:"commit"},Rd="gl-js/ fire/"+Rr,Ld=(Md.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=Rd},Md.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise((function(o,a){var u=new Pr;u.listenOnce(Or.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Dr.NO_ERROR:var t=u.getResponseJson();Ur(xd,"XHR received:",JSON.stringify(t)),o(t);break;case Dr.TIMEOUT:Ur(xd,'RPC "'+e+'" timed out'),a(new Hr(Gr.DEADLINE_EXCEEDED,"Request time out"));break;case Dr.HTTP_ERROR:var n=u.getStatus();if(Ur(xd,'RPC "'+e+'" failed with status:',n,"response text:",u.getResponseText()),0<n){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=function(e){var t=e.toLowerCase().replace("_","-");return 0<=Object.values(Gr).indexOf(t)?t:Gr.UNKNOWN}(r.status);a(new Hr(i,r.message))}else a(new Hr(Gr.UNKNOWN,"Server responded with status "+u.getStatus()))}else Ur(xd,'RPC "'+e+'" failed'),a(new Hr(Gr.UNAVAILABLE,"Connection failed."));break;default:qr('RPC "'+e+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{Ur(xd,'RPC "'+e+'" completed.')}}));var c=s({},t);delete c.database;var l=JSON.stringify(c);Ur(xd,"XHR sending: ",i+" "+l);var h={"Content-Type":"text/plain"};r.modifyHeadersForRequest(h,n),u.send(i,"POST",l,h,15)}))},Md.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},Md.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=_r(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,t),"object"==typeof navigator&&"ReactNative"===navigator.product||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");function a(e,t){s.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))}Ur(xd,"Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,c=!1,l=new Dd({sendFn:function(e){c?Ur(xd,"Not sending because WebChannel is closed:",e):(u||(Ur(xd,"Opening WebChannel transport."),s.open(),u=!0),Ur(xd,"WebChannel sending:",e),s.send(e))},closeFn:function(){return s.close()}});return a(xr.EventType.OPEN,(function(){c||Ur(xd,"WebChannel transport opened.")})),a(xr.EventType.CLOSE,(function(){c||(c=!0,Ur(xd,"WebChannel transport closed"),l.callOnClose())})),a(xr.EventType.ERROR,(function(e){c||(c=!0,Ur(xd,"WebChannel transport errored:",e),l.callOnClose(new Hr(Gr.UNAVAILABLE,"The operation could not be completed")))})),a(xr.EventType.MESSAGE,(function(e){if(!c){var t=e.data[0];Br(!!t,"Got a webchannel message without data.");var n=t,r=n.error||n[0]&&n[0].error;if(r){Ur(xd,"WebChannel received error:",r);var i=r.status,o=function(e){var t=wl[e];if(void 0!==t)return kl(t)}(i),a=r.message;void 0===o&&(o=Gr.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.callOnClose(new Hr(o,a)),s.close()}else Ur(xd,"WebChannel received:",t),l.callOnMessage(t)}})),setTimeout((function(){l.callOnOpen()}),0),l},Md.prototype.makeUrl=function(e){var t=Pd[e];Br(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},Md);function Md(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}var Vd=(Object.defineProperty(Ud.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(Ud.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),Ud.prototype.loadConnection=function(e){return Promise.resolve(new Ld(e))},Ud.prototype.newConnectivityMonitor=function(){return Nd.isAvailable()?new Nd:new kd},Ud.prototype.newSerializer=function(e){return new Xh(e,{useProto3Json:!0})},Ud.prototype.formatJSON=function(e){return JSON.stringify(e)},Ud.prototype.atob=function(e){return atob(e)},Ud.prototype.btoa=function(e){return btoa(e)},Ud);function Ud(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}zr.setPlatform(new Vd),function(e){e.INTERNAL.registerService("firestore",(function(e){return new zp(e)}),function(e){Br(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(Id))}(n)}).apply(this,arguments)}catch(e){throw console.error(e),new Error("Cannot instantiate firebase-firestore - be sure to load firebase-app.js first.")}}(n(3))}).call(this,n(32),n(43))}]]);